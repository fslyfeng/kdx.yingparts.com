(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1051:function(t,s,o){"use strict";o.r(s);var i=function(){var t=this,s=t._self._c;return s("Container",[s("Breadcrumbs",{attrs:{list:t.breadcrumbsList}}),s("ul",{ref:"boxs-container",staticClass:"box-list"},[s("li",{staticClass:"box-item box-item-promo"},[s("a",{attrs:{href:t.goodsInfo.main_img_url}},[s("img",{attrs:{src:t.$utils.mediaUrl(t.goodsInfo.main_img),alt:""}})])]),t._l(t.goodsList,(function(o,i){return[s("li",{key:i,staticClass:"box-item"},[s("a",{on:{click:function(s){return t.toDetail(o)}}},[s("img",{attrs:{src:t.$utils.mediaUrl(o.thumb),alt:""}})]),s("div",{staticClass:"goodsInfo"},[s("p",{staticClass:"item-price"},[t._v(" ¥"+t._s(o.price)+" "),o.oldPrice?s("span",{staticClass:"item-old-price"},[t._v(" ¥"+t._s(o.oldPrice))]):t._e()]),s("h3",{staticClass:"item-title"},[t._v(t._s(o.title))])])])]}))],2)],1)},e=[],a=o("d084"),d=o("b26e"),r={data(){return{ifGetData:!1,temp:null,breadcrumbsList:[{name:"首页",path:"/"},{name:"商品组",path:"/goodsArea/index"}],pageNum:1,total:"",goodsIds:[],goodsInfo:{},goodsList:[]}},created(){this.getGoodsIds(this.$route.query.id)},methods:{toDetail(t){this.$router.push("/goods/detail?id="+t.id)},getGoodsIds(t){a["a"].getGroupGoods({goods_group_id:t,pageNum:this.pageNum,pageSize:10},{hideSuccessTip:!0,success:t=>{this.ifGetData=!1,0===t.error&&(this.goodsIds=t.data.goodsGroup.goods_ids||[],this.goodsInfo=t.data.goodsGroup,this.getGoodsList(),this.total=t.data.count,this.UpdateBasic(`${this.goodsInfo.name||""} - ${this.channelTitle}`))}})},getGoodsList(){this.goodsIds.length<=0||d["a"].getGoodsList({id:this.goodsIds.join(",")},{hideSuccessTip:!0,success:t=>{this.goodsList=this.goodsList.concat(t.list)}})},handleScroll(){if(!this.$refs["boxs-container"])return;let t=this.$refs["boxs-container"].offsetTop-this.$refs["boxs-container"].clientHeight,s=document.documentElement.scrollTop;t-s<300&&!this.ifGetData&&this.goodsList.length<this.total&&(this.ifGetData=!0,setTimeout(()=>{this.pageNum++,this.getGoodsIds(this.$route.query.id)},200))}},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){document.removeEventListener("scroll",this.handleScroll)}},n=r,l=(o("3023"),o("2877")),c=Object(l["a"])(n,i,e,!1,null,"3069f714",null);s["default"]=c.exports},"2acd":function(t,s,o){},3023:function(t,s,o){"use strict";o("2acd")}}]);