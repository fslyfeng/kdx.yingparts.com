(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{"3a10":function(e,r,t){"use strict";var o=t("4020");const a={getComment:(e,r)=>o["a"].get("/order/comment/list",e,r),confirm:(e,r)=>o["a"].post("/order/create/confirm",e,r),create:(e,r)=>o["a"].post("/order/create/index",e,r),allOrderList:(e,r)=>o["a"].get("/order/list/all",e,r),payOrderList:(e,r)=>o["a"].get("/order/list/pay",e,r),sendOrderList:(e,r)=>o["a"].get("/order/list/send",e,r),pickOrderList:(e,r)=>o["a"].get("/order/list/pick",e,r),finishOrderList:(e,r)=>o["a"].get("/order/list/finish",e,r),refundOrderList:(e,r)=>o["a"].get("/order/refund/list",e,r),orderDetail:(e,r)=>o["a"].get("/order/detail/index",e,r),orderPayList:(e,r)=>o["a"].get("/pay/index",e,r),orderPay:(e,r)=>o["a"].post("/pay/index/pay",e,r),orderPayCheck:(e,r)=>o["a"].post("/pay/index/check",e,r),orderGetTotal:e=>o["a"].post("/order/list/get-total",{},e),orderCancel:(e,r)=>o["a"].post("/order/op/cancel",e,r),orderDelete:(e,r)=>o["a"].post("/order/op/delete",e,r),orderFinish:(e,r)=>o["a"].post("/order/op/finish",e,r),getExpress:(e,r)=>o["a"].get("/order/detail/get-express",e,r),orderRefund:(e,r)=>o["a"].get("/order/refund",e,r),refundSubmit:(e,r)=>o["a"].post("/order/refund/submit",e,r),refundDetail:(e,r)=>o["a"].get("/order/refund/detail",e,r),refundCancel:(e,r)=>o["a"].get("/order/refund/cancel",e,r),getCommentList:(e,r)=>o["a"].get("/order/comment/wait-list",e,r),getCommentGoods:(e,r)=>o["a"].get("/order/comment/write-comment",e,r),submitComment:(e,r)=>o["a"].post("/order/comment/write-comment",e,r)};r["a"]=a},7436:function(e,r,t){"use strict";t.r(r);var o=t("3a10"),a=t("c4a7"),i=t.n(a);r["default"]={data(){return{checkPatTime:null,mixinsCodeUrl:"",mixinsPrice:"",loads:!1}},methods:{getPaymentInfo(){o["a"].orderPay({order_id:this.$route.query.order_id||"",pay_type:this.$route.query.type||""},{hideSuccessTip:!0,success:e=>{0==e.error&&("alipay"==this.$route.query.type?(this.loads=!0,this.mixinsCodeUrl=e.data):this.mixinsCodeUrl=e.data.code_url,this.createdCode())},fail:()=>{this.loads=!1,this.$Message.error("请刷新页面"),console.log(111)}})},createdCode(){const e=this.$refs.qrcode;let r=new i.a({element:e,value:this.mixinsCodeUrl,background:"#fff",backgroundAlpha:1,foregroundAlpha:1,level:"H",size:"180"});this.h5ImgUrl=r.toDataURL(),this.checkPay(2500)},checkPay(e=1e3){clearInterval(this.checkPatTime),this.checkPatTime=setInterval(()=>{o["a"].orderPayCheck({order_id:this.$route.query.order_id||"",pay_type:this.$route.query.type||this.payType||""},{hideSuccessTip:!0,hideErrorTip:!0,success:e=>{0==e.error&&(this.$Message.success("支付成功"),clearInterval(this.checkPatTime),this.btLoading=!1,setTimeout(()=>{this.$router.push({path:"/order/orderDetail",query:{order_id:this.$route.query.order_id||""}})},1e3))}})},e)}},beforeDestroy(){clearInterval(this.checkPatTime)}}}}]);