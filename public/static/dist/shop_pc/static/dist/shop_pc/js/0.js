(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0,23,35],{"1e1a":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"boxs-container"},[e("div",{staticClass:"boxs"},[t.showTitle?e("div",{staticClass:"boxs-top"},[e("div",{staticClass:"flex"},[e("h3",{staticClass:"top-title"},[t._v("限时秒杀")]),e("a",{staticClass:"top-more",attrs:{href:"/pc/seckillArea/index"}},[e("span",{staticClass:"top-sub"},[t._v(" 查看更多 ")]),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1)])]):t._e(),e("div",{staticClass:"boxs-content"},[e("ul",{staticClass:"box-list"},[e("li",{staticClass:"box-item box-item-seckill"},[e("h4",[t._v("限时秒杀")]),e("div",{staticClass:"time-box"},[e("p",{staticClass:"time-tip"},[t._v(t._s(t.timeTitle))]),e("div",{staticClass:"time-out"},[t._l(t.countDownArr,(function(s,i){return[s?e("div",{key:i,staticClass:"flex"},[e("span",[t._v(t._s(s))]),0===i?e("i",{staticClass:"day"},[t._v("天")]):0!=i&&i+1!=t.countDownArr.length?e("i",[t._v(":")]):t._e()]):t._e()]}))],2)])]),t._l(t.goodsList,(function(s,i){return[t.minisize&&i<=8||!t.minisize?e("li",{key:i,staticClass:"box-item"},[e("a",{on:{click:function(e){return t.toDetail(s)}}},[e("img",{attrs:{src:t.$utils.mediaUrl(s.thumb),alt:""}})]),e("div",{staticClass:"goodsInfo"},[e("p",{staticClass:"item-price"},[t._v(" ¥"+t._s(t._f("formatMoney")(t._f("getSeckillPrice")(s)))+" "),s.price?e("span",{staticClass:"item-old-price"},[t._v(" ¥"+t._s(t._f("formatMoney")(t._f("getOldPrice")(s))))]):t._e()]),e("h3",{staticClass:"item-title"},[t._v(t._s(s.title))])])]):t._e()]}))],2)])])])},o=[],a=s("01fe"),r=s("b26e"),n={props:{showTitle:{type:Boolean,default:!0},seckillActivityInfo:{type:Object},minisize:{type:Boolean,default:!0}},data(){return{temp:null,countDownArr:[],goodsList:[],timeTitle:"距结束"}},watch:{seckillActivityInfo:{handler(t){t.client_type&&(this.getTimeOut(),this.getGoodsList())},deep:!0,immediate:!0}},methods:{toDetail(t){this.$router.push("/goods/detail?id="+t.id)},getGoodsList(){r["a"].getGoodsList({id:this.seckillActivityInfo.goods_ids,get_activity:1,activity_type:"seckill",activity_id:this.seckillActivityInfo.id},{hideSuccessTip:!0,success:t=>{0===t.error&&(this.goodsList=t.list)}})},getTimeOut(){clearInterval(this.temp);let t=new Date(this.seckillActivityInfo.end_time).getTime(),e=new Date(this.seckillActivityInfo.start_time).getTime(),s=(new Date).getTime();this.timeTitle=e>s?"距开始":"距结束",this.endTime=t-s,e>s&&(this.endTime=e-s),this.endTime<=0?this.countDownArr=[null,"00","00","00"]:(this.countDownArr=Object(a["countDownFun"])(this.endTime),this.temp=setInterval(()=>{this.endTime-=1e3,this.countDownArr=Object(a["countDownFun"])(this.endTime)},1e3))}},filters:{getSeckillPrice(t){if("0"==t.has_option){var e;let s=(null===(e=t.activities)||void 0===e?void 0:e.seckill.activity_price)||0;return""+parseFloat(s)}var s,i;return parseFloat((null===t||void 0===t||null===(s=t.activities)||void 0===s||null===(i=s.seckill.price_range)||void 0===i?void 0:i.min_price)||0)},getOldPrice(t){if("1"==t.has_option){let e=t.max_price||0;return""+parseFloat(e)}return parseFloat((null===t||void 0===t?void 0:t.price)||0)},formatMoney(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseFloat(t/1e4)+"万":parseFloat(t):0}},beforeDestroy(){clearInterval(this.temp)}},l=n,c=(s("3098"),s("2877")),d=Object(c["a"])(l,i,o,!1,null,"a88f014c",null);e["a"]=d.exports},"2b7e":function(t,e,s){"use strict";s("bd3e")},"2ded":function(t,e,s){"use strict";s("7ba2")},3098:function(t,e,s){"use strict";s("68ad")},"68ad":function(t,e,s){},7213:function(t,e,s){},"7ba2":function(t,e,s){},"80c1":function(t,e,s){"use strict";var i=s("4020");const o={getCount:t=>i["a"].get("/pc/home/info",{},t),getCategory:t=>i["a"].get("/product/category/get-list",{},t)};e["a"]=o},8659:function(t,e,s){"use strict";s("af31")},af31:function(t,e,s){},bd3e:function(t,e,s){},c7bc:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-banner clearfix"},[e("div",{staticClass:"site-category",on:{mouseleave:t.evtSideLeave}},[e("div",{staticClass:"top-side-left"},[e("ul",{staticClass:"side-left"},t._l(t.categoryList,(function(s,i){return e("li",{key:i,staticClass:"side-item",on:{mouseenter:function(e){return t.evtSideEnter(s.children,s.id)}}},[t._v(" "+t._s(s.name)+" "),e("Icon",{staticClass:"side-icon",attrs:{type:"ios-arrow-forward"}})],1)})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.goodsStatus,expression:"goodsStatus"}],staticClass:"site-category-detail"},t._l(t.filterCurrGoods,(function(s,i){return e("ul",{key:i,staticClass:"category-items"},t._l(s,(function(s,i){return e("li",{key:i,staticClass:"category-goods"},[e("div",{staticClass:"goods-link",on:{click:function(e){return t.toCategory(s)}}},[e("img",{attrs:{src:t.$utils.mediaUrl(s.thumb),alt:""}}),e("div",{staticClass:"text-name"},[t._v(" "+t._s(s.name)+" ")])])])})),0)})),0)]),e("Swiper",{attrs:{banners:t.homeBanner}})],1)},o=[],a=s("f1dd"),r={props:{homeBanner:{type:Array,default:()=>[]},categoryList:{type:Array,default:()=>[]}},data(){return{currGoods:[],goodsStatus:!1,level1MenuId:""}},computed:{filterCurrGoods:function(){let t=[[],[],[],[],[]];return this.currGoods.forEach((function(e,s){let i=Math.floor(s/6);t[i].push(e)})),t}},methods:{toCategory(t){history.pushState({menuId:this.level1MenuId,children:t.id},"index","index"),this.$router.push({path:"/categories/list",query:{menuId:this.level1MenuId,children:t.id}})},evtSideEnter(t,e){this.level1MenuId=e,this.currGoods=t,this.goodsStatus=!0},evtSideLeave(){this.goodsStatus=!1}},components:{Swiper:a["default"]}},n=r,l=(s("ca9b"),s("2877")),c=Object(l["a"])(n,i,o,!1,null,"7c86494c",null);e["default"]=c.exports},ca9b:function(t,e,s){"use strict";s("7213")},f1dd:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner",on:{mouseenter:t.suspendSlide,mouseleave:t.autoSlide}},[e("span",{staticClass:"slide-pre",on:{click:t.slidePre}}),e("span",{staticClass:"slide-next",on:{click:t.slideNext}}),t._l(t.banners,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:i===t.curpage,expression:"index === curpage"}],key:i,staticClass:"slide",attrs:{transition:"fadeIn"}},[e("a",{attrs:{href:s.url}},[e("img",{attrs:{src:t.$utils.mediaUrl(s.img),alt:""}})])])})),e("div",{staticClass:"swiper-dot"},t._l(t.banners,(function(s,i){return e("i",{key:i,class:[i===t.curpage?"dotActive":""],on:{click:function(e){return t.navItem(i)}}})})),0)],2)},o=[],a={data(){return{prevTid:"",curpage:0,slideDirection:1}},props:{banners:{type:Array,required:!0}},mounted(){this.autoSlide()},methods:{navItem(t){this.curpage=t},slideNext(){const t=this.banners.length-1;this.curpage<t?this.curpage+=1:this.curpage=0},slidePre(){const t=this.banners.length-1;this.curpage>0?this.curpage-=1:this.curpage=t},suspendSlide(){clearInterval(this.prevTid)},autoSlide(){clearInterval(this.prevTid),this.prevTid=setInterval(()=>{this.slideNext()},5e3)}},beforeDestroy(){clearInterval(this.prevTid)}},r=a,n=(s("2b7e"),s("2877")),l=Object(n["a"])(r,i,o,!1,null,"cb06e5d2",null);e["default"]=l.exports},f75a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("Container",{ref:"categories"},[e("TopBanner",{attrs:{homeBanner:t.homeBanner,categoryList:t.categoryList}}),[t.seckillActivityInfo?e("Seckill",{staticStyle:{"padding-top":"40px"},attrs:{seckillActivityInfo:t.seckillActivityInfo}}):t._e()],t._l(t.pcGoodsGroups,(function(t,s){return[e("GoodsBox",{key:s,attrs:{goodsGroups:t}})]}))],2)},o=[],a=s("0af9"),r=s("c7bc"),n=function(){var t=this,e=t._self._c;return e("div",{ref:"boxs-container",staticClass:"boxs-container"},[t.goodsGroups.top_advertise_img?e("div",{staticClass:"top-kv boxs-kv"},[e("GoodsKv",{attrs:{src:t.goodsGroups.top_advertise_img,href:t.goodsGroups.top_advertise_img_url}})],1):t._e(),e("div",{staticClass:"boxs"},[t.showTitle?e("div",{staticClass:"boxs-top"},[e("div",{staticClass:"flex"},[e("h3",{staticClass:"top-title"},[t._v(t._s(t.goodsGroups.name))]),t.goodsList.length>8?e("a",{staticClass:"top-more",on:{click:t.toGroupGoods}},[e("span",{staticClass:"top-sub"},[t._v(" 查看更多 ")]),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1):t._e()])]):t._e(),e("div",{staticClass:"boxs-content"},[e("ul",{staticClass:"box-list"},[e("li",{staticClass:"box-item box-item-promo"},[e("a",{attrs:{href:t.goodsGroups.main_img_url}},[e("img",{attrs:{src:t.$utils.mediaUrl(t.goodsGroups.main_img),alt:""}})])]),t._l(t.goodsList,(function(s,i){return[t.minisize&&i<=7||!t.minisize?e("li",{key:i,staticClass:"box-item"},[e("a",{on:{click:function(e){return t.toDetail(s)}}},[e("img",{attrs:{src:t.$utils.mediaUrl(s.thumb),alt:""}})]),e("div",{staticClass:"goodsInfo"},[e("p",{staticClass:"item-price"},[t._v(" ¥"+t._s(t._f("formatMoney")(t._f("getSeckillPrice")(s)))+" "),s.oldPrice?e("span",{staticClass:"item-old-price"},[t._v(" ¥"+t._s(s.oldPrice))]):t._e()]),e("h3",{staticClass:"item-title"},[t._v(t._s(s.title))])])]):t._e()]}))],2)])]),t.goodsGroups.bottom_advertise_img?e("div",{staticClass:"bottom-kv boxs-kv"},[e("GoodsKv",{attrs:{src:t.goodsGroups.bottom_advertise_img,href:t.goodsGroups.bottom_advertise_img_url}})],1):t._e()])},l=[],c=function(){var t=this,e=t._self._c;return e("Container",[e("a",{staticClass:"common-kv",on:{click:t.navto}},[e("img",{attrs:{src:t.$utils.mediaUrl(t.src),alt:""}})])])},d=[],u={name:"GoodsKv",props:{href:{type:String,default:""},src:{type:String,default:""}},methods:{navto(){""!=this.href&&(location.href=this.href)}}},p=u,h=(s("2ded"),s("2877")),v=Object(h["a"])(p,c,d,!1,null,"79d311f6",null),f=v.exports,m=s("b26e"),g={props:{showTitle:{type:Boolean,default:!0},goodsGroups:{type:Object,default:()=>{}},minisize:{type:Boolean,default:!0}},components:{GoodsKv:f},data(){return{ifGetData:!1,goodsList:[]}},methods:{toGroupGoods(){this.$router.push("/goodsArea?id="+this.goodsGroups.id)},toDetail(t){this.$router.push("/goods/detail?id="+t.id)},getGoodsList(){this.goodsGroups.goods_ids.length>0&&m["a"].getGoodsList({id:this.goodsGroups.goods_ids,get_activity:1},{hideSuccessTip:!0,success:t=>{0===t.error&&(this.goodsList=t.list)}})},handleScroll(){if(!this.$refs["boxs-container"])return;let t=this.$refs["boxs-container"].offsetTop-this.$refs["boxs-container"].clientHeight,e=document.documentElement.scrollTop;t-e<300&&!this.ifGetData&&this.goodsGroups.goods_ids&&(this.ifGetData=!0,this.getGoodsList())}},filters:{getSeckillPrice(t){if(t.activities&&t.activities.seckill){if("0"==t.has_option){var e;let s=(null===(e=t.activities)||void 0===e?void 0:e.seckill.activity_price)||0;return""+parseFloat(s)}var s,i;return parseFloat((null===t||void 0===t||null===(s=t.activities)||void 0===s||null===(i=s.seckill.price_range)||void 0===i?void 0:i.min_price)||0)}return t.price},getOldPrice(t){if("1"==t.has_option){let e=t.max_price||0;return""+parseFloat(e)}return parseFloat((null===t||void 0===t?void 0:t.price)||0)},formatMoney(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseFloat(t/1e4)+"万":parseFloat(t):0}},mounted(){let t=this.$refs["boxs-container"].offsetTop-this.$refs["boxs-container"].clientHeight;t<300&&!this.ifGetData&&this.goodsGroups.goods_ids&&(this.ifGetData=!0,this.getGoodsList()),window.addEventListener("scroll",this.handleScroll)},destroyed(){document.removeEventListener("scroll",this.handleScroll)}},_=g,y=(s("8659"),Object(h["a"])(_,n,l,!1,null,"d4dff032",null)),b=y.exports,C=s("1e1a"),x=s("80c1"),k={components:{TopBanner:r["default"],Seckill:C["a"],GoodsBox:b},data(){return{count:{app_total:"-",site_total:"-",user_total:"-"},indexData:[],homeBanner:[],pcGoodsGroups:[],seckillActivityInfo:null,categoryList:[]}},created(){this.getIndexApi()},methods:{getIndexApi(){x["a"].getCount({hideSuccessTip:!0,success:t=>{0===t.error&&(this.indexData=t.data,this.homeBanner=t.data.homeAdvertise||[],this.pcGoodsGroups=t.data.pcGoodsGroups||[],this.seckillActivityInfo=t.data.seckillActivityInfo||null)}}),x["a"].getCategory({hideSuccessTip:!0,success:t=>{0===t.error&&(this.categoryList=t.list)}})}},computed:{account(){return a["a"].getSession()||{}}},mounted(){history.pushState(null,null,document.URL)}},G=k,w=Object(h["a"])(G,i,o,!1,null,null,null);e["default"]=w.exports}}]);