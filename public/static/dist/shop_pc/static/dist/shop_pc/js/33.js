(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{"245f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"el-box"},[e("div",{staticClass:"title line2"},[t._v(" "+t._s(t.goodsDetail.title||"")+" ")]),e("p",{staticClass:"subTitle"},[e("span",{staticClass:"seckill"},[t._v("秒杀")]),t._v(" "+t._s(t.goodsDetail.sub_title||""))]),e("div",{staticClass:"price-box flex"},[e("div",{staticClass:"top-left"},[t.getPrice.length<10?e("p",[t._v(t._s(t.getPrice||""))]):e("p",{staticClass:"small"},[t._v(t._s(t.getPrice||""))])]),e("div",{staticClass:"top-right"},[e("div",{staticClass:"time-box"},[e("span",[t._v(t._s(t.timeTitle))]),e("div",{staticClass:"time-out"},t._l(t.countDownArr,(function(i,s){return e("div",{key:s},[i?e("div",{staticClass:"flex"},[e("span",[t._v(t._s(i))]),0===s?e("i",{staticClass:"day"},[t._v("天")]):0!=s&&s+1!=t.countDownArr.length?e("i",[t._v(":")]):t._e()]):t._e()])})),0)]),e("div",{staticClass:"sales"},[e("span",[t._v(t._s(t.goodsDetail.sales||"0"))]),e("p",[t._v("销量")])])])])])},a=[],n=i("01fe"),o={name:"seckill",props:{goodsDetail:{type:Object},actionsData:{type:Object},seckillInfo:{type:Object}},data(){return{countDownArr:[],timeTitle:"距离结束还剩",endTime:"",temp:null}},watch:{goodsDetail:{immediate:!0,handler:function(t){t&&this.getTimeOut()}},actionsData:{immediate:!0,handler:function(t){t&&console.log(t,"data")}}},computed:{hasOption(){return"1"==this.goodsDetail.has_option},getPrice(){if(this.actionsData.goods_id)return this.actionsData.activity?this.actionsData.activity.seckill.activity_price:this.actionsData.price;if(this.hasOption){let{min_price:t,max_price:e}=this.seckillInfo.price_range,i=`${this.formatMoney(t)}-${this.formatMoney(e)}`;return this.$utils.formartPrice(i)}var t;return this.formatMoney(null===(t=this.seckillInfo)||void 0===t?void 0:t.activity_price)}},methods:{formatMoney(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseFloat(t/1e4).toFixed(2)+"万":parseFloat(t).toFixed(2):0},getTimeOut(){clearInterval(this.temp);let t=new Date(this.seckillInfo.end_time).getTime(),e=new Date(this.seckillInfo.start_time).getTime(),i=(new Date).getTime();this.endTime=t-i,this.timeTitle=e>i?"距开始还剩":"距离结束还剩",e>i&&(this.timeTitle="距开始还剩",this.endTime=e-i),this.endTime<=0?this.countDownArr=[null,"00","00","00"]:(this.countDownArr=Object(n["countDownFun"])(this.endTime),this.temp=setInterval(()=>{this.endTime-=1e3,this.countDownArr=Object(n["countDownFun"])(this.endTime)},1e3))}},beforeDestroy(){clearInterval(this.temp)}},l=o,c=(i("3019"),i("2877")),r=Object(c["a"])(l,s,a,!1,null,"5100fb4e",null);e["default"]=r.exports},3019:function(t,e,i){"use strict";i("60df")},"60df":function(t,e,i){}}]);