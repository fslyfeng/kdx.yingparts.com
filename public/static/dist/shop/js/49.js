(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{"0134":function(e,t,a){"use strict";a.r(t);var n=a("e4f6"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"038f":function(e,t,a){},"0696":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("d3b7");var n={name:"RechargeIntegral",props:{id:{type:[String,Number]},data:{type:[String,Number]}},data:function(){return{value:!1,textError:"",model:{change_type:"1",num:"",remark:"",password:""},loading:!1,rules:{num:[{required:!0,message:"请填写充值数目"}],remark:[{required:!0,message:"请填写备注"}],password:[{required:!0,message:"请输入登录操作员密码"}]}}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.resetModel(),this.$refs["form"].resetFields())},handleOk:function(){var e=this;this.textError="",this.$refs["form"].validate((function(t){if(t){var a=Object.assign({id:e.id,type:"credit"},e.model);e.loading=!0,e.$api.memberApi.rechargeMember(a,{nomessage:!0}).then((function(t){211118==t.error?e.textError="管理员密码不正确":0===t.error?(e.$Message.success("积分充值成功"),e.$emit("on-refresh"),e.handleCancel()):e.$Message.error(t.message)})).finally((function(){e.loading=!1}))}}))},handleCancel:function(){this.value=!1,this.$refs["form"].resetFields()},resetModel:function(){this.model={change_type:"1",num:"",remark:"",password:""}}}};t.default=n},"0775":function(e,t,a){"use strict";a.r(t);var n=a("3cae"),i=a("d9c5");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("ca9d");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"0c536684",null);t["default"]=o.exports},"0980":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("a62a")),s={components:{IsDistributor:i.default},props:{basicInfo:{type:Object,default:function(){return{}}},info:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){}}},methods:{reload:function(){this.$emit("reload")}}};t.default=s},"09b4":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"radio-group"},[t("RadioGroup",{attrs:{type:e.type,vertical:e.vertical},on:{"on-change":e.onChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.items,(function(a,n){return t("Radio",{key:n,attrs:{label:n,disabled:a.disabled||e.disabled}},[e.$slots.example?e._e():t("span",[e._v(" "+e._s(a.label)+" ")]),e._t("example",null,{example:a})],2)})),1),e.$slots.tip&&e.$slots.tip.length?t("div",{staticClass:"tip"},[e._t("tip")],2):e._e(),e.$slots.default&&e.$slots.default.length?t("div",{staticClass:"content"},[e._t("default")],2):e._e()],1)};t.render=a;var n=[];t.staticRenderFns=n},"0b0a":function(e,t,a){"use strict";var n=a("262c");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"0f2ab":function(e,t,a){"use strict";a.r(t);var n=a("d0ff"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"0f3c":function(e,t,a){"use strict";a.r(t);var n=a("2acb"),i=a("c307");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("a426");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"4eb017f6",null);t["default"]=o.exports},"13eb":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var n=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"会员标签组选择器",width:850},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"vip-label-selector"},[t("div",{ref:"scrollBox",staticClass:"vip-label-selector-content"},[t("div",{staticClass:"search"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=n;var i=[];t.staticRenderFns=i},1465:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"is-distributor"},[t("kdx-form-title",{staticClass:"form-title",attrs:{content:"分销信息"}},[e.info.agent_info&&0==e.info.agent_info.status?t("div",{staticClass:"btn-box flex",staticStyle:{float:"right",transform:"translate(0,-5px)"}},[t("Button",{staticStyle:{"margin-right":"10px"},attrs:{loading:e.loading,disabled:e.noManagePerm},on:{click:function(t){return e.handleOperate(1)}}},[e._v(" 审核通过 ")]),t("Button",{attrs:{loading:e.loading,disabled:e.noManagePerm},on:{click:function(t){return e.handleOperate(-1)}}},[e._v(" 拒绝通过 ")])],1):e.info.agent_info&&1==e.info.agent_info.status&&0!==e.settings.become_condition?t("Button",{staticStyle:{float:"right",transform:"translate(0,-5px)"},attrs:{loading:e.loading,disabled:e.noManagePerm},on:{click:e.cancel}},[e._v(" 取消分销商资格 ")]):e.info.agent_info&&!new Set(["0","1"]).has(e.info.agent_info.status)?t("Button",{staticStyle:{float:"right",transform:"translate(0,-5px)"},attrs:{loading:e.loading,disabled:e.noManagePerm},on:{click:e.handleSet}},[e._v(" 设为分销商 ")]):e._e()],1),t("ul",{staticClass:"info-box"},[t("li",{staticClass:"info info1"},[t("div",{staticClass:"user"},[t("div",{staticClass:"user-information"},[t("p",{staticClass:"name"},[e._v("用户信息")]),t("Form",{attrs:{"label-width":70}},[t("FormItem",{attrs:{label:"昵称："}},[e._v(" "+e._s(e.basicInfo.member.nickname||"-")+" ")]),t("FormItem",{attrs:{label:"真实姓名："}},[e._v(" "+e._s(e.realName.name||"-")+" ")]),t("FormItem",{attrs:{label:"联系电话："}},[t("div",{staticClass:"telephone-box"},[t("i",{staticClass:"telephone-icon icon-dianhua iconfont"}),t("span",{staticClass:"telephone"},[e._v(" "+e._s(e.realName.mobile||e.basicInfo.member.mobile||"-")+" ")])])]),t("FormItem",{attrs:{label:"会员等级："}},[e.basicInfo.member.is_default_level?t("span",{staticStyle:{"vertical-align":"middle","margin-right":"5px"}},[e._v(" "+e._s(e.basicInfo.member.level_name)+" ")]):t("span",{staticClass:"vip-grade"},[t("i",{staticClass:"icon-huangguan icon iconfont",staticStyle:{color:"#EAD4A9"}}),e._v(" "+e._s(e.basicInfo.member.level_name)+" ")])])],1)],1)])]),t("li",{staticClass:"info info2"},[t("p",{staticClass:"name"},[e._v("分销商信息")]),t("Form",{attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"分销等级："}},[t("div",{staticClass:"flex-row level"},[e.info.agent_info&&1!=e.info.agent_info.status?t("span",[e._v(" 非分销商 ")]):e.info.agent_info&&1==e.info.agent_info.status&&e.info.agent_info.level_name?t("span",{staticClass:"level-name"},[t("i",{staticClass:"icon-fenxiao iconfont level-icon"}),e._v(" "+e._s(e.info.agent_info.level_name)+" ")]):t("span",{staticStyle:{display:"block","margin-right":"5px"}},[e._v(" - ")]),e.info.agent_info&&1==e.info.agent_info.status?t("Button",{staticClass:"btn",attrs:{type:"text",disabled:e.noManagePerm},on:{click:e.selectLevel}},[e._v(" 修改 ")]):e._e()],1)]),t("FormItem",{staticClass:"upline-formItem",attrs:{label:"上级分销商："}},[t("div",{staticClass:"flex-row upline"},[e.info.parent_info?t("img",{staticClass:"avatar",attrs:{src:e.$media(e.info.parent_info.avatar),alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}):t("img",{staticClass:"avatar",attrs:{src:e.$media(""),alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),e.info.parent_info?t("span",{staticClass:"upline-name"},[e._v(" "+e._s(e.info.parent_info.nickname||"-")+" ")]):t("span",{staticClass:"upline-name"},[e._v("-")]),t("Button",{staticClass:"btn",attrs:{type:"text",disabled:e.noManagePerm},on:{click:e.selectAgent}},[e._v(" 修改 ")]),e.info.agent_info&&1!=e.info.agent_info.status&&e.info.parent_info?t("Button",{staticClass:"btn2",attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.unbindAgent()}}},[e._v(" 解绑上级 ")]):e._e(),t("Button",{staticClass:"btn2",attrs:{type:"text"},on:{click:e.viewRelationLog}},[e._v("关系变更记录")])],1)]),e.info.agent_info&&0==e.info.agent_info.status?t("FormItem",{attrs:{label:"邀请人："}},[e._v(" "+e._s((e.info.inviter_info?e.info.inviter_info.nickname:"")||"总店")+" ")]):e._e(),e.info.agent_info&&0==e.info.agent_info.status?t("FormItem",{attrs:{label:"姓名："}},[e._v(" "+e._s(e.info.agent_info.apply_data?JSON.parse(e.info.agent_info.apply_data).name:e.basicInfo.member.realname||"-")+" ")]):e._e(),e.info.agent_info&&0==e.info.agent_info.status?t("FormItem",{attrs:{label:"手机号码："}},[e._v(" "+e._s(e.info.agent_info.apply_data?JSON.parse(e.info.agent_info.apply_data).mobile:e.basicInfo.member.mobile||"-")+" ")]):e._e(),e.info.agent_info&&1==e.info.agent_info.status?t("FormItem",{attrs:{label:"成为分销商时间："}},[t("div",{staticClass:"flex-row create-time"},[t("span",[e._v(e._s(e.info.agent_info.become_time||"-"))])])]):e._e(),e.info.agent_info&&1==e.info.agent_info.status?t("FormItem",[t("p",{attrs:{slot:"label"},slot:"label"},[e._v(" 自动升级"),t("kdx-hint-tooltip",[e._v("如果强制不自动升级，满足任何条件，此分销商的级别也不会改变")]),e._v("： ")],1),t("MyRadioGroup",{staticStyle:{transform:"translate(0,-1px)"},attrs:{value:e.info.agent_info.is_auto_upgrade,items:e.upgrade,disabled:e.noManagePerm},on:{change:e.setAutoUpgrade}})],1):e._e()],1)],1),e.info.agent_info&&1==e.info.agent_info.status?t("li",{staticClass:"info info3"},[t("p",{staticClass:"name"},[e._v("用户信息")]),t("Form",{attrs:{"label-width":70}},[t("FormItem",{attrs:{label:"全部下级:"}},[t("p",[t("router-link",{staticClass:"num",attrs:{target:"_blank",to:"/commission/relation?id=".concat(e.basicInfo.member.id)}},[e._v(" "+e._s(e.info.chile_count.all)+" ")]),e._v(" 人 (分销商："+e._s(e.info.chile_count.all_agent)+"人） ")],1)]),t("FormItem",{attrs:{label:"一级:"}},[t("p",[t("router-link",{staticClass:"num",attrs:{target:"_blank",to:"/commission/relation?id=".concat(e.basicInfo.member.id)}},[e._v(" "+e._s(e.info.chile_count.level1_all)+" ")]),e._v(" 人 (分销商："+e._s(e.info.chile_count.level1_agent)+"人） ")],1)]),t("FormItem",{attrs:{label:"二级:"}},[t("p",[t("router-link",{staticClass:"num",attrs:{target:"_blank",to:"/commission/relation?id=".concat(e.basicInfo.member.id)}},[e._v(" "+e._s(e.info.chile_count.level2_all)+" ")]),e._v(" 人 (分销商："+e._s(e.info.chile_count.level2_agent)+"人） ")],1)]),t("FormItem",{attrs:{label:"三级:"}},[t("p",[t("router-link",{staticClass:"num",attrs:{target:"_blank",to:"/commission/relation?id=".concat(e.basicInfo.member.id)}},[e._v(" "+e._s(e.info.chile_count.level3_all)+" ")]),e._v(" 人 (分销商："+e._s(e.info.chile_count.level3_agent)+"人） ")],1)])],1)],1):e._e()]),e.form.content?t("form-info",{attrs:{data:e.form.content}}):e._e(),e.info.agent_info&&1==e.info.agent_info.status?t("kdx-form-title",{attrs:{content:"佣金信息"}}):e._e(),e.info.agent_info&&1==e.info.agent_info.status?t("Row",{staticClass:"deal-information"},[t("i-col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-jinqian1"})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("累计佣金")]),t("div",[t("span",{staticClass:"number"},[e._v(" ￥"+e._s(e.info.agent_info.commission_total)+" ")])])])])]),t("i-col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content balance-color"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-yongjin"})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("已提现佣金")]),t("div",[t("span",{staticClass:"number"},[e._v(" ￥"+e._s(e.info.agent_info.commission_pay)+" ")])])])])]),t("i-col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content normal-color"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-fenxiao-leijiyongjin"})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("待入账佣金")]),t("div",[t("span",{staticClass:"number"},[e._v(" ￥"+e._s(e.info.agent_info.wait_commission)+" ")])])])])]),t("i-col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-dingdan1"})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("分销订单")]),t("div",[t("span",{staticClass:"number brand-color"},[e._v(" "+e._s(e.info.agent_info.commission_order)+" ")]),t("Button",{staticClass:"look-btn",attrs:{type:"text"},on:{click:e.goCommision}},[e._v(" 查看 ")])],1)])])])],1):e._e(),e.info.agent_info&&1==e.info.agent_info.status?t("level-selector",{ref:"levelSelector",attrs:{current:e.currentLevel},on:{change:e.getLevel}}):e._e(),t("agent-selector",{ref:"agentSelector",attrs:{current:e.curAgent,basicInfo:e.basicInfo,info:e.info,close:!0},on:{change:e.getAgent}}),t("relation-log",{attrs:{"member-id":e.basicInfo.member.id},model:{value:e.relationModal,callback:function(t){e.relationModal=t},expression:"relationModal"}})],1)};t.render=n;var i=[];t.staticRenderFns=i},"14be":function(e,t,a){"use strict";a("f6e0")},"19e3":function(e,t,a){"use strict";a.r(t);var n=a("0b0a"),i=a("e0cf");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("280a5");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"4e75c47c",null);t["default"]=o.exports},"1a4f":function(e,t,a){},"1b70":function(e,t,a){"use strict";a("ede3")},"1bf7":function(e,t,a){"use strict";var n=a("09b4");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"21e9":function(e,t,a){"use strict";var n=a("1465");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"249c":function(e,t,a){"use strict";var n=a("4239");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"262c":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",[t("kdx-content-bar",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"vip-detail"},[1==e.memberData.member.is_black?t("Alert",{attrs:{type:"warning"}},[t("i",{staticClass:"iconfont icon-huiyuan-heimingdan"}),e._v(" 提示：该会员已被加入至黑名单 ")]):e._e(),1==e.memberData.member.is_deleted?t("Alert",{attrs:{type:"error"}},[t("i",{staticClass:"iconfont icon-huiyuan-shanchu"}),e._v(" 提示：该会员已被删除 ")]):e._e(),1==e.memberData.member.is_black||1==e.memberData.member.is_deleted?t("div",{staticClass:"block"}):e._e(),t("TopInfo",{attrs:{memberData:e.memberData},on:{getDetail:e.getDetail}}),t("Tabs",{staticStyle:{"margin-top":"10px","background-color":"#fff"},attrs:{animated:!1,name:"floor1"},model:{value:e.tab.name,callback:function(t){e.$set(e.tab,"name",t)},expression:"tab.name"}},[t("TabPane",{attrs:{label:"基本信息",name:"base"}},[t("detail-base",{attrs:{memberData:e.memberData,levels:e.levels,groups:e.groups,form:e.form},on:{getDetail:e.getDetail}})],1),1!=e.memberData.member.is_deleted?t("TabPane",{attrs:{label:"分销商信息",name:"commission"}},[t("commission-info",{attrs:{info:e.commissionInfo,basicInfo:e.memberData,form:e.commissionForm},on:{reload:e.getDetail}})],1):e._e()],1)],1)]),e.memberData.member&&1!=e.memberData.member.is_deleted?t("div",{staticClass:"footer-btn"},[t("Button",{staticClass:"default-error-padding100 black",attrs:{disabled:e.noManagePerm},on:{click:e.changeBlackStatus}},[e._v(e._s(1==e.memberData.member.is_black?"移除黑名单":"加入黑名单")+" ")]),t("Button",{staticClass:"default-error-padding100",attrs:{disabled:e.noManagePerm},on:{click:e.deleteVip}},[e._v("删除会员 ")])],1):e._e()],1)};t.render=n;var i=[];t.staticRenderFns=i},"278c":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("d3b7"),a("159b"),a("99af");var i=n(a("329f")),s={name:"FormInfo",components:{PreviewImg:i.default},props:{data:{type:Array,default:function(){return[]}},isShow:{type:Boolean,default:!0}},data:function(){return{imageList:[],previewImages:[],imgModal:!1,current:0}},watch:{data:{handler:function(){var e=this;this.imageList=this.data.filter((function(e){return"pictures"===e.type})),this.previewImages=[],this.imageList.length&&this.imageList.forEach((function(t){e.previewImages=e.previewImages.concat(t.params.value)}))},immediate:!0}},methods:{previewImg:function(e,t){t&&(this.current=t),this.imgModal=e},changePreview:function(e){this.current=e}}};t.default=s},"280a5":function(e,t,a){"use strict";a("4fbf")},2854:function(e,t,a){"use strict";a("038f")},"2acb":function(e,t,a){"use strict";var n=a("e5123");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"2f21":function(e,t,a){"use strict";a.r(t);var n=a("0980"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"30af":function(e,t,a){"use strict";a.r(t);var n=a("6dc5"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"30d1":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("a15b");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-info",style:{marginTop:e.isShow?"":"40px"}},[e.isShow?t("kdx-form-title",[e._v("表单信息")]):e._e(),t("Form",{attrs:{"label-width":120}},[t("div",{staticClass:"form-info-content"},[e._l(e.data,(function(a,n){return["pictures"!==a.type?t("div",{key:n,staticClass:"form-info-item"},[t("FormItem",{staticClass:"r-form-item-text",attrs:{label:"".concat(a.params.title,"：")}},["checkboxes"===a.type?t("div",[e._v(" "+e._s(a.params.value.join(","))+" ")]):"city"===a.type?t("div",[e._v(" "+e._s(a.params.province||"")+e._s(a.params.city||"")+e._s(a.params.area||"")+" ")]):"daterange"===a.type||"timerange"===a.type?t("div",[e._v(" "+e._s(a.params.start.value)+" ~ "+e._s(a.params.end.value)+" ")]):t("div",[e._v(" "+e._s(a.params.value)+" ")])])],1):e._e()]})),e.imageList.length?e._l(e.imageList,(function(a,n){return t("div",{key:"m".concat(n),staticClass:"form-info-item"},[t("FormItem",{staticClass:"r-form-item-text",attrs:{label:"".concat(a.params.title,"：")}},[t("div",{staticClass:"info-image"},[a.params.value.length?[t("div",{staticClass:"image-box"},e._l(a.params.value,(function(a,n){return t("div",{key:n,staticClass:"image"},[t("img",{attrs:{src:e.$media(a),alt:""},on:{error:e.replaceImage}}),t("div",{staticClass:"shade",on:{click:function(t){return e.previewImg(!0,n)}}},[t("div",{staticClass:"shade-content"},[t("p",[t("Icon",{attrs:{type:"ios-search"}})],1),t("p",[e._v("查看")])])])])})),0)]:e._e()],2)])],1)})):e._e()],2)]),t("preview-img",{directives:[{name:"show",rawName:"v-show",value:e.imgModal,expression:"imgModal"}],attrs:{imgList:e.previewImages||[],currentIndex:e.current},on:{"on-close":function(t){return e.previewImg(!1)},"on-change":e.changePreview}})],1)};t.render=n;var i=[];t.staticRenderFns=i},"345c":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("15fd")),s=n(a("5530"));a("b0c0");var r=n(a("9137")),o=n(a("3e482")),l=n(a("67ba")),c=a("2f62"),d=["form"],u={name:"index",components:{DetailBase:r.default,CommissionInfo:l.default,TopInfo:o.default},data:function(){return{tab:{name:"base"},id:"",form_id:"",memberData:{member:{is_black:0}},commissionInfo:{},groups:[],levels:[],loading:!0,form:{},commissionForm:{}}},computed:{noManagePerm:function(){return!this.$getPermMap("member.list.manage")}},created:function(){this.getSettings()},mounted:function(){var e,t;this.id=this.$route.query.id;var a=null===(e=this.$route.query)||void 0===e?void 0:e.type;this.form_id=(null===(t=this.$route.query)||void 0===t?void 0:t.form_id)||"",a&&(this.tab.name=a),this.getDetail()},methods:(0,s.default)((0,s.default)({},(0,c.mapActions)("commission/settings",["getSettings"])),{},{getDetail:function(){var e=this;this.loading=!0;var t={id:this.id};this.form_id&&(t.form_id=this.form_id),this.$api.memberApi.getMemberDetail(t).then((function(t){if(e.loading=!1,0==t.error){var a,n,s=t.member,r=t.order_info;e.memberData={member:s,order_info:r};var o=t.commission_info,l=o.form,c=(0,i.default)(o,d);e.commissionInfo=c,e.commissionForm={id:null===l||void 0===l?void 0:l.id,content:null!==l&&void 0!==l&&l.content?JSON.parse(l.content):""},e.groups=t.groups,e.levels=t.levels,e.form={id:null===(a=t.form)||void 0===a?void 0:a.id,content:null!==(n=t.form)&&void 0!==n&&n.content?JSON.parse(t.form.content):""}}}))},changeBlackStatus:function(){var e,t,a,n=this,i=this.$createElement;console.log(null===(e=this.memberData.member)||void 0===e?void 0:e.is_black,"this.user.is_black");var s={id:this.memberData.member.id,is_black:1==(null===(t=this.memberData.member)||void 0===t?void 0:t.is_black)?"0":"1"},r=1==(null===(a=this.memberData.member)||void 0===a?void 0:a.is_black)?"移出黑名单成功":"加入黑名单成功";this.$Modal.confirm({title:"提示",render:function(){var e,t,a,s,r;return 1==(null===(e=n.memberData.member)||void 0===e?void 0:e.is_black)?i("div",[i("p",["您确认要把“",i("span",{class:"danger-color"},[(null===(t=n.memberData.member)||void 0===t?void 0:t.nickname)||(null===(a=n.memberData.member)||void 0===a?void 0:a.mobile)||"-"]),"”移出黑名单吗？"])]):i("div",[i("p",["您确认要把“",i("span",{class:"danger-color"},[(null===(s=n.memberData.member)||void 0===s?void 0:s.nickname)||(null===(r=n.memberData.member)||void 0===r?void 0:r.mobile)||"-"]),"”加入黑名单吗？"]),i("p",{class:"danger-color"},["拉黑后，该账号将无法访问店铺"])])},onOk:function(){n.$api.memberApi.setMemberBlackStatus(s).then((function(e){0==e.error?(n.getDetail(),n.$Message.success(r)):n.$Message.error(e.message)}))},onCancel:function(){}})},deleteVip:function(){var e=this;this.$Modal.confirm({title:"提示",content:'<p class="danger-color">是否要删除该用户？如果删除该用户所有信息也将会被删除。删除后不可找回。</p>',onOk:function(){e.bus.$emit("passwordModal",!0)},onCancel:function(){e.bus.$emit("passwordModal",!1)}})}})};t.default=u},3552:function(e,t,a){},"35f13":function(e,t,a){},3741:function(e,t,a){"use strict";a.r(t);var n=a("4efc"),i=a("3cfc");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("c279");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"f4fe2074",null);t["default"]=o.exports},"3a34f":function(e,t,a){},"3cae":function(e,t,a){"use strict";var n=a("8c26");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"3cfc":function(e,t,a){"use strict";a.r(t);var n=a("0696"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"3dbb":function(e,t,a){},"3e482":function(e,t,a){"use strict";a.r(t);var n=a("249c"),i=a("88c4");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("92dc"),a("e6d6");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"0942151c",null);t["default"]=o.exports},"3f634":function(e,t,a){},4239:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("caad"),a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"topInfoWrap"},[t("Row",{staticClass:"base-information"},[t("Col",{attrs:{span:"10"}},[t("div",{staticClass:"user"},[t("div",{staticClass:"user-image"},[t("img",{attrs:{src:e.$media(e.user?e.user.avatar:""),alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}})]),t("div",{staticClass:"user-information"},[t("p",{staticClass:"name"},[e._v(" "+e._s(e.user?e.user.nickname:"")+" ")]),t("Form",{attrs:{"label-width":70}},[t("FormItem",{attrs:{label:"会员ID："}},[e._v(" "+e._s(e.user?e.user.id||"无":"")+" ")]),t("FormItem",{attrs:{label:"会员来源："}},[e.user.all_source&&e.user.all_source.length>0?t("div",{staticClass:"source"},e._l(e.allSource,(function(e,a){return t("div",{key:a},[[30,32,31].includes(e.source)?[t("Tooltip",{attrs:{content:e.name,placement:"top"}},[e.is_register?t("kdx-svg-icon",{staticClass:"platform-icon iconfont",attrs:{type:e.class}}):t("kdx-svg-icon",{staticClass:"platform-icon iconfont",attrs:{type:e.type}})],1)]:[t("Tooltip",{attrs:{content:e.name,placement:"top"}},[e.is_register?t("i",{staticClass:"platform-icon iconfont",class:e.class}):t("kdx-svg-icon",{staticClass:"platform-icon iconfont",attrs:{type:e.type}})],1)]],2)})),0):e._e()])],1)],1)])]),t("Col",{attrs:{span:"7"}},[t("Form",{attrs:{"label-width":120}},[t("p",{staticStyle:{"padding-top":"40px"}}),t("FormItem",{attrs:{label:"注册时间："}},[e._v(" "+e._s(e.user.created_at)+" ")]),t("FormItem",{attrs:{label:"Open Id："}},[t("span",[e._v(e._s(e.user.open_id))])])],1)],1),t("Col",{attrs:{span:"7"}},[t("Form",{attrs:{"label-width":100}},[t("p",{staticStyle:{"padding-top":"40px"}}),t("FormItem",{attrs:{label:"会员备注："}},[e._v(" "+e._s(e.user.remark||"-")+" ")])],1)],1)],1),t("div",{staticClass:"handleBtns"},e._l(e.handleBtns,(function(a,n){return t("div",{key:n},[(7!==n||e.user.password_set)&&a.isShow?t("Button",{staticClass:"btnStyle",attrs:{type:a.type,disabled:a.disabled},on:{click:a.handler}},[e._v(" "+e._s(a.name))]):e._e()],1)})),0),t("Row",{staticClass:"asset-information"},[t("Col",{attrs:{span:"8"}},[t("div",{staticClass:"asset-information-content"},[t("p",{staticClass:"title"},[e._v("积分")]),t("p",{staticClass:"data"},[e._v(e._s(e.user.credit))]),t("div",[t("Button",{attrs:{type:"text",disabled:1==e.user.is_deleted||e.noManagePerm},on:{click:e.checkIntegral}},[e._v("积分记录")])],1)])]),t("Col",{attrs:{span:"8"}},[t("div",{staticClass:"asset-information-content"},[t("p",{staticClass:"title"},[e._v("余额")]),t("p",{staticClass:"data"},[e._v("￥"+e._s(e.user.balance))]),t("div",[t("Button",{attrs:{type:"text",disabled:1==e.user.is_deleted||e.noManagePerm},on:{click:e.checkBalance}},[e._v("余额记录")])],1)])]),t("Col",{attrs:{span:"8"}},[t("div",{staticClass:"asset-information-content"},[t("p",{staticClass:"title"},[e._v("优惠券(张)")]),t("p",{staticClass:"data"},[e._v(e._s(e.user.coupon_count))]),t("div",[t("Button",{attrs:{type:"text",disabled:1==e.user.is_deleted},on:{click:e.lookCoupons}},[e._v("查看")])],1)])])],1),t("recharge-integral",{ref:"recharge_integral",attrs:{id:e.user.id,data:e.user.credit},on:{"on-refresh":e.handleRefresh}}),t("recharge-balance",{ref:"recharge_balance",attrs:{id:e.user.id,data:e.user.balance},on:{"on-refresh":e.handleRefresh}}),t("vip-grade-selector",{ref:"vip_grade_selector",attrs:{current:e.grade.current},on:{"on-change":e.changeGrade}}),t("vip-label-selector",{ref:"vip_label_selector",attrs:{multiple:"","current-list":e.user.groups},on:{"on-change":e.changeLevel}}),t("kdx-modal-frame",{attrs:{title:"优惠券查看",width:"750",footerHide:""},on:{"on-cancel":e.cancelCoupons,"on-ok":e.cancelCoupons},model:{value:e.coupons.modal,callback:function(t){e.$set(e.coupons,"modal",t)},expression:"coupons.modal"}},[t("Table",{ref:"table",attrs:{columns:e.columns,data:e.couponList}}),t("div",{staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.page.total},on:{"on-change":e.changeCouponPage}})],1)],1),t("kdx-modal-frame",{attrs:{title:"修改密码",width:"500"},on:{"on-cancel":e.cancelPassword,"on-ok":e.passwordOk},model:{value:e.changePassword.modal,callback:function(t){e.$set(e.changePassword,"modal",t)},expression:"changePassword.modal"}},[t("div",{staticClass:"change-password"},[t("Form",{attrs:{"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"新密码："}},[t("Input",{staticClass:"width-330",attrs:{placeholder:"请输入新密码"},on:{"on-enter":e.passwordOk},model:{value:e.changePassword.password,callback:function(t){e.$set(e.changePassword,"password",t)},expression:"changePassword.password"}})],1)],1)],1)]),t("kdx-modal-frame",{attrs:{title:"确认密码",width:"500"},on:{"on-cancel":e.handlePasswordCancel,"on-ok":e.handlePasswordOk},model:{value:e.passwordModal,callback:function(t){e.passwordModal=t},expression:"passwordModal"}},[t("Form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":120},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"系统登录密码："}},[t("Input",{staticClass:"width-330",attrs:{type:"password",placeholder:"请输入系统登录密码"},on:{"on-enter":e.handlePasswordOk},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1),t("kdx-modal-frame",{attrs:{title:e.user.remark?"修改备注":"添加备注",width:"500"},on:{"on-cancel":e.handleRemarkCancel,"on-ok":e.handleRemarkOk},model:{value:e.addRemark.modal,callback:function(t){e.$set(e.addRemark,"modal",t)},expression:"addRemark.modal"}},[t("div",{staticClass:"change-password"},[t("Form",{attrs:{"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"备注内容："}},[t("Input",{staticClass:"width-340",attrs:{type:"textarea",placeholder:"备注内容","show-word-limit":"",maxlength:50,autosize:{minRows:3}},model:{value:e.addRemark.remark,callback:function(t){e.$set(e.addRemark,"remark",t)},expression:"addRemark.remark"}})],1)],1)],1)]),t("kdx-modal-frame",{attrs:{title:e.user.mobile?"修改手机号":"添加手机号",width:"500"},on:{"on-cancel":e.cancelMemberMobile,"on-ok":e.changeMemberMobile},model:{value:e.mobileModel,callback:function(t){e.mobileModel=t},expression:"mobileModel"}},[t("div",{staticClass:"change-password"},[t("Form",{attrs:{"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"手机号："}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"手机号"},model:{value:e.changeMobile,callback:function(t){e.changeMobile=t},expression:"changeMobile"}})],1)],1)],1)]),t("kdx-modal-frame",{attrs:{title:"选择规格",width:"220"},on:{"on-cancel":e.selectChildCancel,"on-ok":e.selectChildOK},model:{value:e.showSelectChild,callback:function(t){e.showSelectChild=t},expression:"showSelectChild"}},[t("div",{staticClass:"childrenWrap"},e._l(e.selectChildren,(function(n,i){return t("div",{key:i,staticClass:"childItem",class:{active:e.selectedChildIndex===i,disabled:0==n.stock},on:{click:function(t){return e.selectChild(n,i)}}},[t("p",{staticClass:"price"},[e._v("￥"+e._s(n.denomination))]),t("p",{staticClass:"stock"},[e._v("库存："+e._s(n.stock))]),e.selectedChildIndex===i?t("img",{attrs:{src:a("bbe2")}}):e._e()])})),0)])],1)};t.render=n;var i=[];t.staticRenderFns=i},"42fc":function(e,t,a){},"45f6":function(e,t,a){"use strict";a.r(t);var n=a("eba0"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"4efc":function(e,t,a){"use strict";var n=a("daff3");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"4fbf":function(e,t,a){},5060:function(e,t,a){"use strict";var n=a("30d1");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"51c5":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("99af");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vip-detail-base"},[t("div",{staticClass:"content"},[t("div",{staticClass:"base"},[t("kdx-form-title",[e._v("基本信息")]),t("Row",{staticClass:"base-information"},[t("Col",{attrs:{span:"6"}},[t("Form",{attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"手机号码："}},[t("kdx-svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.user.mobile,expression:"user.mobile"}],staticClass:"telephone-icon",attrs:{type:"icon-dianhua"}}),t("span",{staticClass:"telephone"},[e._v(e._s(e.user.mobile||"-"))])],1),t("FormItem",{attrs:{label:"标签组："}},[e.user.groups&&e.user.groups.length>0?t("div",{staticClass:"label-group"},e._l(e.user.groups,(function(a,n){return t("kdx-tag-label",{key:n,staticStyle:{margin:"0 10px 10px 0"},attrs:{type:"info",closable:!1,border:""}},[e._v(e._s(a.group_name||""))])})),1):e._e()])],1)],1),t("Col",{attrs:{span:"6"}},[t("Form",{attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"用户密码："}},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.user.password_set?"已设置":"未设置"))])]),t("FormItem",{attrs:{label:"会员等级："}},[e.user&&e.user.is_default_level?t("span",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.user.level_name||""))]):t("span",{staticClass:"vip-grade"},[t("i",{staticClass:"icon-huangguan icon iconfont",staticStyle:{color:"#EAD4A9"}}),e._v(" "+e._s(e.user.level_name||"")+" ")])])],1)],1),t("Col",{attrs:{span:"6"}},[t("Form",{attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"关注状态："}},[e._v(" "+e._s(e.user.is_follow_name)+" ")]),t("FormItem",{attrs:{label:"最近浏览时间："}},[e._v(" "+e._s(e.user.last_time)+" ")])],1)],1),t("Col",{attrs:{span:"6"}},[t("Form",{attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"出生日期："}},[e._v(" "+e._s("".concat(e.user.birth_year,"-").concat(e.user.birth_month,"-").concat(e.user.birth_day))+" ")]),t("FormItem",{attrs:{label:"所属城市："}},[e._v(" "+e._s("".concat(e.user.province||"","-").concat(e.user.city||""))+" ")])],1)],1)],1)],1),e.form.content?t("form-info",{attrs:{data:e.form.content}}):e._e(),t("div",{staticClass:"deal"},[t("kdx-form-title",[e._v("交易信息")]),t("Row",{staticClass:"deal-information"},[t("Col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-dingdan",staticStyle:{color:"$brand-color"}})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("累计成交订单数(笔)")]),t("div",[t("span",{staticClass:"number"},[e._v(e._s(e.order_info.success_count))]),t("Button",{attrs:{type:"text",disabled:1==e.user.is_deleted},on:{click:e.toOrder}},[e._v("查看")])],1)])])]),t("Col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content balance-color"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-jinqian1",staticStyle:{color:"#FF9900"}})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("累计成交金额")]),t("div",[t("span",{staticClass:"number archive-price"},[e._v("￥"+e._s(e.order_info.success_price))])])])])]),t("Col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content normal-color"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-dingdan",staticStyle:{color:"#FF1F2C"}})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("累计退款订单数(笔)")]),t("div",[t("span",{staticClass:"number order-number"},[e._v(e._s(e.order_info.refund_count))]),t("Button",{attrs:{type:"text",disabled:1==e.user.is_deleted},on:{click:e.toRefundOrder}},[e._v("查看")])],1)])])]),t("Col",{attrs:{xxl:6,xl:12,lg:12,md:12}},[t("div",{staticClass:"deal-information-content normal-color"},[t("div",{staticClass:"left-icon"},[t("i",{staticClass:"iconfont icon-jinqian1",staticStyle:{color:"#FF1F2C"}})]),t("div",{staticClass:"right-content"},[t("p",{staticClass:"title"},[e._v("累计退款金额")]),t("div",[t("span",{staticClass:"number order-number"},[e._v("￥"+e._s(e.order_info.refund_price))])])])])])],1)],1)],1)])};t.render=n;var i=[];t.staticRenderFns=i},5471:function(e,t,a){"use strict";a.r(t);var n=a("1bf7"),i=a("78d8");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("af70");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"4f72f8de",null);t["default"]=o.exports},58165:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b85c"));a("ac1f"),a("841c"),a("14d9"),a("4de4"),a("d3b7"),a("159b"),a("3c65"),a("d81d");var s={props:{basicInfo:{type:Object,default:function(){return{}}},info:{type:Object,default:function(){return{}}},current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},close:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{value:!1,search:{keyword:""},columns:[{title:"分销商",key:"nickname",minWidth:200,render:function(t,a){var n;return"20"==a.row.source?n=t("span",{class:"iconfont icon-weixin icon"}):"21"==a.row.source?n=t("span",{class:"iconfont icon-weixinxiaochengxu icon"}):"30"==a.row.client_type?n=t("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"==a.row.client_type?n=t("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"==a.row.client_type?n=t("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-douyin"}}):"10"==a.row.source?n=t("span",{class:"iconfont icon-H icon"}):"70"==a.row.source&&(n=t("span",{style:"color:#12aa9c;font-size:14px",class:"iconfont icon-PCduan icon"})),t("div",{class:"vip-info"},[t("div",{class:"user-image"},[t("img",{attrs:{src:e.$media(a.row.avatar),alt:""},on:{error:function(t){e.replaceImage(t,"avatar")}}})]),t("div",{class:"vip-content"},[t("p",{class:"vip-name"},[a.row.nickname]),t("div",{class:"vip-platform"},[n])])])}},{title:"分销商等级",key:"commission_level_name",minWidth:100,render:function(e,t){return t.row[t.column.key]?e("div",{class:"vip-grade"},[e("div",{class:"icon"},[e("kdx-svg-icon",{attrs:{type:"icon-fenxiaoshang-bg"}})]),e("div",{class:"text"},[t.row[t.column.key]])]):e("div",["-"])}},{title:"手机号",key:"mobile",minWidth:100,render:function(e,t){return t.row[t.column.key]?e("div",[t.row[t.column.key]]):e("div",["-"])}},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:20,pageNumber:1},selectRow:{},selectRows:[],loading:!1}},methods:{setValue:function(e){this.value=e||!this.value,this.value&&(this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:""}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;if(this.multiple)this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}));else{if(!t)return;this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{},this.$emit("on-change",this.selectRow)}},defaultChecked:function(){var e=this;this.multiple?(this.selectRows=this.currentList,this.data.forEach((function(t,a){var n,s=(0,i.default)(e.currentList);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}}))):(this.selectRow=this.current,this.data.forEach((function(t,a){e.current&&t.id===e.current.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)})))},handlePageChange:function(e){this.page=e,this.getList();try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}},handleOk:function(){this.multiple?(this.$emit("on-change",this.selectRows),this.$emit("change",this.selectRows)):(this.$emit("on-change",this.selectRow),this.$emit("change",this.selectRow)),this.close||this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber,keyword:this.search.keyword},this.search);this.$api.commissionApi.distributorList(t).then((function(t){0===t.error&&(e.search.keyword||1!=e.info.agent_info.status||t.list.unshift({member_id:"0",nickname:"总店"}),t.list=t.list.filter((function(t){return t.member_id!==e.basicInfo.member.id})),e.data=t.list.map((function(e){return e.id=e.member_id,e})),e.total=t.total,e.defaultChecked(),e.loading=!1)}))}}};t.default=s},5860:function(e,t,a){"use strict";a("3a34f")},"58db":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"分销商等级",width:700},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"level-selector"},[t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)],1)])};t.render=a;var n=[];t.staticRenderFns=n},"59ca":function(e,t,a){"use strict";a.r(t);var n=a("a2fb"),i=a("a38c");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("d7b6");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"195190c0",null);t["default"]=o.exports},"5a58":function(e,t,a){"use strict";a("790b")},"606e":function(e,t,a){"use strict";a.r(t);var n=a("58165"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},6230:function(e,t,a){"use strict";var n=a("51c5");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"67ba":function(e,t,a){"use strict";a.r(t);var n=a("a179"),i=a("2f21");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("7558");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"37ddc2fe",null);t["default"]=o.exports},"6dc5":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4e82"),a("d81d");var i=n(a("9683")),s={components:{FormInfo:i.default},props:{memberData:{type:Object},levels:{type:Array},groups:{type:Array},form:{type:Object,default:function(){}}},computed:{allSource:function(){var e,t={10:{class:"icon-H color-icon-H",type:"icon-qudao-H5-gray",name:"手机浏览器H5"},20:{class:"icon-weixin color-weixin",type:"icon-qudao-weixin-gray",name:"公众号"},21:{class:"icon-weixinxiaochengxu color-weixinxiaochengxu",type:"icon-qudao-weixinxiaochengxu-gray",name:"微信小程序"},30:{class:"icon-qudao-toutiao2",type:"icon-qudao-toutiao2-gray",name:"头条小程序"},32:{class:"icon-qudao-toutiaojisuban",type:"icon-qudao-toutiaojisuban-gray",name:"头条小程序"},31:{class:"icon-douyin",type:"icon-qudao-douyin-gary",name:"抖音小程序"}},a=(null===this||void 0===this||null===(e=this.user)||void 0===e?void 0:e.all_source)||[],n=a.sort((function(e,t){return t.is_register-e.is_register}));return n.map((function(e){var a={};return a.is_register=e.is_register,a.source=e.source,Object.assign(a,t[e.source]),a}))}},data:function(){return{user:{avatar:"",groups:[]},order_info:{}}},watch:{memberData:{handler:function(e){this.user=e.member||{},this.order_info=e.order_info||{}},deep:!0,immediate:!0}},methods:{toOrder:function(){var e={keywords:this.user.id,search_field:"member_id"};this.$utils.openNewWindowPage("/order/list/all",e)},toRefundOrder:function(){var e={keywords:this.user.id,search_field:"member_id",refund_type:"4"};this.$utils.openNewWindowPage("/order/list/refund",e)}}};t.default=s},7286:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b85c"));a("ac1f"),a("841c"),a("14d9"),a("4de4"),a("d3b7"),a("159b"),a("e9c4");var s={name:"VipGradeSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{value:!1,search:{keyword:""},columns:[{title:"会员等级",key:"level_name"},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:10,pageNumber:1},selectRow:{},selectRows:[],loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:""}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;this.multiple?(this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))):(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{})},defaultChecked:function(){var e=this;this.multiple?(this.selectRows=JSON.parse(JSON.stringify(this.currentList)),this.data.forEach((function(t,a){var n,s=(0,i.default)(e.currentList);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}}))):(this.selectRow=this.current,this.data.forEach((function(t,a){e.current&&t.id===e.current.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)})))},handlePageChange:function(e){this.page=e;try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}this.getList()},handleOk:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.$api.memberApi.getLevelList(t).then((function(t){0===t.error&&(e.data=t.list,e.total=t.total,e.defaultChecked(),e.loading=!1)}))}}};t.default=s},7558:function(e,t,a){"use strict";a("e587")},"78d8":function(e,t,a){"use strict";a.r(t);var n=a("bdc7"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"790b":function(e,t,a){},"7e41":function(e,t,a){},"88c4":function(e,t,a){"use strict";a.r(t);var n=a("ac1ff"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"8c26":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var n=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"会员等级选择器",width:850},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"vip-grade-selector"},[t("div",{ref:"scrollBox",staticClass:"vip-grade-selector-content"},[t("div",{staticClass:"search"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=n;var i=[];t.staticRenderFns=i},9137:function(e,t,a){"use strict";a.r(t);var n=a("6230"),i=a("30af");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("1b70"),a("5860");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"1ad0417e",null);t["default"]=o.exports},9157:function(e,t,a){"use strict";a.r(t);var n=a("c5a7"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"92dc":function(e,t,a){"use strict";a("9abd")},"95b6":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"余额充值",width:610},on:{"on-cancel":e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("Button",{staticClass:"default-long",on:{click:e.handleCancel}},[e._v("取消")]),t("Button",{staticClass:"primary-long",attrs:{loading:e.loading},on:{click:e.handleOk}},[e._v("确定")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"recharge-balance-modal"},[t("Form",{ref:"form",attrs:{"label-width":120,model:e.model,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"当前余额："}},[t("div",{staticClass:"balance-data"},[e._v(e._s(e.data))])]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"变化："}},[t("RadioGroup",{model:{value:e.model.change_type,callback:function(t){e.$set(e.model,"change_type",t)},expression:"model.change_type"}},[t("Radio",{attrs:{label:"1"}},[e._v("增加")]),t("Radio",{attrs:{label:"2"}},[e._v("减少")]),t("Radio",{attrs:{label:"0"}},[e._v("最终余额")])],1)],1),t("FormItem",{attrs:{label:"充值数目：",prop:"num"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{type:"text",fixed:2,"max-value":9999999.99,number:"",placeholder:"请输入充值数目"},model:{value:e.model.num,callback:function(t){e.$set(e.model,"num",t)},expression:"model.num"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1),t("FormItem",{attrs:{label:"备注：",prop:"remark"}},[t("Input",{staticClass:"width-430",attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),t("FormItem",{attrs:{label:"操作员密码：",prop:"password",error:e.textError}},[t("Input",{staticClass:"width-430",attrs:{type:"password",placeholder:"请输入登录操作员密码"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1)],1)])};t.render=a;var n=[];t.staticRenderFns=n},9683:function(e,t,a){"use strict";a.r(t);var n=a("5060"),i=a("0134");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("2854");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"0cedc6ac",null);t["default"]=o.exports},9915:function(e,t,a){"use strict";a("3f634")},"9abd":function(e,t,a){},"9def":function(e,t,a){},a14d:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("841c"),a("14d9"),a("4de4"),a("d3b7"),a("159b");var i=n(a("b85c")),s=n(a("5530")),r=n(a("2909")),o={name:"VipGradeSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{value:!1,search:{keyword:""},columns:[{title:"标签组",key:"group_name"},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:10,pageNumber:1},selectRow:{},selectRows:[],loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.multiple?this.selectRows=(0,r.default)(this.currentList)||[]:this.selectRow=(0,s.default)({},this.current),this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:""}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;this.multiple?(this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))):(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{})},defaultChecked:function(){var e=this;this.multiple?this.data.forEach((function(t,a){var n,s=(0,i.default)(e.selectRows);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}})):this.data.forEach((function(t,a){e.selectRow&&t.id===e.selectRow.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)}))},handlePageChange:function(e){this.page=e;try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}this.getList()},handleOk:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.value=!1},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.$api.memberApi.getGroupList(t).then((function(t){0===t.error&&(e.data=t.list,e.total=t.total,e.defaultChecked(),e.loading=!1)}))}}};t.default=o},a179:function(e,t,a){"use strict";var n=a("f0e9");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},a2fb:function(e,t,a){"use strict";var n=a("13eb");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},a38c:function(e,t,a){"use strict";a.r(t);var n=a("a14d"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},a426:function(e,t,a){"use strict";a("3552")},a62a:function(e,t,a){"use strict";a.r(t);var n=a("21e9"),i=a("9157");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("9915");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"5c5a34a7",null);t["default"]=o.exports},a6cd:function(e,t,a){"use strict";a.r(t);var n=a("278c"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},a8bd:function(e,t,a){"use strict";var n=a("95b6");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},ac1ff:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4e82"),a("d81d"),a("14d9"),a("caad"),a("2532");var i=n(a("3741")),s=n(a("e027")),r=n(a("0775")),o=n(a("59ca")),l={props:{memberData:{type:Object}},components:{RechargeIntegral:i.default,RechargeBalance:s.default,VipGradeSelector:r.default,VipLabelSelector:o.default},created:function(){var e=this;this.bus.$on("passwordModal",(function(t){e.passwordModal=t}))},beforeDestroy:function(){this.bus.$off("passwordModal")},mounted:function(){},data:function(){this.$createElement;return{user:{avatar:"",groups:[]},grade:{current:{}},coupons:{modal:!1,id:""},levelsModel:!1,mobileModel:!1,changeMobile:"",changePassword:{modal:!1,password:""},addRemark:{modal:!1,remark:""},passwordModal:!1,password:"",columns:[{title:"ID",key:"id",width:80},{title:"优惠券名称",key:"title",minWidth:120},{title:"优惠内容",key:"content",minWidth:150,render:function(e,t){return e("div",[e("span",["满"]),e("span",[t.row.enough]),e("span",[1==t.row.coupon_sale_type?"减":"享"]),e("span",[t.row.discount_price]),e("span",[1==t.row.coupon_sale_type?"":"折"])])}},{title:"到期时间",key:"end_time",width:200}],rules:{group_name:[{required:!0,message:"请填写标签名称"}]},selectId:[],couponList:[],page:{pageSize:10,pageNumber:1},showSelectChild:!1,selectChildren:[],selectedChildIndex:null,selectHasChildGift:{},selectedIndex:null}},computed:{allSource:function(){var e,t={10:{class:"icon-H color-icon-H",type:"icon-qudao-H5-gray",name:"手机浏览器H5"},20:{class:"icon-weixin color-weixin",type:"icon-qudao-weixin-gray",name:"公众号"},21:{class:"icon-weixinxiaochengxu color-weixinxiaochengxu",type:"icon-qudao-weixinxiaochengxu-gray",name:"微信小程序"},30:{class:"icon-qudao-toutiao2",type:"icon-qudao-toutiao2-gray",name:"头条小程序"},32:{class:"icon-qudao-toutiaojisuban",type:"icon-qudao-toutiaojisuban-gray",name:"头条小程序"},31:{class:"icon-douyin",type:"icon-qudao-douyin-gary",name:"抖音小程序"},70:{class:"icon-PCduan icon-pc",type:"icon-zujian-shangpinzu-danlieshangpin",name:"PC商城"}},a=(null===this||void 0===this||null===(e=this.user)||void 0===e?void 0:e.all_source)||[],n=a.sort((function(e,t){return t.is_register-e.is_register}));return n.map((function(e){var a={};return a.is_register=e.is_register,a.source=e.source,Object.assign(a,t[e.source]),a}))},noManagePerm:function(){return!this.$getPermMap("member.list.manage")},handleBtns:function(){var e=this;return[{name:"充值积分",type:"warning",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.rechargeIntegral,isShow:!0},{name:"修改余额",type:"warning",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.rechargeBalance,isShow:!0},{name:"修改会员等级",type:"success",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.editGrade,isShow:!0},{name:"添加标签组",type:"success",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.editLevel,isShow:!0},{name:this.user.mobile?"修改手机号":"添加手机号",type:"success",disabled:1==this.user.is_deleted||this.noManagePerm,handler:function(){e.mobileModel=!0},isShow:!0},{name:"修改密码",type:"success",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.handleChangePassword,isShow:!0},{name:"会员备注",type:"success",disabled:1==this.user.is_deleted||this.noManagePerm,handler:this.editRemark,isShow:!0}]}},methods:{checkIntegral:function(){this.$utils.openNewWindowPage("/finance/pointsDetails/index",{member_id:this.user.id})},checkBalance:function(){this.$utils.openNewWindowPage("/finance/balanceDetails/index",{member_id:this.user.id})},rechargeIntegral:function(){this.$refs["recharge_integral"].setValue()},rechargeBalance:function(){this.$refs["recharge_balance"].setValue()},lookCoupons:function(){this.coupons.modal=!0,this.page.pageNumber=1,this.getCouponList()},getCouponList:function(){var e=this;this.$api.memberApi.getMemberCoupon({member_id:this.user.id,pagesize:this.page.pageSize,page:this.page.pageNumber}).then((function(t){e.couponList=t.list,e.page.total=t.total}))},changeCouponPage:function(e){this.page=e,this.getCouponList()},cancelCoupons:function(){this.coupons.modal=!1},editMemberMobile:function(){this.editMemberMobileModal=!0},changeMemberMobile:function(){var e=this;this.$api.memberApi.changeMemberMobile({id:this.user.id,mobile:this.changeMobile}).then((function(t){0==t.error&&(e.$emit("getDetail"),e.$Message.success("手机号修改成功")),e.mobileModel=!1}))},cancelMemberMobile:function(){this.mobileModel=!1,this.changeMobile=""},handleChangePassword:function(){this.changePassword.modal=!0},cancelPassword:function(){this.changePassword.modal=!1},passwordOk:function(){var e=this;this.$api.memberApi.changePassword({id:this.user.id,password:this.changePassword.password}).then((function(t){0==t.error&&(e.$emit("getDetail"),e.$Message.success("修改成功")),e.changePassword.modal=!1}))},editGrade:function(){var e=this;this.grade.current={id:this.user.level_id},this.$nextTick((function(){e.$refs["vip_grade_selector"].setValue()}))},changeGrade:function(e){var t=this;this.$api.memberApi.changeMemberLevel({id:this.user.id,level_id:e.id}).then((function(e){0==e.error&&(t.$emit("getDetail"),t.$Message.success("修改成功"))}))},editLevel:function(){var e=this;this.grade.current={id:this.user.level_id},this.$nextTick((function(){e.$refs["vip_label_selector"].setValue()}))},changeLevel:function(e){var t=this;this.$api.memberApi.changeMemberGroup({id:this.user.id,group_ids:e.map((function(e){return e.id}))}).then((function(e){0==e.error&&(t.$emit("getDetail"),t.$Message.success("修改成功"))}))},handleRefresh:function(){this.$emit("getDetail")},handlePasswordCancel:function(){this.passwordModal=!1},handlePasswordOk:function(){var e=this,t={id:this.user.id,manage_password:this.password};t.manage_password?(this.$api.memberApi.deleteMember(t).then((function(t){0==t.error&&(e.$Message.success("删除成功"),e.$router.push({path:"/member/list"}))})),this.passwordModal=!1):this.$Message.error("填写密码")},handleRemarkCancel:function(){this.addRemark.modal=!1},handleRemarkOk:function(){var e=this;this.$api.memberApi.changeRemark({remark:this.addRemark.remark,id:this.user.id}).then((function(t){0==t.error&&(e.$emit("getDetail"),e.$Message.success("保存成功")),e.addRemark.modal=!1}))},editRemark:function(){this.addRemark.modal=!0,this.addRemark.remark=this.user.remark},selectChild:function(e,t){0!=e.stock&&(this.selectedChildIndex=t)},selectChildCancel:function(){this.selectedChildIndex=null,this.showSelectChild=!1},selectChildOK:function(){if(""!==this.selectedChildIndex){var e=this.giftData[this.selectedIndex];e.selectChild=this.selectChildren[this.selectedChildIndex],this.$set(e,"checked",!0),this.giftData[this.selectedIndex].selectChildIndex=this.selectedChildIndex;var t=this.$refs.recharge_gift.selectRows.map((function(e){return e.id})).includes(e.id);!t&&this.$refs.recharge_gift.selectRows.push(e),this.showSelectChild=!1,this.selectedChildIndex=null}else this.$Message.warning("请选择规格")}},watch:{memberData:{handler:function(e){this.user=e.member||{},this.order_info=e.order_info||{}},deep:!0,immediate:!0}}};t.default=l},af70:function(e,t,a){"use strict";a("42fc")},b00d:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var n=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"修改上级分销商?",width:700},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"level-selector"},[t("div",{ref:"scrollBox",staticClass:"level-selector-content"},[t("div",{staticClass:"search"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=n;var i=[];t.staticRenderFns=i},b6da:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("a15b");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-info",style:{marginTop:e.isShow?"":"40px"}},[e.isShow?t("kdx-form-title",[e._v("表单信息")]):e._e(),t("Form",{attrs:{"label-width":120}},[t("div",{staticClass:"form-info-content"},[e._l(e.data,(function(a,n){return["pictures"!==a.type?t("div",{key:n,staticClass:"form-info-item"},[t("FormItem",{staticClass:"r-form-item-text",attrs:{label:"".concat(a.params.title,"：")}},["checkboxes"===a.type?t("div",[e._v(" "+e._s(a.params.value.join(","))+" ")]):"city"===a.type?t("div",[e._v(" "+e._s(a.params.province||"")+e._s(a.params.city||"")+e._s(a.params.area||"")+" ")]):"daterange"===a.type||"timerange"===a.type?t("div",[e._v(" "+e._s(a.params.start.value)+" ~ "+e._s(a.params.end.value)+" ")]):t("div",[e._v(" "+e._s(a.params.value)+" ")])])],1):e._e()]})),e.imageList.length?e._l(e.imageList,(function(a,n){return t("div",{key:"m".concat(n),staticClass:"form-info-item"},[t("FormItem",{staticClass:"r-form-item-text",attrs:{label:"".concat(a.params.title,"：")}},[t("div",{staticClass:"info-image"},[a.params.value.length?[t("div",{staticClass:"image-box"},e._l(a.params.value,(function(a,n){return t("div",{key:n,staticClass:"image"},[t("img",{attrs:{src:e.$media(a),alt:""},on:{error:e.replaceImage}}),t("div",{staticClass:"shade",on:{click:function(t){return e.previewImg(!0,n)}}},[t("div",{staticClass:"shade-content"},[t("p",[t("Icon",{attrs:{type:"ios-search"}})],1),t("p",[e._v("查看")])])])])})),0)]:e._e()],2)])],1)})):e._e()],2)]),t("preview-img",{directives:[{name:"show",rawName:"v-show",value:e.imgModal,expression:"imgModal"}],attrs:{imgList:e.previewImages||[],currentIndex:e.current},on:{"on-close":function(t){return e.previewImg(!1)},"on-change":e.changePreview}})],1)};t.render=n;var i=[];t.staticRenderFns=i},b9d3:function(e,t,a){"use strict";a("dc0b")},bbe2:function(e,t,a){e.exports=a.p+"static/dist/shop/img/selectedIcon.svg"},bdc7:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var n={props:{vertical:{type:Boolean,default:!1},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},items:{type:Array,default:function(){return[{label:"label1",iconType:"",disabled:!1},{label:"label2",iconType:"",disabled:!1}]}},type:{type:String,default:void 0}},watch:{value:{immediate:!0,handler:function(){this.selected="-1";for(var e=0;e<this.items.length;e++)this.items[e].id==this.value&&(this.selected=e);if("-1"==this.selected)for(var t=0;t<this.items.length;t++)""===this.items[t].id&&(this.selected=t);this.lastSelected=this.selected}}},data:function(){return{selected:"",lastSelected:null}},methods:{onChange:function(e){var t=this;if(this.lazy)if(null!==this.lastSelected)this.$nextTick((function(){t.selected=t.lastSelected;var a=t.items[e].id;t.$emit("input",a),t.$emit("change",a,t.items[e])}));else{this.lastSelected=this.selected;var a=this.items[this.selected].id;this.$emit("input",a),this.$emit("change",a,this.items[this.selected])}else{var n=this.items[this.selected].id;this.$emit("input",n),this.$emit("change",n,this.items[this.selected])}}}};t.default=n},c279:function(e,t,a){"use strict";a("35f13")},c307:function(e,t,a){"use strict";a.r(t);var n=a("ef6ae"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},c5a7:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("d3b7");var i=n(a("5530")),s=n(a("5471")),r=n(a("d04f")),o=n(a("e36d")),l=n(a("fa75")),c=n(a("0f3c")),d=a("2f62"),u={components:{MyRadioGroup:s.default,LevelSelector:r.default,AgentSelector:o.default,FormInfo:l.default,RelationLog:c.default},props:{basicInfo:{type:Object,default:function(){return{}}},info:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){}}},data:function(){return{upgrade:[{label:"是",id:1},{label:"否",id:0}],showMore:!1,loading:!1,level:{},relationModal:!1}},computed:(0,i.default)((0,i.default)({},(0,d.mapState)("commission/settings",["settings"])),{},{curAgent:function(){var e,t,a,n;return{id:(null===(e=this.info)||void 0===e||null===(t=e.parent_info)||void 0===t?void 0:t.id)||"0",member_id:(null===(a=this.info)||void 0===a||null===(n=a.parent_info)||void 0===n?void 0:n.id)||"0"}},noManagePerm:function(){return!this.$getPermMap("member.list.manage")},currentLevel:function(){return{id:this.info.agent_info.level_id}},realName:function(){var e,t,a,n,i={name:"",mobile:""};null!==(e=this.info)&&void 0!==e&&null!==(t=e.agent_info)&&void 0!==t&&t.apply_data&&(i=JSON.parse(null===(a=this.info)||void 0===a||null===(n=a.agent_info)||void 0===n?void 0:n.apply_data));return i}}),methods:{handleSet:function(){0===this.settings.commission_level?this.open():this.set()},open:function(){var e=this;this.$Modal.confirm({title:"提示",content:"分销应用暂未开启，请开启后进行设置",cancelText:"取消",okText:"立即开启",onOk:function(){e.$router.push({path:"/commission/settings"})}})},set:function(){var e=this;this.$Modal.confirm({title:"提示",content:"确认设为分销商?",cancelText:"取消",onOk:function(){e.loading=!0,e.$api.commissionApi.manualSetCommission({id:e.basicInfo.member.id}).then((function(t){0==t.error&&(e.$Message.success("设置成功"),e.$emit("reload"))})).finally((function(){e.loading=!1}))}})},handleOperate:function(e){var t=this;this.loading=!0,this.$api.commissionApi.changeStatus({member_id:this.basicInfo.member.id,status:e}).then((function(e){0==e.error&&(t.$Message.success("设置成功"),t.$emit("reload"))})).finally((function(){t.loading=!1}))},setAutoUpgrade:function(e){var t=this;this.$api.commissionApi.autoUpgrade({is_auto_upgrade:e,member_id:this.basicInfo.member.id}).then((function(e){0==e.error&&(t.$emit("reload"),t.$Message.success("设置成功"))}))},selectAgent:function(){this.$refs.agentSelector.setValue()},getAgent:function(e){var t=this;this.$api.commissionApi.changeAgent({agent_id:e.member_id,member_id:this.basicInfo.member.id}).then((function(e){0===e.error?(t.$refs.agentSelector.setValue(!1),t.$emit("reload"),t.$Message.success("设置成功")):331116!==e.error&&t.$refs.agentSelector.setValue(!1)}))},getLevel:function(e){var t=this;this.$api.commissionApi.changeLevel({level_id:e.id,member_id:this.basicInfo.member.id}).then((function(e){0==e.error&&(t.$emit("reload"),t.$Message.success("设置成功"))}))},selectLevel:function(){this.$refs.levelSelector.setValue()},cancel:function(){var e=this;this.$Modal.confirm({title:"提示",content:"确认取消分销商资格?",cancelText:"取消",onOk:function(){e.loading=!0,e.$api.commissionApi.changeStatus({member_id:e.basicInfo.member.id,status:-2}).then((function(t){0==t.error&&(e.$Message.success("设置成功"),e.$emit("reload"))})).finally((function(){e.loading=!1}))}})},goCommision:function(){this.$utils.openNewWindowPage("/commission/order/list",{member_id:this.basicInfo.member.id,member_type:"1"})},unbindAgent:function(){var e=this;this.$Modal.confirm({title:"确认解绑",content:"解绑后当前会员可被重新绑定分销关系",cancelText:"取消",onOk:function(){e.loading=!0,e.$api.commissionApi.unbindAgent({member_id:e.basicInfo.member.id,agent_id:0}).then((function(t){0==t.error&&(e.$Message.success("解绑成功"),e.$emit("reload"))})).finally((function(){e.loading=!1}))}})},viewRelationLog:function(){this.relationModal=!0}}};t.default=u},ca9d:function(e,t,a){"use strict";a("1a4f")},cadb:function(e,t,a){"use strict";var n=a("58db");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d04f:function(e,t,a){"use strict";a.r(t);var n=a("cadb"),i=a("0f2ab");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("5a58");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"4884bb46",null);t["default"]=o.exports},d0ff:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b85c")),s=n(a("5530"));a("a9e3"),a("d81d"),a("b0c0"),a("ac1f"),a("841c"),a("14d9"),a("4de4"),a("d3b7"),a("159b"),a("e9c4");var r={props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},status:{type:Number}},data:function(){var e=this;this.$createElement;return{value:!1,search:{content:""},columns:[{title:"等级权重",key:"level",render:function(e,t){if("1"==t.row.is_default)return e("div",["默认"]);var a=["一","二","三","四","五","六","七","八","九","十"];return e("div",[a[parseInt(t.row.level)-1],"级"])}},{title:"分销商等级",key:"name"},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:20,pageNumber:1},selectRow:{},selectRows:[],loading:!1}},computed:{levelList:function(){var e=this;return this.data.map((function(t){return t.name.indexOf(e.search.content)>-1}))}},methods:{setValue:function(){console.log(this.status,"this.status>>>>>"),this.value=!this.value,this.value&&(this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.search=(0,s.default)({},this.search),this.resetPage(),this.getList()},resetSearch:function(){this.search.content="",this.search.status=""},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;this.multiple?(this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))):(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{},this.$emit("on-change",this.selectRow))},defaultChecked:function(){var e=this;this.multiple?(this.selectRows=JSON.parse(JSON.stringify(this.currentList)),this.data.forEach((function(t,a){var n,s=(0,i.default)(e.currentList);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}}))):(this.selectRow=this.current,this.data.forEach((function(t,a){e.current&&t.id===e.current.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)})))},handlePageChange:function(e){this.page=e,this.getList()},handleOk:function(){this.multiple?(this.$emit("on-change",this.selectRows),this.$emit("change",this.selectRows)):(this.$emit("on-change",this.selectRow),this.$emit("change",this.selectRow)),this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.status?t.status=this.status:delete t.status,this.$api.commissionApi.levelList(t).then((function(t){0===t.error&&(e.data=t.list,e.total=t.total,e.defaultChecked(),e.loading=!1)}))}}};t.default=r},d7b6:function(e,t,a){"use strict";a("7e41")},d9c5:function(e,t,a){"use strict";a.r(t);var n=a("7286"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},daff3:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"积分充值",width:610},on:{"on-cancel":e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("Button",{staticClass:"default-long",on:{click:e.handleCancel}},[e._v("取消")]),t("Button",{staticClass:"primary-long",attrs:{loading:e.loading},on:{click:e.handleOk}},[e._v("确定")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"recharge-integral-modal"},[t("Form",{ref:"form",attrs:{"label-width":120,model:e.model,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"当前积分："}},[t("div",{staticClass:"integral-data"},[e._v(e._s(e.data))])]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"变化："}},[t("RadioGroup",{model:{value:e.model.change_type,callback:function(t){e.$set(e.model,"change_type",t)},expression:"model.change_type"}},[t("Radio",{attrs:{label:"1"}},[e._v("增加")]),t("Radio",{attrs:{label:"2"}},[e._v("减少")]),t("Radio",{attrs:{label:"0"}},[e._v("最终积分")])],1)],1),t("FormItem",{attrs:{label:"充值数目：",prop:"num"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{fixed:0,"max-value":9999999,number:"",placeholder:"请输入充值数目"},model:{value:e.model.num,callback:function(t){e.$set(e.model,"num",t)},expression:"model.num"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("积分")])])],1),t("FormItem",{attrs:{label:"备注：",prop:"remark"}},[t("Input",{staticClass:"width-430",attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),t("FormItem",{attrs:{label:"操作员密码：",prop:"password",error:e.textError}},[t("Input",{staticClass:"width-430",attrs:{type:"password",placeholder:"请输入登录操作员密码"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1)],1)])};t.render=a;var n=[];t.staticRenderFns=n},dc0b:function(e,t,a){},e027:function(e,t,a){"use strict";a.r(t);var n=a("a8bd"),i=a("45f6");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("14be");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"15079351",null);t["default"]=o.exports},e07a:function(e,t,a){"use strict";var n=a("b6da");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},e0cf:function(e,t,a){"use strict";a.r(t);var n=a("345c"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},e36d:function(e,t,a){"use strict";a.r(t);var n=a("f3fa"),i=a("606e");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("b9d3");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"2a0227e5",null);t["default"]=o.exports},e4f6:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("d3b7"),a("159b"),a("99af");var i=n(a("329f")),s={name:"FormInfo",components:{PreviewImg:i.default},props:{data:{type:Array,default:function(){return[]}},isShow:{type:Boolean,default:!0}},data:function(){return{imageList:[],previewImages:[],imgModal:!1,current:0}},watch:{data:{handler:function(){var e=this;this.imageList=this.data.filter((function(e){return"pictures"===e.type})),this.previewImages=[],this.imageList.length&&this.imageList.forEach((function(t){e.previewImages=e.previewImages.concat(t.params.value)}))},immediate:!0}},methods:{previewImg:function(e,t){t&&(this.current=t),this.imgModal=e},changePreview:function(e){this.current=e}}};t.default=s},e5123:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var n=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{value:e.value,title:"上级分销关系变更记录",width:"744",okText:"关闭",isCancel:!1},on:{"on-cancel":e.handleCancel,"on-ok":e.handleCancel}},[t("div",{staticClass:"relation-log"},[t("div",{staticClass:"head flex"},[t("p",[e._v("分销关系变更时间")]),t("p",[e._v("上级分销商")]),t("p",[e._v("变更原因")])]),e.list.length?t("div",{staticClass:"body-content"},e._l(e.list,(function(a){return t("div",{key:a.id,staticClass:"item flex"},[t("div",{staticClass:"time flex"},[t("div",{staticClass:"line"}),t("div",[e._v(e._s(a.created_at))])]),t("div",{staticClass:"vip-info"},[t("img",{attrs:{src:e.$utils.media(a.parent_avatar),alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),t("p",{staticClass:"name"},[t("span",{staticStyle:{"margin-bottom":"4px"}},[e._v(e._s(a.parent_nickname||"-"))]),new Set(["10","20","21"]).has(a.parent_source)?t("i",{staticClass:"iconfont",class:{"icon-H":"10"===a.parent_source,"icon-weixin":"20"===a.parent_source,"icon-weixinxiaochengxu":"21"===a.parent_source}}):"30"===a.parent_source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===a.parent_source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===a.parent_source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===a.parent_source?t("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):e._e()],1)]),t("div",{staticClass:"line-hide"},[e._v(e._s(a.relation_reason))])])})),0):t("div",{staticClass:"no-data"},[e._v(" 暂无上级分销商关系信息 ")])])])};t.render=n;var i=[];t.staticRenderFns=i},e587:function(e,t,a){},e6d6:function(e,t,a){"use strict";a("3dbb")},eba0:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("d3b7");var n={name:"RechargeIntegral",props:{id:{type:[String,Number]},data:{type:[String,Number]}},data:function(){return{value:!1,textError:"",model:{change_type:"1",num:"",remark:"",password:""},loading:!1,rules:{num:[{required:!0,message:"请填写充值数目"}],remark:[{required:!0,message:"请填写备注"}],password:[{required:!0,message:"请输入登录操作员密码"}]}}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.resetModel(),this.$refs["form"].resetFields())},handleOk:function(){var e=this;this.textError="",this.$refs["form"].validate((function(t){if(t){var a=Object.assign({id:e.id,type:"balance"},e.model);if(a.num>9999999.99)return void e.$Message.error("充值的数目最大为9999999.99");e.loading=!0,e.$api.memberApi.rechargeMember(a,{nomessage:!0}).then((function(t){211118==t.error?e.textError="管理员密码不正确":0===t.error?(e.$Message.success("余额充值成功"),e.$emit("on-refresh"),e.handleCancel()):e.$Message.error(t.message)})).finally((function(){e.loading=!1}))}}))},handleCancel:function(){this.value=!1,this.$refs["form"].resetFields()},resetModel:function(){this.model={change_type:"1",num:"",remark:"",password:""}}}};t.default=n},ede3:function(e,t,a){},ef6ae:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var n={name:"RelationLog",components:{},props:{value:{type:Boolean,default:!1},memberId:{type:[String,Number],default:""}},data:function(){return{list:[],columns:[{title:"分销关系变更时间",key:"created_at"},{title:"上级分销商",slot:"parent_nickname"},{title:"变更原因",key:"relation_reason"}]}},computed:{},watch:{memberId:function(e,t){e!==t&&(this.list=[],this.getList())}},created:function(){},mounted:function(){},methods:{handleCancel:function(){this.$emit("input",!1)},handleReachBottom:function(){},getList:function(){var e=this,t={id:this.memberId};this.$api.memberApi.getRelationLog(t).then((function(t){0===t.error&&(e.list=t.list)}))}}};t.default=n},f0e9:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"commission-info"},[t("is-distributor",{attrs:{info:e.info,basicInfo:e.basicInfo,form:e.form},on:{reload:e.reload}})],1)};t.render=a;var n=[];t.staticRenderFns=n},f3fa:function(e,t,a){"use strict";var n=a("b00d");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},f6e0:function(e,t,a){},fa75:function(e,t,a){"use strict";a.r(t);var n=a("e07a"),i=a("a6cd");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("fc4e");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"bdb262ca",null);t["default"]=o.exports},fc4e:function(e,t,a){"use strict";a("9def")}}]);