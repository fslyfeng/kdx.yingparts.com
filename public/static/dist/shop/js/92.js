(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[92],{"0b43":function(e,t,o){var n=o("04f8");e.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},"260b8":function(e,t,o){},"2ecd":function(e,t,o){"use strict";o.r(t);var n=o("fcec"),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"428f":function(e,t,o){var n=o("da84");e.exports=n},"50b6":function(e,t,o){"use strict";o.r(t);var n=o("638e"),r=o("2ecd");for(var a in r)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(a);o("b886");var i=o("2877"),s=Object(i["a"])(r["default"],n["render"],n["staticRenderFns"],!1,null,"27eee4ef",null);t["default"]=s.exports},"57b9":function(e,t,o){var n=o("c65b"),r=o("d066"),a=o("b622"),i=o("cb2d");e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,o=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&i(t,s,(function(e){return n(o,this)}),{arity:1})}},"5a47":function(e,t,o){var n=o("23e7"),r=o("04f8"),a=o("d039"),i=o("7418"),s=o("7b0b"),l=!r||a((function(){i.f(1)}));n({target:"Object",stat:!0,forced:l},{getOwnPropertySymbols:function(e){var t=i.f;return t?t(s(e)):[]}})},"638e":function(e,t,o){"use strict";var n=o("e404");o.o(n,"render")&&o.d(t,"render",(function(){return n["render"]})),o.o(n,"staticRenderFns")&&o.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},8149:function(e,t,o){e.exports=o.p+"static/dist/shop/img/agreement.png"},"87ac":function(e,t,o){e.exports=o.p+"static/dist/shop/img/preview_img.png"},a4d3:function(e,t,o){o("d9f5"),o("b4f8"),o("c513"),o("e9c4"),o("5a47")},b4f8:function(e,t,o){var n=o("23e7"),r=o("d066"),a=o("1a2d"),i=o("577e"),s=o("5692"),l=o("0b43"),c=s("string-to-symbol-registry"),d=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=i(e);if(a(c,t))return c[t];var o=r("Symbol")(t);return c[t]=o,d[o]=t,o}})},b886:function(e,t,o){"use strict";o("260b8")},c23b:function(e,t,o){e.exports=o.p+"static/dist/shop/img/sale_out.png"},c513:function(e,t,o){var n=o("23e7"),r=o("1a2d"),a=o("d9b5"),i=o("0d51"),s=o("5692"),l=o("0b43"),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(i(e)+" is not a symbol");if(r(c,e))return c[e]}})},d9f5:function(e,t,o){"use strict";var n=o("23e7"),r=o("da84"),a=o("c65b"),i=o("e330"),s=o("c430"),l=o("83ab"),c=o("04f8"),d=o("d039"),u=o("1a2d"),m=o("3a9b"),f=o("825a"),p=o("fc6a"),g=o("a04b"),b=o("577e"),h=o("5c6c"),v=o("7c73"),_=o("df75"),y=o("241c"),x=o("057f"),w=o("7418"),k=o("06cf"),S=o("9bf2"),I=o("37e8"),F=o("d1e7"),$=o("cb2d"),P=o("5692"),O=o("f772"),M=o("d012"),R=o("90e3"),C=o("b622"),E=o("e538"),j=o("e065"),T=o("57b9"),q=o("d44e"),N=o("69f3"),B=o("b727").forEach,D=O("hidden"),G="Symbol",A="prototype",L=N.set,J=N.getterFor(G),V=Object[A],z=r.Symbol,H=z&&z[A],Q=r.TypeError,W=r.QObject,K=k.f,U=S.f,X=x.f,Y=F.f,Z=i([].push),ee=P("symbols"),te=P("op-symbols"),oe=P("wks"),ne=!W||!W[A]||!W[A].findChild,re=l&&d((function(){return 7!=v(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(e,t,o){var n=K(V,t);n&&delete V[t],U(e,t,o),n&&e!==V&&U(V,t,n)}:U,ae=function(e,t){var o=ee[e]=v(H);return L(o,{type:G,tag:e,description:t}),l||(o.description=t),o},ie=function(e,t,o){e===V&&ie(te,t,o),f(e);var n=g(t);return f(o),u(ee,n)?(o.enumerable?(u(e,D)&&e[D][n]&&(e[D][n]=!1),o=v(o,{enumerable:h(0,!1)})):(u(e,D)||U(e,D,h(1,{})),e[D][n]=!0),re(e,n,o)):U(e,n,o)},se=function(e,t){f(e);var o=p(t),n=_(o).concat(me(o));return B(n,(function(t){l&&!a(ce,o,t)||ie(e,t,o[t])})),e},le=function(e,t){return void 0===t?v(e):se(v(e),t)},ce=function(e){var t=g(e),o=a(Y,this,t);return!(this===V&&u(ee,t)&&!u(te,t))&&(!(o||!u(this,t)||!u(ee,t)||u(this,D)&&this[D][t])||o)},de=function(e,t){var o=p(e),n=g(t);if(o!==V||!u(ee,n)||u(te,n)){var r=K(o,n);return!r||!u(ee,n)||u(o,D)&&o[D][n]||(r.enumerable=!0),r}},ue=function(e){var t=X(p(e)),o=[];return B(t,(function(e){u(ee,e)||u(M,e)||Z(o,e)})),o},me=function(e){var t=e===V,o=X(t?te:p(e)),n=[];return B(o,(function(e){!u(ee,e)||t&&!u(V,e)||Z(n,ee[e])})),n};c||(z=function(){if(m(H,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,t=R(e),o=function(e){this===V&&a(o,te,e),u(this,D)&&u(this[D],t)&&(this[D][t]=!1),re(this,t,h(1,e))};return l&&ne&&re(V,t,{configurable:!0,set:o}),ae(t,e)},H=z[A],$(H,"toString",(function(){return J(this).tag})),$(z,"withoutSetter",(function(e){return ae(R(e),e)})),F.f=ce,S.f=ie,I.f=se,k.f=de,y.f=x.f=ue,w.f=me,E.f=function(e){return ae(C(e),e)},l&&(U(H,"description",{configurable:!0,get:function(){return J(this).description}}),s||$(V,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),B(_(oe),(function(e){j(e)})),n({target:G,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!l},{create:le,defineProperty:ie,defineProperties:se,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ue}),T(),q(z,G),M[D]=!0},e01a:function(e,t,o){"use strict";var n=o("23e7"),r=o("83ab"),a=o("da84"),i=o("e330"),s=o("1a2d"),l=o("1626"),c=o("3a9b"),d=o("577e"),u=o("9bf2").f,m=o("e893"),f=a.Symbol,p=f&&f.prototype;if(r&&l(f)&&(!("description"in p)||void 0!==f().description)){var g={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};m(b,f),b.prototype=p,p.constructor=b;var h="Symbol(test)"==String(f("test")),v=i(p.valueOf),_=i(p.toString),y=/^Symbol\((.*)\)[^)]+$/,x=i("".replace),w=i("".slice);u(p,"description",{configurable:!0,get:function(){var e=v(this);if(s(g,e))return"";var t=_(e),o=h?w(t,7,-1):x(t,y,"$1");return""===o?void 0:o}}),n({global:!0,constructor:!0,forced:!0},{Symbol:b})}},e065:function(e,t,o){var n=o("428f"),r=o("1a2d"),a=o("e538"),i=o("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||i(t,e,{value:a.f(e)})}},e404:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,o("b0c0"),o("a4d3"),o("e01a");var n=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"handler-btn primary-long",attrs:{disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"container"},[t("Form",{ref:"form",staticClass:"content",attrs:{model:e.model,rules:e.rules,"label-width":140},on:{"on-validate":e.onValidate}},[t("div",{staticClass:"content-box"},[t("kdx-form-title",[e._v("站点设置")]),t("FormItem",{attrs:{label:"商城状态：",prop:"mall_status"}},[t("RadioGroup",{model:{value:e.model.mall_status,callback:function(t){e.$set(e.model,"mall_status",t)},expression:"model.mall_status"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("营业")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("关闭")])])],1)],1),0==e.model.mall_status?t("FormItem",{attrs:{label:"商城关闭跳转链接："}},[t("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,placeholder:"请输入"},model:{value:e.model.mall_close_url,callback:function(t){e.$set(e.model,"mall_close_url",t)},expression:"model.mall_close_url"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("http://")])])],1):e._e(),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.name",modifiers:{name:!0}}],attrs:{label:"商城名称：",prop:"name"}},[t("Input",{staticStyle:{width:"300px"},attrs:{disabled:e.noManagePerm,placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.description",modifiers:{description:!0}}],attrs:{label:"商城简介：",prop:"description"}},[t("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,type:"textarea",placeholder:"用于商城系统分享副标题"},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.logo",modifiers:{logo:!0}}],attrs:{label:"商城LOGO：",prop:"logo"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.logo},on:{"on-change":function(t){return e.changeThumb(t,"logo")}}}),t("kdx-hint-text",[e._v("图片为长方形，建议尺寸200*100，用于商城首页分享的系统默认宣传图")])],1),t("FormItem",{attrs:{label:"登录页背景图：",prop:"login_show_img"}},[t("kdx-image-video",{attrs:{height:67,type:"image",current:e.model.login_show_img},on:{"on-change":function(t){return e.changeThumb(t,"login_show_img")}}}),t("kdx-hint-text",[e._v("登录页面背景图片，可进行自定义修改，建议尺寸1920*1080")])],1),t("FormItem",{attrs:{label:"售罄图标：",prop:"sale_out"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.sale_out},on:{"on-change":function(t){return e.changeThumb(t,"sale_out")}}}),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"建议尺寸比例为1:1，用于商品售罄后的提示图标"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:o("c23b")}})],1)],1),t("FormItem",{attrs:{label:"加载图标：",prop:"loading"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.loading},on:{"on-change":function(t){return e.changeThumb(t,"loading")}}}),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"图片为正方形，建议尺寸200*200，用于网络较慢图片未加载出来时的占位图"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:o("ef0a")}})],1)],1),t("FormItem",{attrs:{label:"商城图片预览："}},[t("RadioGroup",{model:{value:e.model.photo_preview,callback:function(t){e.$set(e.model,"photo_preview",t)},expression:"model.photo_preview"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("开启")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("关闭")])])],1),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"如果开启此选项，则商品详情、轮播图的图片可以放大预览"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:o("87ac")}})],1)],1),t("FormItem",{attrs:{label:"网站备案号："}},[t("Input",{staticClass:"agree-input",attrs:{disabled:e.noManagePerm,placeholder:"请输入网站备案号"},model:{value:e.model.icp_code,callback:function(t){e.$set(e.model,"icp_code",t)},expression:"model.icp_code"}})],1)],1),t("div",{staticClass:"content-box"},[t("kdx-form-title",[e._v("协议信息")]),t("FormItem",{attrs:{label:"协议标题：",prop:"agreement_name"}},[t("Input",{staticClass:"agree-input",attrs:{disabled:e.noManagePerm,placeholder:"请输入协议标题",maxlength:"10","show-word-limit":""},on:{"on-blur":e.agreeInput},model:{value:e.model.agreement_name,callback:function(t){e.$set(e.model,"agreement_name",t)},expression:"model.agreement_name"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:o("8149")}})],1),t("FormItem",{attrs:{label:"协议内容：",prop:"agreement_content"}},[t("editor",{attrs:{height:667},on:{input:e.contentInput},model:{value:e.model.agreement_content,callback:function(t){e.$set(e.model,"agreement_content",t)},expression:"model.agreement_content"}})],1),t("kdx-form-title",[e._v("基本设置")]),t("FormItem",{attrs:{label:"全局代码统计：",prop:"statistics"}},[t("Input",{attrs:{type:"textarea",autosize:{minRows:5}},model:{value:e.model.global_code,callback:function(t){e.$set(e.model,"global_code",t)},expression:"model.global_code"}})],1)],1)])],1)])};t.render=n;var r=[];t.staticRenderFns=r},e538:function(e,t,o){var n=o("b622");t.f=n},ef0a:function(e,t,o){e.exports=o.p+"static/dist/shop/img/load_picture.png"},fcec:function(e,t,o){var n=o("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o("ade3")),a=n(o("15fd"));o("d9e2"),o("498a"),o("d3b7");var i=n(o("5530")),s=n(o("ceb0")),l=o("2f62"),c=["error","shop_info","global_code"],d={name:"index",components:{Editor:s.default},computed:(0,i.default)((0,i.default)({},(0,l.mapState)("account",{shopId:function(e){return e.shop.shopId}})),{},{noManagePerm:function(){return!this.$getPermMap("sysset.mall.basic.manage")},isRoot:function(){var e,t;return 1==(null===(e=this.$store.state.config)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.is_root)}}),data:function(){return{model:{mall_status:"1",mall_close_url:"",name:"",logo:"",login_show_img:"",description:"",sale_out:"",loading:"",photo_preview:"1",agreement_name:"用户注册使用协议",agreement_content:"用户注册使用协议",global_code:""},rules:{mall_status:[{required:!0,message:"请选择商城状态"}],name:[{required:!0,message:"请输入商城名称"}],logo:[{required:!0,message:"请上传商城LOGO",trigger:"change"}],login_show_img:[{required:!0,message:"请上传登录页展示图",trigger:"change"}],description:[{required:!0,message:"请输入商城简介"}]},submitLoading:!1,shop_info:{},passModel:{password:""},passRules:{password:[{required:!0,message:"请输入密码"}],checked:[{required:!0,validator:function(e,t,o){t?o():o(new Error("请先确认风险"))}}]}}},methods:{changeThumb:function(e,t){this.$set(this.model,t,e)},getData:function(){var e=this;this.$api.settingApi.getBaseSetting({}).then((function(t){var o=t.error,n=t.shop_info,r=t.global_code,s=(0,a.default)(t,c);0===o&&(e.model=(0,i.default)((0,i.default)((0,i.default)({},e.model),s),{},{global_code:r}),e.shop_info=n||{},e.$store.commit("config/setBaseSetting",s))}))},agreeInput:function(){""===this.model.agreement_name.trim()&&(this.model.agreement_name="用户注册使用协议")},contentInput:function(){""===this.model.agreement_content.trim()&&(this.model.agreement_content="用户注册使用协议")},onValidate:function(e,t){this.cacheError=(0,i.default)((0,i.default)({},this.cacheError),{},(0,r.default)({},e,t))},validate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return new Promise((function(o){e.$refs["form"].validate((function(n){o(n),t(n),e.$nextTick((function(){if(!n)for(var t in e.cacheError)if(!e.cacheError[t]){e.$focusError(t);break}}))}))}))},handleSave:function(){var e=this;this.validate((function(t){t&&e.$api.settingApi.changeBaseSetting(e.model).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.getData())}))}))},okHandler:function(){var e=this;this.$refs.passForm.validate((function(t){t&&e.$api.settingApi.deleleShop({password:e.passModel.password}).then((function(t){0==t.error&&e.getData()}))}))},reNewBtn:function(){this.$utils.openNewWindowPage("/create/renew",{shop_id:this.shopId})}},mounted:function(){this.getData()}};t.default=d}}]);