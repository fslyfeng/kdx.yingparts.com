(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{"0546":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comp-add-region"},[t("div",{staticClass:"region-wrap"},[t("ul",e._l(e.regionList,(function(i,a){return t("li",{key:a,ref:"regionItem".concat(a),refInFor:!0,class:{active:i.active}},[t("div",{staticClass:"region-wrap-title",on:{click:function(t){return t.stopPropagation(),e.fnSelect(a)}}},[t("div",{staticClass:"left"},[t("div",{staticClass:"radio",style:{backgroundColor:i.color.backgroundColor,borderColor:i.color.borderColor}},[t("i",{style:{backgroundColor:i.color.borderColor}})]),t("div",{staticClass:"text"},[e._v("区域"+e._s(a+1))])]),t("div",{staticClass:"right",on:{click:function(t){return t.stopPropagation(),e.fnDelete(a)}}},[e._v(" 删除 ")])]),t("div",{staticClass:"region-wrap-content"},[t("Form",{ref:"regionForm".concat(a),refInFor:!0,attrs:{model:i.model,rules:i.rules,"label-width":100},on:{"on-validate":e.onValidate}},[t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.initial_price",modifiers:{initial_price:!0}}],attrs:{label:"起送金额：",prop:"initial_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"input-width",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},on:{"on-input-change":e.fnDataChange},model:{value:i.model.initial_price,callback:function(t){e.$set(i.model,"initial_price",t)},expression:"item.model.initial_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1),0===e.delivery_area?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_price",modifiers:{dispatch_price:!0}}],attrs:{label:"配送费：",prop:"dispatch_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"input-width",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},on:{"on-input-change":e.fnDataChange},model:{value:i.model.dispatch_price,callback:function(t){e.$set(i.model,"dispatch_price",t)},expression:"item.model.dispatch_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),0===e.division_way?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.radius",modifiers:{radius:!0}}],attrs:{label:"半径：",prop:"radius","show-message":!1}},[t("kdx-rr-input",{staticClass:"input-width",attrs:{placeholder:"请输入",number:"",fixed:3,"min-value":0,"max-value":9999999999.99},on:{"on-input-change":function(t){return e.fnDataChange("radius",i,a)}},model:{value:i.model.radius,callback:function(t){e.$set(i.model,"radius",t)},expression:"item.model.radius"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("公里")])])],1):e._e(),t("FormItem",{attrs:{label:"免配送费：",prop:"is_free"}},[t("RadioGroup",{on:{"on-change":e.fnDataChange},model:{value:i.model.is_free,callback:function(t){e.$set(i.model,"is_free",t)},expression:"item.model.is_free"}},[t("Radio",{attrs:{label:"1"}},[e._v("是")]),t("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),"1"===i.model.is_free?t("div",{staticClass:"next-box"},[e._v(" 商品售价 "),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.free_price",modifiers:{free_price:!0}}],attrs:{label:"",prop:"free_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"input-width",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},on:{"on-input-change":e.fnDataChange},model:{value:i.model.free_price,callback:function(t){e.$set(i.model,"free_price",t)},expression:"item.model.free_price"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("满")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1),e._v(" 免配送费 ")],1):e._e()],1)],1)])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.regionList.length<10,expression:"regionList.length < 10"}],staticClass:"add-wrap",on:{click:e.fnAddRegion}},[e._v(" +添加配送区域（"+e._s(e.regionList.length)+"/10） ")])])};t.render=i;var a=[];t.staticRenderFns=a},"1b08":function(e,t,i){var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("c7eb")),n=a(i("5530")),s=a(i("1da1")),o=i("2f62"),d={props:["type"],data:function(){return{showModalFlag:!1,modalTitle:"",modalType:"",modelValue:0,deliveryType:{express:0}}},computed:{noManagePerm:function(){return!this.$getPermMap("order.dispatch.manage")}},created:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDispatchEnable();case 2:i=t.sent,e.deliveryType=(0,n.default)({},i),"ordinaryExpress"===e.type?e.modelValue=(null===i||void 0===i?void 0:i.express)||0:"samecityDelivery"===e.type&&(e.modelValue=(null===i||void 0===i?void 0:i.intracity)||0);case 5:case"end":return t.stop()}}),t)})))()},methods:(0,n.default)((0,n.default)({},(0,o.mapActions)("goodAddEdit",["getDispatchEnable"])),{},{showModal:function(){this.modalTitle="运费模板说明",this.modalType="description",this.showModalFlag=!0},handleChange:function(e){var t=this;if("ordinaryExpress"===this.type){if(0===e&&0===this.deliveryType.intracity)return this.modalTitle="系统提示",this.modalType="tips",this.showModalFlag=!0,void this.$nextTick((function(){t.modelValue=1}));this.enableExpress()}else if("samecityDelivery"===this.type){if(0===e&&0===this.deliveryType.express)return this.modalTitle="系统提示",this.modalType="tips",this.showModalFlag=!0,void this.$nextTick((function(){t.modelValue=1}));this.$emit("change",e)}},enableExpress:function(){var e=this;this.$api.orderApi.enableExpress({enable:this.modelValue}).then((function(t){0===t.error&&e.$Message.success("修改成功")}))},enableIntracity:function(e){var t=this;this.$api.orderApi.enableIntracity({enable:e}).then((function(e){0===e.error&&t.$Message.success("修改成功")}))}})};t.default=d},"1f11":function(e,t,i){},"315e":function(e,t,i){"use strict";i.r(t);var a=i("7b53"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},3995:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comp-delivery-type"},[t("div",{staticClass:"flex align-center space-between"},[t("div",{staticClass:"left"},[t("div",{staticClass:"flex left-box"},["ordinaryExpress"===e.type?t("div",{staticClass:"name"},[e._v(" 普通快递 ")]):e._e(),"samecityDelivery"===e.type?t("div",{staticClass:"name"},[e._v(" 同城配送 ")]):e._e(),t("div",{staticClass:"right",staticStyle:{"margin-left":"16px"}},[t("i-switch",{attrs:{"true-value":1,"false-value":0,disabled:e.noManagePerm},on:{"on-change":e.handleChange},model:{value:e.modelValue,callback:function(t){e.modelValue=t},expression:"modelValue"}}),t("div",{staticClass:"text",class:{active:1===e.modelValue}},[e._v(" "+e._s(1===e.modelValue?"已开启":"已关闭")+" ")])],1)]),"ordinaryExpress"===e.type?t("div",{staticClass:"tips"},[e._v(" 启用后，买家下单可以选择快递发货，由商家安排快递送货上门。 "),t("span",{on:{click:e.showModal}},[e._v(" 【运费计算规则】 ")])]):e._e(),"samecityDelivery"===e.type?t("div",{staticClass:"tips"},[e._v(" 启用同城配送后，在配送范围内的买家可以选择同城配送，商家可以接入第三方配送，也可以自己配送。 ")]):e._e()])]),t("kdx-modal-frame",{attrs:{title:e.modalTitle,footerHide:!0},on:{"on-cancel":function(t){e.showModalFlag=!1}},model:{value:e.showModalFlag,callback:function(t){e.showModalFlag=t},expression:"showModalFlag"}},["description"===e.modalType?t("div",{staticClass:"modal-frame-content"},[t("div",{staticClass:"title"},[e._v("组合运费")]),t("ul",[t("li",[t("div",{staticClass:"item-title"},[e._v(" 1. 不同商品设置同一运费模板： "),t("span",[e._v("【相关所有商品按该模板设置的规则计算】")])]),t("div",{staticClass:"item-content"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"left note"},[e._v("注意")]),t("div",{staticClass:"right"},[e._v(" 不足续件或者续重的数目的时候，仍然按照续件或者续重的数目进行计算 ")])]),t("div",{staticClass:"flex"},[t("div",{staticClass:"left example"},[e._v("例子")]),t("div",{staticClass:"right"},[e._v(" 商品A，B都是用模板M（首3件10块，续2件5块）"),t("br"),e._v(" 同时购买商品2件A和2件B"),t("br"),e._v(" 运费=模板M的运费=10+5=15元 ")])])])]),t("li",[t("div",{staticClass:"item-title"},[e._v(" 2. 多种商品，分别设置不同金额的统一运费： "),t("span",[e._v("【以最高运费金额收取】")])]),t("div",{staticClass:"item-content"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"left note"},[e._v("注意")]),t("div",{staticClass:"right"},[e._v(" 不足续件或者续重的数目的时候，仍然按照续件或者续重的数目进行计算 ")])]),t("div",{staticClass:"flex"},[t("div",{staticClass:"left example"},[e._v("例子")]),t("div",{staticClass:"right"},[e._v(" 商品E，F，G的统一运费分别为1元，2元和3元"),t("br"),e._v(" 同时购买E，F，G商品 ， 运费=最大统一运费=3元 ")])])])]),t("li",[t("div",{staticClass:"item-title"},[e._v(" 3. 不同商品设置不同的运费模板： "),t("span",[e._v("【先计算Max首费模板运费+其他模板续费】")])]),t("div",{staticClass:"item-content"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"left note"},[e._v("注意")]),t("div",{staticClass:"right"},[t("span",[e._v("Max首费计算规则")]),t("br"),e._v(" 1.先对比首费，取最大首费模板"),t("br"),e._v(" 2.首费一样时对比首费平均值，取最大首费平均值"),t("br"),e._v(" 3.首费平均值一样时，对比续费，取最大续费"),t("br"),e._v(" 4.续费一样时对比续费平均值，取最大续费平均值 ")])]),t("div",{staticClass:"flex"},[t("div",{staticClass:"left example"},[e._v("例子")]),t("div",{staticClass:"right"},[e._v(" 商品C（1kg）使用用模板N（首1kg，10块，续2kg，5块），商品D（0.5kg）使用模板O（首2kg，12块，续1kg，5块），"),t("br"),e._v(" 同时购买商品（2kg）C和（1kg）D ，运费=模板O的运费+模板N的续费=（12）+（5）=17元 ")])])])]),t("li",[t("div",{staticClass:"item-title"},[e._v(" 4. 统一运费商品和运费模板商品一同结算： "),t("span",[e._v(" 【单独计算统一运费商品应收运费，再累加运费模板应收运费】 ")])]),t("div",{staticClass:"item-content"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"left example"},[e._v("例子")]),t("div",{staticClass:"right"},[e._v(" 同时购买商品2件A和2件B + （2kg）C和（1kg）D + E，F，G"),t("br"),e._v(" 运费=最大统一运费+模板O的运费+模板N的续费+模板M的续费=3+（12）+（5）+（5*2）=30元 ")])])])])])]):e._e(),"tips"===e.modalType?t("div",{staticClass:"modal-frame-content"},[t("div",{staticClass:"modal-frame-content-tips"},[e._v(" 需要开启快递发货店铺才能正常运营。 ")])]):e._e()])],1)};t.render=i;var a=[];t.staticRenderFns=a},"401d":function(e,t,i){},4089:function(e,t,i){"use strict";i.r(t);var a=i("d472"),r=i("d7e8");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("d0b6");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"0f793d16",null);t["default"]=o.exports},"41f9":function(e,t,i){"use strict";var a=i("8fa35");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},4578:function(e,t,i){"use strict";i.r(t);var a=i("89fb"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"4fadc":function(e,t,i){var a=i("23e7"),r=i("6f53").entries;a({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"526e":function(e,t,i){"use strict";var a=i("0546");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"59f9":function(e,t,i){"use strict";i("d742")},"5b526":function(e,t,i){"use strict";i("1f11")},"5df4":function(e,t,i){var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("ade3")),n=a(i("3835")),s=a(i("c7eb")),o=a(i("1da1")),d=a(i("5530")),l=a(i("15fd"));i("d9e2"),i("d3b7"),i("99af"),i("14d9"),i("fb6a"),i("d81d"),i("a434"),i("b0c0"),i("159b"),i("caad"),i("2532"),i("6062"),i("3ca3"),i("ddb0"),i("e9c4"),i("a15b"),i("4fadc"),i("a9e3");var c=a(i("4089")),u=a(i("7261")),p=a(i("ddee")),m=a(i("a35d8")),v=a(i("7aaa")),f=["dada"],h={components:{DeliveryType:c.default,AddRegion:u.default,Map:p.default,ModifyAddressModal:m.default,DistributionItem:v.default},data:function(){var e=this;return{loading:!1,showModal:!1,modalType:"modify",modalTitle:"",modalOkText:"",amap_key:"",amap_code:"",model:{delivery_time_settings:{time_span:"",time:[],start:"",end:"",span_detail:[]},amap_key_js:"",delivery_type:[],third_delivery_type:[],merchant:0,third_party:0,address:"",amap_key:"",delivery_area:0,division_way:0,dispatch_area:[],dispatch_barrio:[],barrio_rule:{initial_price:"",dispatch_price:""},jffs:"1",xzsf:"1",dispatch_rule:{initial_distance:"",initial_dispatch_price:"",increase_distance:"",increase_distance_price:"",over_distance:"",over_distance_fix_price:"",initial_weight:"",increase_weight:"",increase_weight_price:""},over_scope:0,delivery_time:0},rules:{delivery_type:[{required:!0,message:"配送方式必选"}],address:[{required:!0,message:"店铺地址必填，请先设置店铺地址"}],amap_key:[{required:!0,message:"高德Web服务接口Key必填"}],delivery_area:[{required:!0,message:"配送区域必选"}],division_way:[{required:!0,message:"划分方式必选"}],dispatch_barrio:[{required:!0,message:"配送区域必选"}],"barrio_rule.initial_price":[{required:!0,message:"起送金额必填"}],"barrio_rule.dispatch_price":[{required:!0,message:"配送费必填"}],jffs:[{required:!0,message:""}],xzsf:[{required:!0,message:""}],"dispatch_rule.initial_distance":[{required:!0,message:"必填"}],"dispatch_rule.initial_dispatch_price":[{required:!0,message:"必填"}],"dispatch_rule.increase_distance":[{required:!0,message:"必填"}],"dispatch_rule.increase_distance_price":[{required:!0,message:"必填"}],"dispatch_rule.over_distance":[{required:!0,message:"必填"}],"dispatch_rule.over_distance_fix_price":[{required:!0,message:"必填"}],"dispatch_rule.initial_weight":[{required:!0,message:"必填"}],"dispatch_rule.increase_weight":[{required:!0,message:"必填"}],"dispatch_rule.increase_weight_price":[{required:!0,message:"必填"}],over_scope:[{required:!0,message:"超出范围必选"}],"delivery_time_settings.time_span":[{required:!0,message:"时段划分单位必填"}],"delivery_time_settings.start":[{validator:function(t,i,a){1!=e.model.delivery_time||e.model.delivery_time_settings.start?a():a(new Error("起止时间必填"))}}]},areaList:[],colors:[],initRegionData:{initial_price:"",dispatch_price:"",radius:"2",is_free:"0",free_price:"",center_lng:"",center_lat:"",location:[]},regionList:[],distribution:{infoChecked:["1"],infoList:[{id:"1",key:"dada",name:"达达配送",image:i("e2f3")}],current:"1"}}},computed:{noManagePerm:function(){return!this.$getPermMap("order.dispatch.manage")}},created:function(){this.initColors(),this.getIntracitySetting()},methods:{getIntracitySetting:function(){var e=this;return this.loading=!0,new Promise((function(t){e.$api.orderApi.getIntracitySetting({}).then((function(i){if(e.loading=!1,0===i.error){var a,r,n,s,o,c,u,p,m,v,h,_,g,y,b,x,w,C,k,F,R,M,A,E,I,P,L,S,T,$=i.data,D=$.dada,O=void 0===D?{}:D,j=(0,l.default)($,f);O=O||{},e.model=(0,d.default)((0,d.default)((0,d.default)({},e.model),j),{},{address:"".concat(null===(a=i.address)||void 0===a||null===(r=a.address)||void 0===r?void 0:r.province).concat(null===(n=i.address)||void 0===n||null===(s=n.address)||void 0===s?void 0:s.city).concat(null===(o=i.address)||void 0===o||null===(c=o.address)||void 0===c?void 0:c.area).concat(null===(u=i.address)||void 0===u||null===(p=u.address)||void 0===p?void 0:p.detail),lng:null===(m=i.address)||void 0===m||null===(v=m.address)||void 0===v?void 0:v.lng,lat:null===(h=i.address)||void 0===h||null===(_=h.address)||void 0===_?void 0:_.lat,dispatch_rule:j.dispatch_rule||e.model.dispatch_rule,delivery_time_settings:(0,d.default)((0,d.default)({},null===(g=i.data)||void 0===g?void 0:g.delivery_time_settings),{},{time:[(null===(y=i.data)||void 0===y||null===(b=y.delivery_time_settings)||void 0===b?void 0:b.start)||"",(null===(x=i.data)||void 0===x||null===(w=x.delivery_time_settings)||void 0===w?void 0:w.end)||""],time_span:(null===(C=i.data)||void 0===C||null===(k=C.delivery_time_settings)||void 0===k?void 0:k.time_span)||"",span_detail:null!==(F=i.data)&&void 0!==F&&null!==(R=F.delivery_time_settings)&&void 0!==R&&R.span_detail.length?null===(M=i.data)||void 0===M||null===(A=M.delivery_time_settings)||void 0===A?void 0:A.span_detail.split(","):[]})}),e.amap_key=(null===i||void 0===i||null===(E=i.address)||void 0===E?void 0:E.amap_key)||"",e.amap_code=(null===i||void 0===i||null===(I=i.address)||void 0===I?void 0:I.amap_code)||"",setTimeout((function(){e.$refs.amap.changeKey(e.amap_key,e.amap_code)}),0),1===e.model.merchant&&e.model.delivery_type.push("1"),e.distribution.current="",1===e.model.third_party?(e.$nextTick((function(){e.$refs["distribution_third"].resetModel({dada:O})})),e.model.delivery_type.push("2"),"1"===O.enable&&e.distribution.infoChecked.push("1"),e.distribution.current=e.distribution.infoChecked[0]||"1"):e.distribution.current="1",e.initRegionData.center_lng=null===(P=i.address)||void 0===P||null===(L=P.address)||void 0===L?void 0:L.lng,e.initRegionData.center_lat=null===(S=i.address)||void 0===S||null===(T=S.address)||void 0===T?void 0:T.lat,e.initRegionData.location[0]={lng:parseFloat(e.initRegionData.center_lng)-.02,lat:parseFloat(e.initRegionData.center_lat)+.02},e.initRegionData.location[1]={lng:parseFloat(e.initRegionData.center_lng)+.02,lat:parseFloat(e.initRegionData.center_lat)+.02},e.initRegionData.location[2]={lng:parseFloat(e.initRegionData.center_lng)+.02,lat:parseFloat(e.initRegionData.center_lat)-.02},e.initRegionData.location[3]={lng:parseFloat(e.initRegionData.center_lng)-.02,lat:parseFloat(e.initRegionData.center_lat)-.02},e.model.dispatch_area&&e.model.dispatch_area.length>0?(e.model.dispatch_area=e.model.dispatch_area.slice(0,10),e.regionList=e.model.dispatch_area.map((function(t,a){var r,n,s,o;return{color:e.colors[a],active:!1,model:(0,d.default)((0,d.default)({},t),{},{center_lat:t.center_lat?t.center_lat:null===(r=i.address)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.lat,center_lng:t.center_lng?t.center_lng:null===(s=i.address)||void 0===s||null===(o=s.address)||void 0===o?void 0:o.lng})}})),e.colors.splice(0,e.model.dispatch_area.length)):e.initRegionList(),t()}}))}))},deliveryAreaChange:function(e){2===e&&(this.model.amap_key?this.getConfigDistance():this.$Message.info("请先设置高德web服务key,否则获取不到可用行政区域"))},getConfigDistance:function(){var e=this;this.$api.orderApi.getConfigDistance({amap_key:this.model.amap_key}).then((function(t){0===t.error&&(e.areaList=t.data.map((function(e){return{value:e.adcode,label:e.name}})))}))},handleChange:function(e){var t=this;this.model.address?this.$refs["deliveryType"].enableIntracity(e):e?(this.modalType="open",this.modalTitle="提示",this.modalOkText="去设置",this.showModal=!0,this.$nextTick((function(){t.$refs["deliveryType"].modelValue=0}))):this.$refs["deliveryType"].enableIntracity(e)},fnModifyShopAddress:function(){this.modalType="modify",this.modalTitle="地址修改提示",this.modalOkText="去修改",this.showModal=!0},handleOk:function(){this.showModal=!1,this.$utils.openNewWindowPage("/setting/shopSetting/contactUs/index")},initRegionList:function(){this.regionList.push({color:this.colors[0],active:!1,model:(0,d.default)({},this.initRegionData)}),this.colors.splice(0,1)},fnGoAMap:function(){window.open("https://lbs.amap.com")},changeDivisionWay:function(){var e=this;this.regionList.forEach((function(){0===e.model.division_way?e.$refs["amap"].removePolygon(0):1===e.model.division_way&&e.$refs["amap"].removeCircle(0)})),this.regionList=[],this.initColors(),this.initRegionList(),0===this.model.division_way?this.addCircle():1===this.model.division_way&&this.addPolygon()},addRegion:function(){this.regionList.push({color:this.colors[0],active:!1,model:(0,d.default)({},this.initRegionData)}),0===this.model.division_way?this.addCircle(this.regionList[this.regionList.length-1]):1===this.model.division_way&&this.addPolygon(this.regionList[this.regionList.length-1]),this.colors.splice(0,1)},deleteRegion:function(e){this.colors.push(this.regionList[e].color),0===this.model.division_way?this.$refs["amap"].removeCircle(e):1===this.model.division_way&&this.$refs["amap"].removePolygon(e)},addCircle:function(e){var t=this;e?this.$refs["amap"].addCircle(e):this.regionList.forEach((function(e){t.$refs["amap"].addCircle(e)}))},changeCircleRadius:function(e,t){this.$refs["amap"].changeCircleRadius(e,t)},showCircleEditor:function(e){this.$refs["amap"].showCircleEditor(e)},changeRegionSelected:function(e){this.$refs["addRegion"].fnSelect(e)},addPolygon:function(e){var t=this;e?this.$refs["amap"].addPolygon(e):this.regionList.forEach((function(e){t.$refs["amap"].addPolygon(e)}))},showPolyEditor:function(e){this.$refs["amap"].showPolyEditor(e)},initColors:function(){this.colors=[{borderColor:"#4A67FF",backgroundColor:"rgba(74, 103, 255, 0.2)"},{borderColor:"#0400BE",backgroundColor:"rgba(4, 0, 190, 0.2)"},{borderColor:"#F66000",backgroundColor:"rgba(246, 96, 0, 0.2)"},{borderColor:"#F65290",backgroundColor:"rgba(246, 82, 144, 0.2)"},{borderColor:"#8F80FF",backgroundColor:"rgba(143, 128, 255, 0.2)"},{borderColor:"#F4C900",backgroundColor:"rgba(244, 201, 0, 0.2)"},{borderColor:"#39A7F1",backgroundColor:"rgba(57, 167, 241, 0.2)"},{borderColor:"#1BB723",backgroundColor:"rgba(27, 183, 35, 0.2)"},{borderColor:"#FF1F2C",backgroundColor:"rgba(255, 31, 44, 0.2)"},{borderColor:"#008957",backgroundColor:"rgba(0, 137, 87, 0.2)"}]},handleSave:function(){var e=this;this.validate().then(function(){var t=(0,o.default)((0,s.default)().mark((function t(i){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=7;break}if(console.log("通过了"),null===(a=e.model.delivery_type)||void 0===a||!a.includes("2")){t.next=6;break}return t.next=5,e.$refs["distribution_third"].validate();case 5:console.log("通过了2");case 6:2!==e.model.delivery_area?e.$refs["addRegion"].validate().then((function(t){var i=t.some((function(e){return!1===e}));i||e.setIntracitySetting()})):e.setIntracitySetting();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setIntracitySetting:function(){var e=this,t=this.formatParams();console.log("__param",t),1!=this.model.delivery_time||this.model.delivery_time_settings.span_detail?this.$api.orderApi.setIntracitySetting(t).then((function(t){0===t.error&&(e.$Message.success("保存成功"),e.getIntracitySetting())})):this.$Message.error("时段错误")},formatParams:function(){var e=this.model,t=e.merchant,i=e.third_party,a=e.amap_key,r=e.delivery_area,n=e.division_way,s=e.dispatch_area,o=e.dispatch_barrio,l=e.barrio_rule,c=e.dispatch_rule,u=e.over_scope,p=e.delivery_time,m=e.delivery_time_settings,v={};t=new Set(this.model.delivery_type).has("1")?1:0,new Set(this.model.delivery_type).has("2")?(i=1,v=this.$refs["distribution_third"].getModel()):i=0,s=this.regionList.map((function(e){return e.model})),0===r&&(c.initial_distance="0",c.initial_dispatch_price="0",c.increase_distance="0",c.increase_distance_price="0",c.over_distance="0",c.over_distance_fix_price="0",o=[],o.initial_price="",o.dispatch_price=""),1===r&&(o=[],o.initial_price="",o.dispatch_price="",u=0),2===r&&(c.initial_distance="0",c.initial_dispatch_price="0",c.increase_distance="0",c.increase_distance_price="0",c.over_distance="0",c.over_distance_fix_price="0",c.initial_weight="0",c.increase_weight="0",c.increase_weight_price="0",s=[],u=0);var f=JSON.parse(JSON.stringify(m.span_detail));return f.length&&(f=f.join(",")),(0,d.default)((0,d.default)({merchant:t,third_party:i,amap_key:a,delivery_area:r,division_way:n,dispatch_area:s,dispatch_barrio:o,barrio_rule:l,dispatch_rule:c,over_scope:u,delivery_time:p},v),{},{delivery_time_settings:(0,d.default)((0,d.default)({},m),{},{span_detail:f})})},zero2NullStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,i=Object.entries(e);t<i.length;t++){var a=(0,n.default)(i[t],2),r=a[0],s=a[1];0===parseFloat(s)&&(e[r]="")}return e},changeInfoTab:function(e){this.distribution.current=e},changeCheckedInfo:function(e){this.distribution.infoChecked=e},onValidate:function(e,t){this.cacheError=(0,d.default)((0,d.default)({},this.cacheError),{},(0,r.default)({},e,t))},validate:function(){var e=this;return new Promise((function(t){console.log("78787878"),e.$refs["form"].validate((function(i){t(i),e.$nextTick((function(){if(!i)for(var t in e.cacheError)if(!e.cacheError[t]){e.$focusError(t);break}}))}))}))},changeTime:function(e){this.model.delivery_time_settings.start=e[0],this.model.delivery_time_settings.end=e[1],this.model.delivery_time_settings.time_span&&this.model.delivery_time_settings.time.length&&this.getTimePart(this.model.delivery_time_settings.time,this.model.delivery_time_settings.time_span)},handleBlur:function(){this.model.delivery_time_settings.time.length&&this.model.delivery_time_settings.time_span&&this.getTimePart(this.model.delivery_time_settings.time,this.model.delivery_time_settings.time_span)},getTimePart:function(e,t){if(e.length&&t){for(var i=e[0].split(":"),a=e[1].split(":"),r=parseInt(60*i[0])+parseInt(i[1]),n=parseInt(60*a[0])+parseInt(a[1]),s=Math.floor((n-r)/Number(t)),o=[e[0]],d=0;d<s;d++)o.push(this.timeStamp(r+=Number(t)));this.model.delivery_time_settings.span_detail=o.map((function(e,t){return o[t-1]+"-"+e})),this.model.delivery_time_settings.span_detail.shift()}},timeStamp:function(e){var t=parseInt(e/60%24),i=parseInt(e%60);return e="",e+=t>=10?t+":":t<10?"0"+t+":":"00:",e+=i>=10?parseFloat(i):i<10?"0"+parseFloat(i):"00:",""===e?"0":e}},watch:{"model.amap_key":{handler:function(e){e&&2===this.model.delivery_area&&this.getConfigDistance()},immediate:!0}}};t.default=h},6154:function(e,t,i){},"619f":function(e,t,i){var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("ade3")),n=a(i("5530"));i("d81d"),i("d3b7"),i("159b"),i("a434"),i("3ca3"),i("ddb0");var s={props:["value","delivery_area","division_way"],data:function(){return{regionList:[],rules:{initial_price:[{required:!0,message:"起送金额必填"}],dispatch_price:[{required:!0,message:"配送费必填"}],radius:[{required:!0,message:"半径必填"}],free_price:[{required:!0,message:"商品售价必填"}]}}},watch:{value:{handler:function(e){var t=this;this.regionList=e.map((function(e){return(0,n.default)({rules:t.rules},e)}))},immediate:!0,deep:!0}},methods:{fnSelect:function(e){!0!==this.regionList[e].active&&(this.regionList.forEach((function(e){e.active=!1})),this.regionList[e].active=!0,this.$refs["regionItem".concat(e)][0].scrollIntoView({behavior:"smooth",block:"center"}),0===this.division_way?this.$emit("showCircleEditor",e):1===this.division_way&&this.$emit("showPolyEditor",e),this.fnDataChange())},fnDelete:function(e){this.regionList.splice(e,1),this.$emit("deleteRegion",e),this.fnDataChange()},fnAddRegion:function(){this.regionList.length>9||this.$emit("addRegion")},fnDataChange:function(e,t,i){"radius"===e&&this.$emit("changeCircleRadius",t,i);var a=this.regionList.map((function(e){return{color:e.color,active:e.active,model:e.model}}));this.$emit("input",a)},onValidate:function(e,t){this.cacheError=(0,n.default)((0,n.default)({},this.cacheError),{},(0,r.default)({},e,t))},validate:function(){var e=this,t=this.regionList.map((function(t,i){return e.asyncWorker(i)}));return Promise.all(t).then((function(e){return e})).catch((function(e){console.log(e)}))},asyncWorker:function(e){var t=this;return new Promise((function(i){t.$refs["regionForm".concat(e)][0].validate((function(e){i(e),t.$nextTick((function(){if(!e)for(var i in t.cacheError)if(!t.cacheError[i]){t.$focusError(i);break}}))}))}))}}};t.default=s},"64e5":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,i("d3b7"),i("6062"),i("3ca3"),i("ddb0");var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v(" 保存 ")])]},proxy:!0}])},[t("div",{staticClass:"delivery-type-box"},[t("delivery-type",{ref:"deliveryType",attrs:{type:"samecityDelivery"},on:{change:e.handleChange}})],1),t("div",{staticClass:"same-city-delivery"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120},on:{"on-validate":e.onValidate}},[t("div",{staticClass:"delivery-type"},[t("kdx-form-title",[e._v("配送方式")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.delivery_type",modifiers:{delivery_type:!0}}],attrs:{label:"配送方式：",prop:"delivery_type"}},[t("CheckboxGroup",{model:{value:e.model.delivery_type,callback:function(t){e.$set(e.model,"delivery_type",t)},expression:"model.delivery_type"}},[t("div",{staticClass:"checkbox-box"},[t("Checkbox",{attrs:{label:"1"}},[e._v(" 商家配送 ")]),t("Checkbox",{attrs:{label:"2"}},[e._v(" 达达配送 ")]),t("kdx-hint-text",[e._v(" 开启后将由达达平台为您配送 ")])],1)]),new Set(e.model.delivery_type).has("2")?t("div",{staticClass:"next-box"},[t("distribution-item",{ref:"distribution_third",attrs:{"info-checked":e.distribution.infoChecked,"info-list":e.distribution.infoList,model:e.model},on:{"on-tab-change":e.changeInfoTab}})],1):e._e()],1),t("FormItem",{attrs:{label:"送达时间："}},[t("RadioGroup",{model:{value:e.model.delivery_time,callback:function(t){e.$set(e.model,"delivery_time",t)},expression:"model.delivery_time"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1),t("kdx-hint-text",[e._v(" 启用后对于同城配送订单，用户在确认订单页面必须选择送达时间，关闭时用户端不显示送达时间选项 ")]),1===e.model.delivery_time?t("div",{staticClass:"next-box"},[t("FormItem",{attrs:{label:"时段划分单位：",prop:"delivery_time_settings.time_span"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{number:"",fixed:0,minValue:10,maxValue:1440},on:{"on-blur":e.handleBlur},model:{value:e.model.delivery_time_settings.time_span,callback:function(t){e.$set(e.model.delivery_time_settings,"time_span",t)},expression:"model.delivery_time_settings.time_span"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("分钟")])]),t("kdx-hint-text",{staticStyle:{"margin-left":"120px"}},[e._v("支持设置10-1440分钟")])],1),t("FormItem",{attrs:{label:"起止时间：",prop:"delivery_time_settings.start"}},[t("TimePicker",{staticClass:"width-160",attrs:{format:"HH:mm",type:"timerange",editable:!1,placement:"bottom-end",placeholder:"请选择时间"},on:{"on-change":e.changeTime},model:{value:e.model.delivery_time_settings.time,callback:function(t){e.$set(e.model.delivery_time_settings,"time",t)},expression:"model.delivery_time_settings.time"}})],1),e.model.delivery_time_settings.span_detail.length>0?t("FormItem",{attrs:{label:""}},[t("div",{staticClass:"time-part"},[t("div",{staticClass:"time-item flex"},e._l(e.model.delivery_time_settings.span_detail,(function(i,a){return t("div",{key:a+Math.random()},[e._v(e._s(i))])})),0)])]):e._e()],1):e._e()],1)],1),t("div",{staticClass:"regional-settings"},[t("kdx-form-title",[e._v("配送区域设置")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.address",modifiers:{address:!0}}],attrs:{label:"店铺地址：",prop:"address"}},[t("Input",{staticClass:"width-430",attrs:{placeholder:"未检测到店铺地址，请尽快设置",disabled:""},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}}),t("kdx-hint-text",[t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text"},[e._v(" 配送区域以此地址为起点进行距离计算， ")]),t("div",{staticClass:"btn-box"},[e.model.address?t("Button",{attrs:{type:"text"},on:{click:e.fnModifyShopAddress}},[e._v(" 修改 ")]):t("Button",{staticClass:"marginR-10",attrs:{type:"text",to:"/setting/shopSetting/contactUs/index"}},[e._v(" 立即设置 ")])],1)])])],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.amap_key",modifiers:{amap_key:!0}}],attrs:{label:"高德Web服务接口Key：",prop:"amap_key"}},[t("Input",{staticClass:"width-430",attrs:{disabled:"",placeholder:"请输入","show-word-limit":"",maxlength:50},model:{value:e.model.amap_key,callback:function(t){e.$set(e.model,"amap_key",t)},expression:"model.amap_key"}}),t("kdx-hint-text",[t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text"},[e._v(" 接口用于同城配送中用户定位， ")]),t("div",{staticClass:"btn-box"},[t("Button",{attrs:{type:"text",to:"/setting/shopSetting/contactUs/index",target:"_blank"}},[e._v(e._s("".concat(e.model.amap_key?"修改":"立即设置")))])],1)])])],1),e.model.address?t("FormItem",{attrs:{label:"配送区域：",prop:"delivery_area"}},[t("RadioGroup",{on:{"on-change":e.deliveryAreaChange},model:{value:e.model.delivery_area,callback:function(t){e.$set(e.model,"delivery_area",t)},expression:"model.delivery_area"}},[t("Radio",{attrs:{label:0}},[e._v("按不同区域")]),t("Radio",{attrs:{label:1}},[e._v("按不同距离")]),t("Radio",{attrs:{label:2}},[e._v("按行政区域")])],1),t("kdx-hint-text",[e._v(" 配送区域内商品会不计算距离，按区域收取固定配送费。"),t("br"),e._v("订单中商品在优惠前的价格（不包含运费）低于起送金额时，买家无法下单 ")])],1):e._e(),t("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.model.address&&2!==e.model.delivery_area,expression:"model.address && model.delivery_area !== 2"}],attrs:{label:"划分方式：",prop:"division_way"}},[t("RadioGroup",{on:{"on-change":e.changeDivisionWay},model:{value:e.model.division_way,callback:function(t){e.$set(e.model,"division_way",t)},expression:"model.division_way"}},[t("Radio",{attrs:{label:0}},[e._v("按半径划分")]),t("Radio",{attrs:{label:1}},[e._v("自定义")])],1),t("kdx-hint-text",[e._v(" 当配送区域交叉时，以最低费用计算费用。因考虑实际送货路况，"),t("br"),e._v("配送费按汽车导航距离计算，非地图直线距离。 ")]),t("div",{staticClass:"next-box flex"},[t("div",{staticClass:"left"},[t("add-region",{ref:"addRegion",attrs:{delivery_area:e.model.delivery_area,division_way:e.model.division_way},on:{addRegion:e.addRegion,deleteRegion:e.deleteRegion,changeCircleRadius:e.changeCircleRadius,showCircleEditor:e.showCircleEditor,showPolyEditor:e.showPolyEditor},model:{value:e.regionList,callback:function(t){e.regionList=t},expression:"regionList"}})],1),t("div",{staticClass:"right"},[t("Map",{ref:"amap",attrs:{aMapKey:e.amap_key,aMapCode:e.amap_code,division_way:e.model.division_way},on:{addCircle:e.addCircle,addPolygon:e.addPolygon,changeRegionSelected:e.changeRegionSelected},model:{value:e.regionList,callback:function(t){e.regionList=t},expression:"regionList"}})],1)])],1),e.model.address&&2===e.model.delivery_area?t("FormItem",{attrs:{label:"可配送区域：",prop:"dispatch_barrio"}},[t("Select",{staticClass:"width-300",attrs:{multiple:""},model:{value:e.model.dispatch_barrio,callback:function(t){e.$set(e.model,"dispatch_barrio",t)},expression:"model.dispatch_barrio"}},e._l(e.areaList,(function(i){return t("Option",{key:i.value,attrs:{value:i.value}},[e._v(" "+e._s(i.label)+" ")])})),1),t("kdx-hint-text",[e._v(" 若开启第三方配送，清不要选择默认配送地址以外的城市区域 ")])],1):e._e(),e.model.address&&2===e.model.delivery_area?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.barrio_rule.initial_price",modifiers:{barrio_rule:!0,initial_price:!0}}],attrs:{label:"起送金额：",prop:"barrio_rule.initial_price"}},[t("kdx-rr-input",{staticClass:"width-300",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.barrio_rule.initial_price,callback:function(t){e.$set(e.model.barrio_rule,"initial_price",t)},expression:"model.barrio_rule.initial_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]),t("kdx-hint-text",[e._v(" 订单中商品在优惠券的价格（不包含运费）低于配送价时，买家无法下单 ")])],1):e._e(),e.model.address&&2===e.model.delivery_area?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.barrio_rule.dispatch_price",modifiers:{barrio_rule:!0,dispatch_price:!0}}],attrs:{label:"配送费：",prop:"barrio_rule.dispatch_price"}},[t("kdx-rr-input",{staticClass:"width-300",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.barrio_rule.dispatch_price,callback:function(t){e.$set(e.model.barrio_rule,"dispatch_price",t)},expression:"model.barrio_rule.dispatch_price"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),e.model.address&&1===e.model.delivery_area?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.jffs",modifiers:{jffs:!0}}],attrs:{label:"计费方式：",prop:"jffs"}},[t("div",{staticClass:"flex align-center"},[t("span",{staticStyle:{width:"110px"}},[e._v("配送距离")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.initial_distance",modifiers:{dispatch_rule:!0,initial_distance:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.initial_distance","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.initial_distance,callback:function(t){e.$set(e.model.dispatch_rule,"initial_distance",t)},expression:"\n                                    model.dispatch_rule.initial_distance\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("km")])])],1),t("span",{staticStyle:{width:"95px"}},[e._v("内，配送费用")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.initial_dispatch_price",modifiers:{dispatch_rule:!0,initial_dispatch_price:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.initial_dispatch_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.initial_dispatch_price,callback:function(t){e.$set(e.model.dispatch_rule,"initial_dispatch_price",t)},expression:"\n                                    model.dispatch_rule\n                                        .initial_dispatch_price\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1),t("div",{staticClass:"flex align-center",staticStyle:{"margin-top":"16px"}},[t("span",{staticStyle:{width:"110px"}},[e._v("配送距离每增加")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.increase_distance",modifiers:{dispatch_rule:!0,increase_distance:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.increase_distance","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.increase_distance,callback:function(t){e.$set(e.model.dispatch_rule,"increase_distance",t)},expression:"\n                                    model.dispatch_rule.increase_distance\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("km")])])],1),t("span",{staticStyle:{width:"95px"}},[e._v("运费将增加")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.increase_distance_price",modifiers:{dispatch_rule:!0,increase_distance_price:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.increase_distance_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.increase_distance_price,callback:function(t){e.$set(e.model.dispatch_rule,"increase_distance_price",t)},expression:"\n                                    model.dispatch_rule\n                                        .increase_distance_price\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1),t("div",{staticClass:"flex align-center",staticStyle:{"margin-top":"16px"}},[t("span",{staticStyle:{width:"110px"}},[e._v("超出")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.over_distance",modifiers:{dispatch_rule:!0,over_distance:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.over_distance","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.over_distance,callback:function(t){e.$set(e.model.dispatch_rule,"over_distance",t)},expression:"model.dispatch_rule.over_distance"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("km")])])],1),t("span",{staticStyle:{width:"95px"}},[e._v("固定运费")]),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.over_distance_fix_price",modifiers:{dispatch_rule:!0,over_distance_fix_price:!0}}],staticStyle:{"margin-bottom":"0","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.over_distance_fix_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.over_distance_fix_price,callback:function(t){e.$set(e.model.dispatch_rule,"over_distance_fix_price",t)},expression:"\n                                    model.dispatch_rule\n                                        .over_distance_fix_price\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1)]):e._e(),e.model.address&&2!==e.model.delivery_area?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.xzsf",modifiers:{xzsf:!0}}],attrs:{label:"续重收费：",prop:"xzsf"}},[t("div",{staticClass:"flex align-center"},[e._v(" 商品重量 "),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.initial_weight",modifiers:{dispatch_rule:!0,initial_weight:!0}}],staticStyle:{"margin-bottom":"0","margin-left":"10px","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.initial_weight","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.initial_weight,callback:function(t){e.$set(e.model.dispatch_rule,"initial_weight",t)},expression:"model.dispatch_rule.initial_weight"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("kg")])])],1),e._v(" 内不额外收费，每超出 "),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.increase_weight",modifiers:{dispatch_rule:!0,increase_weight:!0}}],staticStyle:{"margin-bottom":"0","margin-left":"10px","margin-right":"10px"},attrs:{label:"",prop:"dispatch_rule.increase_weight","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.increase_weight,callback:function(t){e.$set(e.model.dispatch_rule,"increase_weight",t)},expression:"\n                                    model.dispatch_rule.increase_weight\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("kg")])])],1),e._v(" 费用增加 "),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.dispatch_rule.increase_weight_price",modifiers:{dispatch_rule:!0,increase_weight_price:!0}}],staticStyle:{"margin-bottom":"0","margin-left":"10px"},attrs:{label:"",prop:"dispatch_rule.increase_weight_price","show-message":!1}},[t("kdx-rr-input",{staticClass:"width-120",attrs:{placeholder:"0.00",number:"",fixed:2,maxValue:9999999.99},model:{value:e.model.dispatch_rule.increase_weight_price,callback:function(t){e.$set(e.model.dispatch_rule,"increase_weight_price",t)},expression:"\n                                    model.dispatch_rule\n                                        .increase_weight_price\n                                "}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1),t("kdx-hint-text",[t("div",{staticClass:"desc"},[t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text"},[e._v(" 说明：1. 最终费用 = 收费标准 + 续重收费（数值为0时表示不使用续重收费） ")])]),t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text",staticStyle:{"padding-left":"37px"}},[e._v(" 2. 需要对续重收费的商品设置商品重量。 ")])])])])],1):e._e(),e.model.address&&0===e.model.delivery_area?t("FormItem",{attrs:{label:"超出范围：",prop:"over_scope"}},[t("RadioGroup",{model:{value:e.model.over_scope,callback:function(t){e.$set(e.model,"over_scope",t)},expression:"model.over_scope"}},[t("Radio",{attrs:{label:1}},[e._v("使用快递")]),t("Radio",{attrs:{label:0}},[e._v("不使用快递")])],1),t("kdx-hint-text",[e._v(" 如果开启了同城配送，选择使用快递方式，则超出范围后自动使用快递方式；"),t("br"),e._v(" 选择不使用快递方式，则超出同城配送范围后不配送。 ")])],1):e._e()],1)])],1),t("modify-address-modal",{attrs:{type:e.modalType,title:e.modalTitle,okText:e.modalOkText},on:{handleOk:e.handleOk},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}})],1)};t.render=a;var r=[];t.staticRenderFns=r},6803:function(e,t,i){"use strict";i.r(t);var a=i("85ad"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"6a6a":function(e,t,i){"use strict";var a=i("64e5");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"6f53":function(e,t,i){var a=i("83ab"),r=i("e330"),n=i("df75"),s=i("fc6a"),o=i("d1e7").f,d=r(o),l=r([].push),c=function(e){return function(t){var i,r=s(t),o=n(r),c=o.length,u=0,p=[];while(c>u)i=o[u++],a&&!d(r,i)||l(p,e?[i,r[i]]:r[i]);return p}};e.exports={entries:c(!0),values:c(!1)}},7261:function(e,t,i){"use strict";i.r(t);var a=i("526e"),r=i("cc6e");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("b188");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"0a47e613",null);t["default"]=o.exports},"72d5":function(e,t,i){function a(e,t){return new Promise((function(i,a){var r,n;if(window._AMapSecurityConfig={securityJsCode:null},(null===(r=window.AMap)||void 0===r?void 0:r.User.key)!==e||(null===(n=window)||void 0===n?void 0:n._AMapSecurityConfig.securityJsCode)!==t){t&&(window._AMapSecurityConfig={securityJsCode:t});var s=document.createElement("script");s.type="text/javascript",s.id="amapKey",s.async=!0,s.src="https://webapi.amap.com/maps?v=1.4.15&callback=initAMap&key="+e,s.onerror=a;var o=document.getElementById("amapKey");o&&o.parentNode.removeChild(o),document.head.appendChild(s),window.initAMap=function(){i(window.AMap)}}else window.AMap&&i(window.AMap)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.MapLoader=a,i("d3b7")},"7aaa":function(e,t,i){"use strict";i.r(t);var a=i("c37c"),r=i("315e");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("e008");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"6319d4c6",null);t["default"]=o.exports},"7b53":function(e,t,i){var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("c7eb")),n=a(i("b85c")),s=a(i("1da1")),o=a(i("ade3")),d=a(i("5530"));i("caad"),i("2532"),i("d81d"),i("d3b7"),i("b0c0"),i("ddb0"),i("e9c4");var l={dada:{enable:"",app_key:"",app_secret:"",source_id:"",shop_no:"",city_code:""}},c={name:"DistributionItem",props:{infoChecked:{type:Array,default:function(){return[]}},infoList:{type:Array,default:function(){return[]}}},data:function(){return{model:l,dadaCityList:[],rules:{dada:{app_key:[{required:!0,message:"必填"}],app_secret:[{required:!0,message:"必填"}],source_id:[{required:!0,message:"必填"}],shop_no:[{required:!0,message:"必填"}],city_code:[{required:!0,message:"必选"}]}}}},computed:{canPostDadaCityList:function(){var e;return console.log("model-city-list",this.model.dada),"1"===(null===(e=this.model.dada)||void 0===e?void 0:e.enable)&&!!this.model.dada.app_key&&!!this.model.dada.app_secret&&!!this.model.dada.source_id&&!!this.model.dada.shop_no},noManagePerm:function(){return!this.$getPermMap("order.dispatch.manage")}},watch:{canPostDadaCityList:{handler:function(e){e&&this.getDadaCity()},immediate:!0},infoChecked:{handler:function(e){e.includes("1")?this.model.dada.enable="1":this.model.dada.enable="0",console.log("info-checked",e)},immediate:!0,deep:!0}},created:function(){this.resetModel()},methods:{getDadaCity:function(){var e=this;this.$api.orderApi.getDadaCity({app_key:this.model.dada.app_key,app_secret:this.model.dada.app_secret,source_id:this.model.dada.source_id,shop_no:this.model.dada.shop_no}).then((function(t){0===t.error?e.dadaCityList=t.data.map((function(e){return{value:e.cityCode,label:e.cityName}})):e.dadaCityList=[]}))},jumpDada:function(){window.open("http://newopen.imdada.cn")},onValidate:function(e,t){this.cacheError=(0,d.default)((0,d.default)({},this.cacheError),{},(0,o.default)({},e,t))},validate:function(){var e=this;return new Promise(function(){var t=(0,s.default)((0,r.default)().mark((function t(i){var a,s,o,d,l,c;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=!0,s=(0,n.default)(e.infoList),t.prev=2,s.s();case 4:if((o=s.n()).done){t.next=26;break}if(d=o.value,!e.infoChecked.includes(d.id)){t.next=24;break}return console.log("++++++++++++","item_".concat(d.key),e.infoChecked),t.next=10,e.$refs["item_".concat(d.key)].validate();case 10:if(l=t.sent,l){t.next=24;break}t.t0=(0,r.default)().keys(e.cacheError);case 13:if((t.t1=t.t0()).done){t.next=20;break}if(c=t.t1.value,e.cacheError[c]){t.next=18;break}return e.$focusError(c),t.abrupt("break",20);case 18:t.next=13;break;case 20:return a=l,e.$emit("on-tab-change",d.id),e.$Message.error("请完善".concat(d.name,"必填信息！")),t.abrupt("break",26);case 24:t.next=4;break;case 26:t.next=31;break;case 28:t.prev=28,t.t2=t["catch"](2),s.e(t.t2);case 31:return t.prev=31,s.f(),t.finish(31);case 34:a&&i();case 35:case"end":return t.stop()}}),t,null,[[2,28,31,34]])})));return function(e){return t.apply(this,arguments)}}())},resetModel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dada,i=void 0===t?{}:t;Object.assign(this.model.dada,i)},getModel:function(){return this.infoChecked.includes("1")?this.model.dada.enable=1:this.model.dada.enable=0,console.log("model",JSON.stringify(this.model)),this.model}}};t.default=c},"7be9":function(e,t,i){"use strict";i.r(t);var a=i("5df4"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"85ad":function(e,t,i){var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("2909")),n=a(i("5530"));i("d3b7"),i("ac1f"),i("841c"),i("4d63"),i("c607"),i("2c3e"),i("25f0"),i("99af"),i("5319"),i("14d9"),i("159b"),i("d81d"),i("a434");var s=i("72d5"),o=null,d=null,l=null,c={props:["value","aMapKey","aMapCode","division_way","location","addMapClickEvent","formItemTip"],data:function(){return{circleList:[],polygonList:[]}},watch:{},beforeDestroy:function(){d&&d.destroy()},methods:{initMap:function(e,t){var i=this;return new Promise((function(a,r){(0,s.MapLoader)(e,t).then((function(e){console.log("地图加载成功"),o=e,d=new o.Map("container",{zoom:13,resizeEnable:!0}),a(),i.$emit("aMapInitFinished"),i.addPlugin(),i.addMapClickEvent&&d.on("click",(function(e){var t=e.lnglat;i.addMarker(t.lng,t.lat),console.log(t.lng,t.lat,"ssssssssssssssssss"),i.geocoder("getAddress",[t.lng,t.lat])}))}),(function(e){console.log("地图加载失败",e),i.$Message.error("地图加载失败"),r(e),i.$emit("aMapInitFinished")}))}))},addPlugin:function(){o.plugin(["AMap.ToolBar","AMap.Scale","AMap.OverView","AMap.MapType","AMap.Geolocation","AMap.Autocomplete","AMap.PlaceSearch"],(function(){d.addControl(new o.ToolBar),d.addControl(new o.Scale),d.addControl(new o.PlaceSearch),d.addControl(new o.Autocomplete);var e={city:"全国"},t=new o.Autocomplete(e);t.search("",(function(e,t){console.log(e,t)}))}))},geocoder:function(e,t){var i=this;console.log("this.location-----------",this.location),o.plugin("AMap.Geocoder",(function(){var a=new o.Geocoder({});"getLocation"===e?a.getLocation(i.location,(function(e,t){if("complete"===e&&"OK"===t.info){var a=t.geocodes[0].location.lng,r=t.geocodes[0].location.lat,n=t.geocodes[0].formattedAddress;d.setCenter([a,r]),i.addMarker(a,r,n),i.$emit("getAddress",{lng:a,lat:r})}else"error"===e&&("INVALID_USER_KEY"===t&&i.formItemTip?i.$emit("fail-search"):i.$Message.error(t))})):"getAddress"===e&&a.getAddress(t,(function(e,a){if("complete"===e&&"OK"===a.info){var r,n,s,o,d,l,c,u,p,m,v,f,h,_=[null===(r=a.regeocode)||void 0===r||null===(n=r.addressComponent)||void 0===n?void 0:n.province,null===(s=a.regeocode)||void 0===s||null===(o=s.addressComponent)||void 0===o?void 0:o.city,null===(d=a.regeocode)||void 0===d||null===(l=d.addressComponent)||void 0===l?void 0:l.district],g=new RegExp("".concat(null===(c=a.regeocode)||void 0===c||null===(u=c.addressComponent)||void 0===u?void 0:u.province).concat(null===(p=a.regeocode)||void 0===p||null===(m=p.addressComponent)||void 0===m?void 0:m.city).concat(null===(v=a.regeocode)||void 0===v||null===(f=v.addressComponent)||void 0===f?void 0:f.district)),y=null===(h=a.regeocode)||void 0===h?void 0:h.formattedAddress.replace(g,""),b=t[0],x=t[1];i.$emit("getAddress",{selectedAddress:_,address:y,lng:b,lat:x})}else"error"===e&&i.$Message.error(a)}))}))},addCircle:function(e,t){var i=this,a=new o.Circle({center:new o.LngLat(e.model.center_lng,e.model.center_lat),radius:1e3*e.model.radius,fillColor:e.color.backgroundColor,strokeColor:e.color.borderColor,strokeWeight:2});d.add(a),d.setFitView([a]);var r=null;d.plugin(["AMap.CircleEditor"],(function(){r=new o.CircleEditor(d,a),i.circleList.push({id:t,circle:a,circleEditor:r}),i.circleList.forEach((function(e,t){e.circleEditor.on("move",(function(e){i.circleEditorEventFun(e,t)})),e.circleEditor.on("adjust",(function(e){i.circleEditorEventFun(e,t)})),e.circle.on("click",(function(){var e=i;function a(){var i=t;return function(){e.showCircleEditor(i),e.$emit("changeRegionSelected",i)}}a()()}))}))}))},circleEditorEventFun:function(e,t){var i=this;function a(){var a=t;return function(){var t=i.value.map((function(t,i){return"move"===e.type?(0,n.default)((0,n.default)({},t),{},{model:(0,n.default)((0,n.default)({},t.model),{},{center_lng:i===a?e.lnglat.lng:t.model.center_lng,center_lat:i===a?e.lnglat.lat:t.model.center_lat})}):"adjust"===e.type?(0,n.default)((0,n.default)({},t),{},{model:(0,n.default)((0,n.default)({},t.model),{},{radius:i===a?e.radius/1e3:t.model.radius})}):void 0}));i.$emit("input",t)}}a()()},removeCircle:function(e){this.circleList[e].circleEditor.close(),d.remove(this.circleList[e].circle),this.circleList.splice(e,1)},changeCircleRadius:function(e,t){this.circleList[t].circle.setRadius(1e3*e.model.radius)},showCircleEditor:function(e){this.circleList.forEach((function(e){e.circleEditor.close()})),this.circleList[e].circleEditor.open()},addPolygon:function(e,t){var i,a=this,r=e.model.location.map((function(e){return new o.LngLat(e.lng,e.lat)})),n=new o.Polygon({path:r,fillColor:e.color.backgroundColor,strokeColor:e.color.borderColor,borderWeight:2});d.add(n),d.setFitView([n]),d.plugin(["AMap.PolyEditor"],(function(){i=new o.PolyEditor(d,n),a.polygonList.push({id:t,polygon:n,polyEditor:i}),a.polygonList.forEach((function(e,t){e.polyEditor.on("addnode",(function(i){a.polyEditorEventFun(e,i,t)})),e.polyEditor.on("removenode",(function(i){a.polyEditorEventFun(e,i,t)})),e.polyEditor.on("adjust",(function(i){a.polyEditorEventFun(e,i,t)})),e.polygon.on("click",(function(){var e=a;function i(){var i=t;return function(){e.showPolyEditor(i),e.$emit("changeRegionSelected",i)}}i()()}))}))}))},polyEditorEventFun:function(e,t,i){var a=this;function s(){var t=i;return function(){var i=e.polygon.getPath().map((function(e){return{lng:e.lng,lat:e.lat}}));console.log(i);var s=a.value.map((function(e,a){return(0,n.default)((0,n.default)({},e),{},{model:(0,n.default)((0,n.default)({},e.model),{},{location:a===t?(0,r.default)(i):e.model.location})})}));a.$emit("input",s)}}s()()},removePolygon:function(e){this.polygonList[e].polyEditor.close(),d.remove(this.polygonList[e].polygon),this.polygonList.splice(e,1)},showPolyEditor:function(e){this.polygonList.forEach((function(e){e.polyEditor.close()})),this.polygonList[e].polyEditor.open()},addMarker:function(e,t,i){l&&d.remove(l);var a={position:new o.LngLat(e,t)};i&&(a=(0,n.default)((0,n.default)({},a),{},{title:i})),l=new o.Marker(a),d.add(l)},setCenter:function(e,t){d.setCenter([e,t])},changeKey:function(e,t){var i=this;e||d&&d.destroy(),this.$nextTick((function(){d&&d.destroy(),i.initMap(e,t).then((function(){0===i.division_way?i.$emit("addCircle"):1===i.division_way&&i.$emit("addPolygon")}))}))}}};t.default=c},"89fb":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{value:{type:Boolean,default:!1},type:{type:String,default:"modify"},title:{type:String,default:"地址修改提示"},okText:{type:String,default:"去修改"}},data:function(){return{showModal:!1}},watch:{value:{handler:function(e){this.showModal=e},immediate:!0}},methods:{handleOk:function(){this.$emit("handleOk"),this.$emit("input",!1)},handleCancel:function(){this.showModal=!1,this.$emit("input",!1)}}};t.default=i},"8e05":function(e,t,i){"use strict";i("92717")},"8eae":function(e,t,i){"use strict";var a=i("ea80");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"8fa35":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this;e._self._c;return e._m(0)};t.render=i;var a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"amap"},[t("div",{staticClass:"amap-box",attrs:{id:"container"}})])}];t.staticRenderFns=a},"91ab":function(e,t,i){},92717:function(e,t,i){},"9e2d":function(e,t,i){"use strict";i.r(t);var a=i("6a6a"),r=i("7be9");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("8e05");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"42798f79",null);t["default"]=o.exports},a35d8:function(e,t,i){"use strict";i.r(t);var a=i("8eae"),r=i("4578");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("59f9");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"7711707c",null);t["default"]=o.exports},b188:function(e,t,i){"use strict";i("91ab")},c37c:function(e,t,i){"use strict";var a=i("ee3a");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},cc6e:function(e,t,i){"use strict";i.r(t);var a=i("619f"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},d0b6:function(e,t,i){"use strict";i("401d")},d472:function(e,t,i){"use strict";var a=i("3995");i.o(a,"render")&&i.d(t,"render",(function(){return a["render"]})),i.o(a,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},d742:function(e,t,i){},d7e8:function(e,t,i){"use strict";i.r(t);var a=i("1b08"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},ddee:function(e,t,i){"use strict";i.r(t);var a=i("41f9"),r=i("6803");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("5b526");var s=i("2877"),o=Object(s["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"08d17334",null);t["default"]=o.exports},e008:function(e,t,i){"use strict";i("6154")},e2f3:function(e,t){e.exports="data:image/png;base64,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"},ea80:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:e.title,"ok-text":e.okText},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},["modify"===e.type?t("div",{staticClass:"modal-content"},[t("div",{staticClass:"text"},[e._v(" 已设置的配送范围信息将被清空，请修改地址后记得重新配置配送范围； ")])]):"open"===e.type?t("div",{staticClass:"modal-content"},[t("div",{staticClass:"text"},[e._v(" 开启同城配送需要先设置发货地址，您还未设置，请在联系我们处设置。 ")])]):e._e()])};t.render=i;var a=[];t.staticRenderFns=a},ee3a:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"distribution-item"},[t("Form",{ref:"item_dada",attrs:{model:e.model.dada,rules:e.rules.dada,"label-width":130}},[t("kdx-hint-alert",{staticStyle:{margin:"0 20px 10px 20px"},attrs:{type:"error"}},[e._v("达达配送需要商品重量，请确保商品已设置重量，否则商家无法发货")]),t("FormItem",{attrs:{label:"app_key：",prop:"app_key"}},[t("Input",{staticClass:"width-470",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:50},model:{value:e.model.dada.app_key,callback:function(t){e.$set(e.model.dada,"app_key",t)},expression:"model.dada.app_key"}}),t("kdx-hint-text",[e._v(" 请前往达达开放平台进行获取该参数， "),t("Button",{attrs:{type:"text"},on:{click:e.jumpDada}},[e._v("立即前往")])],1)],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.app_secret",modifiers:{app_secret:!0}}],attrs:{label:"app_secret：",prop:"app_secret"}},[t("Input",{staticClass:"width-470",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:50},model:{value:e.model.dada.app_secret,callback:function(t){e.$set(e.model.dada,"app_secret",t)},expression:"model.dada.app_secret"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.source_id",modifiers:{source_id:!0}}],attrs:{label:"商户编号(source_id)：",prop:"source_id"}},[t("Input",{staticClass:"width-470",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:50},model:{value:e.model.dada.source_id,callback:function(t){e.$set(e.model.dada,"source_id",t)},expression:"model.dada.source_id"}}),t("kdx-hint-text",[e._v(" 请填写正确有效的商户编号信息，填写错误则不可用 ")])],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.shop_no",modifiers:{shop_no:!0}}],attrs:{label:"门店编号：",prop:"shop_no"}},[t("Input",{staticClass:"width-470",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:50},model:{value:e.model.dada.shop_no,callback:function(t){e.$set(e.model.dada,"shop_no",t)},expression:"model.dada.shop_no"}})],1),e.canPostDadaCityList?t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.city_code",modifiers:{city_code:!0}}],attrs:{label:"城市选择：",prop:"city_code"}},[t("Select",{staticClass:"width-470",attrs:{filterable:""},model:{value:e.model.dada.city_code,callback:function(t){e.$set(e.model.dada,"city_code",t)},expression:"model.dada.city_code"}},e._l(e.dadaCityList,(function(i,a){return t("Option",{key:a,attrs:{value:i.value}},[e._v(" "+e._s(i.label)+" ")])})),1)],1):e._e()],1)],1)};t.render=i;var a=[];t.staticRenderFns=a}}]);