(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[162],{"20af":function(e,t,a){},"4c95":function(e,t,a){var l=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7");var n=l(a("5530")),i=a("8812"),o=a("2f62"),d={name:"index",computed:(0,n.default)((0,n.default)({},(0,i.modelMap)()),(0,o.mapState)("goodAddEdit",{model:function(e){return e.model}})),data:function(){return{creditStatus:!1,rules:{deduction_credit:[{required:!0,message:"最多积分抵扣额必填",trigger:"blur"}],deduction_balance:[{required:!0,message:"最多余额抵扣额必填"}],single_full_unit:[{required:!0,message:"单品满件包邮必填"}],single_full_quota:[{required:!0,message:"单品满额包邮必填"}],give_credit_num:[{required:!0,message:"赠送积分必填"}]}}},created:function(){this.getSetting()},mounted:function(){},methods:{getSetting:function(){var e=this;this.$api.settingApi.getCreditSetting().then((function(t){0===t.error&&(e.creditStatus=+t.give_credit_status&&1===+t.give_credit_type)}))},pointsDeductionChange:function(e){var t=this,a=this.$createElement;console.log("$store",this.$store.state.config.deduct),"1"!=this.$store.state.config.deduct.credit_state&&("1"!==e&&"2"!==e||this.$Modal.confirm({title:"您还未开启积分抵扣设置",okText:"积分管理",render:function(){return a("kdx-hint-text",[a("span",["设置单商品积分抵扣时,需要在设置"]),"【积分设置】",a("span",["中开启积分抵扣"])])},onOk:function(){var e=t.$router.resolve({path:"/setting/credit/index"});window.open(e.href,"_blank")},onCancel:function(){t.model_deduction_credit_type="0"}}))},balanceDeductionChange:function(e){var t=this,a=this.$createElement;"1"!=this.$store.state.config.deduct.balance_state&&("1"!==e&&"2"!==e||this.$Modal.confirm({title:"您还未开启余额抵扣设置",okText:"余额管理",render:function(){return a("kdx-hint-text",[a("span",["设置单商品余额抵扣时,需要在设置"]),"【余额设置】",a("span",["中开启余额抵扣"])])},onOk:function(){var e=t.$router.resolve({path:"/setting/balance/index"});window.open(e.href,"_blank")},onCancel:function(){t.model_deduction_balance_type="0"}}))},validate:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate((function(e){t(e)}))}))}}};t.default=d},"6ace":function(e,t,a){"use strict";var l=a("98e7b");a.o(l,"render")&&a.d(t,"render",(function(){return l["render"]})),a.o(l,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return l["staticRenderFns"]}))},"98e7b":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"good-add-market"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120},nativeOn:{submit:function(e){e.preventDefault()}}},[t("div",{staticClass:"box"},[t("kdx-form-title",[e._v(" 抵扣设置 ")]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"积分抵扣：",prop:"deduction_credit_type"}},[t("RadioGroup",{on:{"on-change":e.pointsDeductionChange},model:{value:e.model_deduction_credit_type,callback:function(t){e.model_deduction_credit_type=t},expression:"model_deduction_credit_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("关闭")]),t("Radio",{attrs:{label:"1"}},[e._v("不限制抵扣数量")]),t("Radio",{attrs:{label:"2"}},[e._v("自定义最多抵扣")])],1),"2"===e.model_deduction_credit_type?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"最多抵扣：",prop:"deduction_credit"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10,placeholder:"请输入"},model:{value:e.model_deduction_credit,callback:function(t){e.model_deduction_credit=t},expression:"model_deduction_credit"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]),t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_deduction_credit_repeat,callback:function(t){e.model_deduction_credit_repeat=t},expression:"model_deduction_credit_repeat"}},[e._v(" 允许多件累计抵扣 ")])],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"余额抵扣：",prop:"deduction_balance_type"}},[t("RadioGroup",{on:{"on-change":e.balanceDeductionChange},model:{value:e.model_deduction_balance_type,callback:function(t){e.model_deduction_balance_type=t},expression:"model_deduction_balance_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("关闭")]),t("Radio",{attrs:{label:"1"}},[e._v("不限制抵扣数量")]),t("Radio",{attrs:{label:"2"}},[e._v("自定义最多抵扣")])],1),"2"===e.model_deduction_balance_type?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"最多抵扣：",prop:"deduction_balance"}},[t("kdx-rr-input",{staticClass:"width-160",attrs:{number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10,placeholder:"请输入"},model:{value:e.model_deduction_balance,callback:function(t){e.model_deduction_balance=t},expression:"model_deduction_balance"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]),t("Checkbox",{attrs:{"true-value":"1","false-value":"0"},model:{value:e.model_deduction_balance_repeat,callback:function(t){e.model_deduction_balance_repeat=t},expression:"model_deduction_balance_repeat"}},[e._v(" 允许多件累计抵扣 ")])],1)],1):e._e()],1)],1),"2"!==e.model_type?t("div",{staticClass:"box"},[t("kdx-form-title",{staticStyle:{"margin-bottom":"0"}},[e._v(" 单件包邮 ")]),t("kdx-hint-alert",{staticClass:"alert",attrs:{"show-icon":""}},[e._v("开启后用户需单独购买该商品才支持满件/满额包邮")]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"单品满件包邮：",prop:"single_full_unit_switch"}},[t("RadioGroup",{model:{value:e.model_single_full_unit_switch,callback:function(t){e.model_single_full_unit_switch=t},expression:"model_single_full_unit_switch"}},[t("Radio",{attrs:{label:"1"}},[e._v("开启")]),t("Radio",{attrs:{label:"0"}},[e._v("关闭")])],1),"1"===e.model_single_full_unit_switch?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"包邮条件：",prop:"single_full_unit"}},[t("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:0,minValue:0,"max-value":999999999,placeholder:"请输入"},model:{value:e.model_single_full_unit,callback:function(t){e.model_single_full_unit=t},expression:"model_single_full_unit"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("满")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("件")])])],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"单品满额包邮：",prop:"single_full_quota_switch"}},[t("RadioGroup",{model:{value:e.model_single_full_quota_switch,callback:function(t){e.model_single_full_quota_switch=t},expression:"model_single_full_quota_switch"}},[t("Radio",{attrs:{label:"1"}},[e._v("开启")]),t("Radio",{attrs:{label:"0"}},[e._v("关闭")])],1),"1"===e.model_single_full_quota_switch?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"包邮条件：",prop:"single_full_quota"}},[t("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",minValue:0,maxValue:9999999.99,fixed:2,placeholder:"请输入"},model:{value:e.model_single_full_quota,callback:function(t){e.model_single_full_quota=t},expression:"model_single_full_quota"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("满")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1)],1):e._e()],1)],1):e._e(),e.creditStatus?t("div",{staticClass:"box"},[t("kdx-form-title",[e._v("消费得积分")]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"消费得积分：",prop:"give_credit_status"}},[t("RadioGroup",{model:{value:e.model_give_credit_status,callback:function(t){e.model_give_credit_status=t},expression:"model_give_credit_status"}},[t("Radio",{attrs:{label:"1"}},[e._v("开启")]),t("Radio",{attrs:{label:"0"}},[e._v("关闭")])],1),"1"===e.model_give_credit_status?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"赠送数量：",prop:"give_credit_num"}},[t("div",{staticClass:"flex",staticStyle:{padding:"2px 0"}},[t("span",{staticClass:"marginR-10"},[e._v("每件商品赠送")]),t("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:0,minValue:0,"max-value":999999999,placeholder:"请输入"},model:{value:e.model_give_credit_num,callback:function(t){e.model_give_credit_num=t},expression:"model_give_credit_num"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("积分")])])],1)])],1):e._e()],1)],1):e._e()])],1)};t.render=a;var l=[];t.staticRenderFns=l},a5d6:function(e,t,a){"use strict";a("20af")},ab1c:function(e,t,a){"use strict";a.r(t);var l=a("4c95"),n=a.n(l);for(var i in l)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return l[e]}))}(i);t["default"]=n.a},c3b6:function(e,t,a){"use strict";a.r(t);var l=a("6ace"),n=a("ab1c");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("a5d6");var o=a("2877"),d=Object(o["a"])(n["default"],l["render"],l["staticRenderFns"],!1,null,"0b25d9b3",null);t["default"]=d.exports}}]);