(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[149],{"404b":function(e,t,a){},4589:function(e,t,a){e.exports=a.p+"static/dist/shop/img/refund-tip.png"},"696c":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530")),l=n(a("15fd")),d=["error"],r={name:"index",components:{},data:function(){var e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[2]()};return{model:{apply_type:"2",apply_days:0,refund_info:"",single_refund_enable:"1",platform_join:"1",timeout_cancel_refund:"0",timeout_cancel_refund_days:1},defaultInfo:{},rules:{apply_days:[{required:!0,message:"请输入完成天数"}],apply_type:[{validator:e}],timeout_cancel_refund_days:[{required:!0,message:"请输入取消维权时间"}],timeout_cancel_refund:[{validator:e}]}}},computed:{noManagePerm:function(){return!this.$getPermMap("sysset.refund.manage")}},mounted:function(){this.getData()},methods:{stringToNum:function(e){return"string"===typeof e&&"null"!=e?parseFloat(e):null},getData:function(){var e=this;this.$api.settingApi.getSafeguardSetting().then((function(t){var a=t.error,n=(0,l.default)(t,d);0===a&&(n.apply_days=e.stringToNum(n.apply_days),e.model=(0,i.default)((0,i.default)({},e.model),n),e.defaultInfo=(0,i.default)({},n))}))},handleSave:function(){var e=this;this.$refs.form.validate((function(t){t&&e.handleSubmit()}))},handleSubmit:function(){var e=this,t=(0,i.default)({},this.model);"1"==t.apply_type&&(delete t.apply_days,t=(0,i.default)((0,i.default)({},this.defaultInfo),t)),this.$api.settingApi.editSafeguardSetting(t).then((function(t){0==t.error&&(e.getData(),e.$Message.success("保存成功"))}))}}};t.default=r},"6f3f":function(e,t,a){e.exports=a.p+"static/dist/shop/img/single-refund.png"},"733f":function(e,t,a){"use strict";a("404b")},"85ac":function(e,t,a){"use strict";a.r(t);var n=a("fd7e"),i=a("a776");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("733f");var d=a("2877"),r=Object(d["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"27241885",null);t["default"]=r.exports},"8d76":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"safeguard-content"},[t("kdx-form-title",[e._v("维权设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":140},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"售后维权申请：",prop:"apply_type"}},[t("RadioGroup",{model:{value:e.model.apply_type,callback:function(t){e.$set(e.model,"apply_type",t)},expression:"model.apply_type"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("完成订单不允许售后")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"2"}},[t("span",[e._v("自定义时间")])])],1),"2"==e.model.apply_type?t("div",{staticClass:"main marginT-10"},[t("FormItem",{staticClass:"number-input label-width-100 refund-input",attrs:{label:"订单完成",prop:"apply_days"}},[t("div",{staticClass:"flex width-160"},[t("kdx-rr-input",{attrs:{disabled:e.noManagePerm,number:"",minValue:0,maxValue:30,fixed:0},model:{value:e.model.apply_days,callback:function(t){e.$set(e.model,"apply_days",t)},expression:"model.apply_days"}}),t("span",{staticClass:"ivu-input-group-append item-append"},[e._v("天")])],1),t("span",{staticClass:"paddingL"},[e._v("内可发起售后维权")])]),t("kdx-hint-text",{staticStyle:{"margin-left":"120px"}},[e._v("售后维权时间必须在订单完成0-30天之间。")])],1):e._e()],1),t("FormItem",{attrs:{label:"退款说明："}},[t("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,type:"textarea",autosize:"",placeholder:"订单完成后七天内退换货"},model:{value:e.model.refund_info,callback:function(t){e.$set(e.model,"refund_info",t)},expression:"model.refund_info"}}),t("kdx-hint-text",[e._v(" 用户在申请退款页面的说明 "),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("4589")}})],1)],1),t("FormItem",{attrs:{label:"单品退换货："}},[t("RadioGroup",{model:{value:e.model.single_refund_enable,callback:function(t){e.$set(e.model,"single_refund_enable",t)},expression:"model.single_refund_enable"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("开启")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("关闭")])])],1),t("kdx-hint-text",[e._v(" 开启后，订单支持单件商品退换，订单优惠金额按比例分摊至每件商品 "),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("6f3f")}})],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"超时取消维权：",prop:"timeout_cancel_refund "}},[t("RadioGroup",{model:{value:e.model.timeout_cancel_refund,callback:function(t){e.$set(e.model,"timeout_cancel_refund",t)},expression:"model.timeout_cancel_refund"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("永不关闭")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("自定义关闭时间")])])],1),"1"==e.model.timeout_cancel_refund?t("div",{staticClass:"main marginT-10"},[t("FormItem",{staticClass:"number-input label-width-300 refund-input",attrs:{label:"商家同意退货退款/换货申请后",prop:"timeout_cancel_refund_days"}},[t("div",{staticClass:"flex width-160"},[t("kdx-rr-input",{attrs:{disabled:e.noManagePerm,number:"",minValue:1,maxValue:30,fixed:0},model:{value:e.model.timeout_cancel_refund_days,callback:function(t){e.$set(e.model,"timeout_cancel_refund_days",t)},expression:"model.timeout_cancel_refund_days"}}),t("span",{staticClass:"ivu-input-group-append item-append"},[e._v("天")])],1),t("span",{staticClass:"paddingL"},[e._v("内买家未提交快递单号的，自动取消售后维权")])]),t("kdx-hint-text",{staticStyle:{"margin-left":"250px"}},[e._v("取消售后维权时间必须在1-30天之间。")])],1):e._e()],1)],1)],1)])};t.render=n;var i=[];t.staticRenderFns=i},a776:function(e,t,a){"use strict";a.r(t);var n=a("696c"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t["default"]=i.a},fd7e:function(e,t,a){"use strict";var n=a("8d76");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))}}]);