(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"01c2":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i={props:{startLoadImg:{type:Boolean,default:!0},imgMode:{type:String,default:"widthFix"},imgStyle:{type:Object,default:function(){return{}}},list:{type:Array,default:function(){return[]}},startIndex:{type:Number,default:0},setting:{type:Object,default:function(){return{autoplay:!0,autoplaySpeed:3e3}}}},watch:{list:{immediate:!0,deep:!0,handler:function(){this.key=Math.random(),this.value=this.startIndex}}},data:function(){return{key:"",value:0}},methods:{change:function(e,t){this.$emit("change",t)},click:function(e){this.$emit("click",e)}}};t.default=i},"047c":function(e,t,a){"use strict";a.r(t);var i=a("981c"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"0659":function(e,t,a){"use strict";a.r(t);var i=a("f859"),n=a("6da0");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("efdd");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"535a0aa6",null);t["default"]=r.exports},"0c6e":function(e,t,a){"use strict";var i=a("3afc");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"0d35":function(e,t,a){"use strict";a.r(t);var i=a("bb14"),n=a("6820");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("7dad");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"50bf1baf",null);t["default"]=r.exports},1276:function(e,t,a){"use strict";var i=a("2ba4"),n=a("c65b"),o=a("e330"),s=a("d784"),r=a("825a"),l=a("7234"),c=a("44e7"),d=a("1d80"),u=a("4840"),m=a("8aa5"),f=a("50c4"),p=a("577e"),h=a("dc4a"),v=a("4dae"),g=a("14c3"),A=a("9263"),_=a("9f7f"),b=a("d039"),y=_.UNSUPPORTED_Y,x=4294967295,w=Math.min,C=[].push,k=o(/./.exec),I=o(C),Q=o("".slice),B=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));s("split",(function(e,t,a){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var o=p(d(this)),s=void 0===a?x:a>>>0;if(0===s)return[];if(void 0===e)return[o];if(!c(e))return n(t,o,e,s);var r,l,u,m=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,f+"g");while(r=n(A,g,o)){if(l=g.lastIndex,l>h&&(I(m,Q(o,h,r.index)),r.length>1&&r.index<o.length&&i(C,m,v(r,1)),u=r[0].length,h=l,m.length>=s))break;g.lastIndex===r.index&&g.lastIndex++}return h===o.length?!u&&k(g,"")||I(m,""):I(m,Q(o,h)),m.length>s?v(m,0,s):m}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:n(t,this,e,a)}:t,[function(t,a){var i=d(this),s=l(t)?void 0:h(t,e);return s?n(s,t,i,a):n(o,p(i),t,a)},function(e,i){var n=r(this),s=p(e),l=a(o,n,s,i,o!==t);if(l.done)return l.value;var c=u(n,RegExp),d=n.unicode,h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(y?"g":"y"),v=new c(y?"^(?:"+n.source+")":n,h),A=void 0===i?x:i>>>0;if(0===A)return[];if(0===s.length)return null===g(v,s)?[s]:[];var _=0,b=0,C=[];while(b<s.length){v.lastIndex=y?0:b;var k,B=g(v,y?Q(s,b):s);if(null===B||(k=w(f(v.lastIndex+(y?b:0)),s.length))===_)b=m(s,b,d);else{if(I(C,Q(s,_,b)),C.length===A)return C;for(var S=1;S<=B.length-1;S++)if(I(C,B[S]),C.length===A)return C;b=_=k}}return I(C,Q(s,_)),C}]}),!B,y)},"164a":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.isWQPlat=t.isAlonePlat=t.getPlat=void 0;var n=i(a("4360")),o=function(){return n.default.state.config.platform};t.getPlat=o;var s=function(){return n.default.state.config.platform=1};t.isWQPlat=s;var r=function(){return n.default.state.config.platform=2};t.isAlonePlat=r},"16f6":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909"));a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("4de4"),a("1276"),a("d81d"),a("159b"),a("14d9"),a("99af");var o=i(a("ceb0")),s=i(a("0659")),r=i(a("0d35")),l=a("9bc4"),c={components:{Editor:o.default,goodsSelector:s.default,CouponSelector:r.default},props:{id:{type:String,default:""},value:{type:Object,default:function(){}}},data:function(){return{plugins:"lists image media table wordcount link preview paste quickbars noneditable",model:{top_thumb_type:"0",top_thumb:"",top_thumb_all:[],content:[],content_origin:"",goods_ids:[],coupon_ids:[]},rule:{content_origin:[{required:!0,message:"文章详情必填"}]},goodsSelector:{value:!1,data:[]},couponSelector:{value:!1,data:[]}}},watch:{value:{handler:function(e){this.model=e},immediate:!0,deep:!0},model:{handler:function(e){this.$emit("input",e)},deep:!0}},computed:{noManagePerm:function(){return!this.$getPermMap("article.group.manage")}},filters:{formatPrice:function(e){return parseFloat(e)}},methods:{changeThumb:function(e){this.model.top_thumb=e},changeThumbAll:function(e){this.model.top_thumb_all=e},handleChange:function(){var e=this,t=["goods","coupon"];t.forEach((function(t){var a=new RegExp("\x3c!-- article-item-".concat(t,".*? --\x3e")),i=e.model.content_origin.split(a).filter((function(e){return-1!==e.indexOf("\x3c!-- ".concat(t," --\x3e"))}));e.model["".concat(t,"_ids")]=i.map((function(e){var a="data-".concat(t,'-id="');return e.substring(e.indexOf(a)+a.length,e.indexOf('" data-'.concat(t,"-id-end")))})),e["".concat(t,"Selector")].data=e["".concat(t,"Selector")].data.filter((function(a){var i=!1;return e.model["".concat(t,"_ids")].forEach((function(e){e===a.id&&(i=!0)})),i})),e.model["".concat(t,"_ids")].forEach((function(a){var i=!0;e["".concat(t,"Selector")].data.forEach((function(e){a===e.id&&(i=!1)})),i&&e["".concat(t,"Selector")].data.push({id:a})}))}))},chooseGoods:function(){this.goodsSelector.value=!0},goodsClose:function(){this.goodsSelector.value=!1},changeGoodList:function(e){this.changeItem("goods",e)},chooseCoupon:function(){this.couponSelector.value=!0},couponClose:function(){this.couponSelector.value=!1},changeCouponList:function(e){this.changeItem("coupon",e)},changeItem:function(e,t){var a=this;this["".concat(e,"Selector")].data=(0,n.default)(t);var i=this.model["".concat(e,"_ids")].filter((function(e){var a=!0;return t.forEach((function(t){e===t.id&&(a=!1)})),a})),o=t.filter((function(t){var i=!0;return a.model["".concat(e,"_ids")].forEach((function(e){e===t.id&&(i=!1)})),i}));i.forEach((function(t){var i="\x3c!-- article-item-".concat(e).concat(t," --\x3e"),n="<div class='mceNonEditable'>",o=a.model.content_origin.indexOf(i),s=a.model.content_origin.indexOf(i,o+i.length);a.model.content_origin=a.model.content_origin.substring(0,o-n.length)+a.model.content_origin.substring(s+i.length+6)})),o.forEach((function(t){a.insertItem(e,t)})),this.model["".concat(e,"_ids")]=this["".concat(e,"Selector")].data.map((function(e){return e.id})),this["".concat(e,"Close")]()},insertItem:function(e,t){var a="";a="coupon"===e?"<div class='mceNonEditable'>\n                    \x3c!-- article-item-coupon".concat(t.id,' --\x3e\n                    \x3c!-- coupon --\x3e\n                    <div class="article-coupon" data-coupon-id="').concat(t.id,'" data-coupon-id-end>\n                        <img class="coupon-bg" src="').concat(this.$utils.staticImg("article/coupon-bg.png"),'" alt="" />\n                        <div class="left">\n                            ').concat("0"==t.is_free?'<div class="coupon-price-icon"><img class="img" src="'+this.$utils.staticImg("coupon/coupon-price-icon.png")+'" alt="" /><div>付费券</div></div>':"",'\n                            <div class="box">\n                                <div class="price">\n                                    ').concat("1"===t.coupon_sale_type?'<span class="rmb">¥</span>':"",'\n                                    <span class="num">').concat(t.discount_price|this.formatPrice,"</span>\n                                    ").concat("2"===t.coupon_sale_type?'<span class="discount">折</span>':"",'\n                                </div>\n                                <div class="rule">\n                                    ').concat("0.00"!=t.enough?"满￥"+parseFloat(t.enough)+"可用":"无门槛",'\n                                </div>\n                            </div>\n                            <div class="coupon-name">').concat(t.coupon_name,'</div>\n                        </div>\n                        <div class="right"> 立即领取</div>\n                    </div>\n                    \x3c!-- article-item-coupon').concat(t.id," --\x3e\n                </div>\n                <br>"):"<div class='mceNonEditable'>\n                    \x3c!-- article-item-goods".concat(t.id,' --\x3e\n                    \x3c!-- goods --\x3e\n                    <div class="article-goods" data-goods-id="').concat(t.id,'" data-goods-id-end>\n                        <img class="goods-thumb" src="').concat(this.$media(t.thumb),'" />\n                        <div class="goods-r">\n                            <div class="goods-title">').concat(t.title,'</div>\n                            <div class="goods-b">\n                                <div class="price">').concat(this.goodsPrice(t),'</div>\n                                <div class="goods-btn">立即购买</div>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!-- article-item-goods').concat(t.id," --\x3e\n                </div>\n                <br>"),this.$refs.editor.insertHtml(a)},goodsPrice:function(e){var t="￥".concat(e.price);return"1"===e.has_option&&(t="￥".concat(e.min_price," ~ ￥").concat(e.max_price)),t},couponTag:function(e){var t="店铺优惠券";return 20==this.$store.state.config.shop_type&&(t=0!=e.sub_shop_id?"商户优惠券":"平台优惠券"),t},couponTimeLimit:function(e){var t="";return t="1"===e.time_limit?"0"===e.limit_day?"无限制":"领取".concat(e.limit_day,"日之内支持使用"):"".concat((0,l.formatDate)(new Date(e.start_time),"yyyy/MM/dd"),"~").concat((0,l.formatDate)(new Date(e.end_time),"yyyy/MM/dd")),t},validateForm:function(){var e=this;return new Promise((function(t){e.$refs.form.validate((function(e){t(e)}))}))}}};t.default=c},1772:function(e,t,a){"use strict";a.r(t);var i=a("2d70"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"1e0a":function(e,t,a){},"23c9":function(e,t,a){"use strict";a.r(t);var i=a("4aea"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},2456:function(e,t,a){"use strict";a.r(t);var i=a("0c6e"),n=a("1772");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("bb26");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"9b572e8e",null);t["default"]=r.exports},2762:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909"));a("99af"),a("a15b"),a("b0c0"),a("d3b7");var o=i(a("5aff")),s={components:{addGroupModal:o.default},props:{id:{type:String,default:""},value:{type:Object,default:function(){}},addressData:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{web_key:"",amap_key:"",amap_code:"",location:"",model:{type:"0",title:"",activity_start_time:"",activity_end_time:"",sign_start_time:"",sign_end_time:"",telephone:"",selectedAddress:[],detail:"",lng:"",lat:"",check_mobile:"0",check_form:"0",form_id:"",form_name:"",cover:[],digest:"",group_id:"",author:"",display_order:""},groupList:[]}},created:function(){this.getGroup(),this.getAMapKey()},watch:{value:{handler:function(e){this.model=e},immediate:!0,deep:!0},model:{handler:function(e){this.$emit("input",e)},deep:!0}},computed:{noManagePerm:function(){return!this.$getPermMap("article.group.manage")},appFormPerm:function(){return this.$getAppPermMap("diyform")},rule:function(){var e=this,t="文章标题必填",a="文章标题长度不能大于64位";return{title:[{required:!0,message:t},{max:64,message:a}],activity_start_time:[{required:!0,message:"报名开始时间必填"}],activity_end_time:[{required:!0,message:"报名结束时间必填"},{validator:function(t,a){return e.model.activity_start_time&&new Date(a)>=new Date(e.model.activity_start_time)},message:"结束时间要大于开始时间"}],sign_start_time:[{required:!0,message:"签到开始时间必填"},{validator:function(t,a){return e.model.activity_end_time&&new Date(a)>=new Date(e.model.activity_end_time)},message:"签到开始时间不得早于报名结束时间"}],sign_end_time:[{required:!0,message:"签到结束时间必填"},{validator:function(t,a){return e.model.sign_start_time&&new Date(a)>=new Date(e.model.sign_start_time)},message:"结束时间要大于开始时间"}],telephone:[{required:!0,message:"联系电话必填"}],selectedAddress:[{required:!0,message:"活动地址必选"}],detail:[{required:!0,message:"详细地址必填"}],cover:[{required:!0,message:"文章封面必选"}],digest:[{max:120,message:"文章简介长度不能大于120位"}],author:[{max:12,message:"作者名称长度不能大于12位"}],group_id:[{required:!0,message:"文章分组必选"}],form_id:[{required:!0,message:"报名表单必选"}],display_order:[{pattern:/^(0|[1-9][0-9]{0,4})$/,message:"文章排序为数字类型，最长为4位数"}]}}},methods:{getAMapKey:function(){var e=this;this.$api.orderApi.getContactDetail({}).then((function(t){var a,i,n;0==t.error&&(e.amap_key=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.amap_key)||"",e.amap_code=(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.amap_code)||"",e.web_key=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.web_key)||"",setTimeout((function(){e.$refs.amap&&e.$refs.amap.changeKey(e.amap_key,e.amap_code)}),500))}))},searchMap:function(){var e=this;setTimeout((function(){e.location="".concat(e.model.selectedAddress.join("")).concat(e.model.detail),e.location&&e.$nextTick((function(){e.$refs.amap.geocoder("getLocation")}))}),800)},getAddress:function(e){var t,a,i,o,s,r,l,c;e.selectedAddress&&(this.model.selectedAddress=(0,n.default)(e.selectedAddress)),e.address&&(this.model.detail=e.address),this.model.lng=e.lng,this.model.lat=e.lat,(this.model.lng!==(null===(t=this.cacheModel)||void 0===t||null===(a=t.address)||void 0===a?void 0:a.lng)&&null!==(i=this.cacheModel)&&void 0!==i&&null!==(o=i.address)&&void 0!==o&&o.lng||this.model.lat!==(null===(s=this.cacheModel)||void 0===s||null===(r=s.address)||void 0===r?void 0:r.lat)&&null!==(l=this.cacheModel)&&void 0!==l&&null!==(c=l.address)&&void 0!==c&&c.lat)&&this.$Message.warning("店铺地址发生变化，注意及时保存哦")},aMapInitFinished:function(){if(this.model.lng&&this.model.lat){var e="".concat(this.model.selectedAddress.join("")).concat(this.model.detail);this.$refs["amap"].addMarker(this.model.lng,this.model.lat,e),this.$refs["amap"].setCenter(this.model.lng,this.model.lat)}},changeCover:function(e){this.model.cover=e},checkTitle:function(){if(this.model.title){var e={article_id:this.id,title:this.model.title};this.$api.articleApi.checkArticleTitle(e)}},changeTime:function(e,t){this.model[e]=t},getGroup:function(){var e=this;this.$api.articleApi.getGroupList({status:1}).then((function(t){0===t.error&&(e.groupList=t.list)}))},checkGoodsForm:function(){var e=this;this.$refs["form_selector"].toggle().then((function(t){e.model.form_name=t.name,e.model.form_id=t.id}))},addGroup:function(){this.$refs.groupModal.setValue()},validateForm:function(){var e=this;return new Promise((function(t){e.$refs.form.validate((function(e){t(e)}))}))}}};t.default=s},"29c7":function(e,t,a){"use strict";a.r(t);var i=a("6055"),n=a("ddcc");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("660f");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=r.exports},"2d70":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("14d9"),a("3ca3"),a("ddb0"),a("159b"),a("ac1f"),a("5319"),a("1276"),a("d81d"),a("b0c0"),a("a15b"),a("e9c4");var n=i(a("b85c")),o=i(a("3835")),s=i(a("2909")),r=i(a("5530")),l=i(a("c029")),c=i(a("c2e7")),d=i(a("c323")),u=i(a("59d3")),m={name:"articleDetail",components:{Preview:l.default,BaseInfo:c.default,EditorData:d.default,RuleSettings:u.default},props:{},computed:{noManagePerm:function(){return!this.$getPermMap("article.article.manage")},tab:function(){var e=this,t=this.$createElement;return{baseInfo:function(){var a;return e.validateTab.indexOf("baseInfo")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["基本信息"]),a])},editorData:function(){var a;return e.validateTab.indexOf("editorData")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["文章编辑"]),a])},ruleSettings:function(){var a;return e.validateTab.indexOf("ruleSettings")>-1&&(a=t("span",{class:"iconfont icon-tishi-prompt"})),t("div",[t("span",["奖励规则"]),a])}}},addressData:function(){return this.$store.state.config.address}},data:function(){return{loading:!1,submitLoading:!1,disabled:!1,id:"",activity_id:"",value:"baseInfo",validateTab:[],tabDefault:["baseInfo"],baseInfo:{type:"0",title:"",activity_start_time:"",activity_end_time:"",sign_start_time:"",sign_end_time:"",telephone:"",selectedAddress:[],detail:"",lng:"",lat:"",check_mobile:"0",check_form:"0",form_id:"",form_name:"",cover:[],digest:"",group_id:"",author:"",display_order:""},editorData:{top_thumb_type:"0",top_thumb:"",top_thumb_all:[],content:{},content_origin:"",goods_ids:[],coupon_ids:[]},ruleSettings:{read_number_status:"1",read_number_init:"",read_number_step:"",thumps_up_status:"1",thumps_up_number_init:"",member_level_limit_type:"0",member_level_limit_ids:[],member_level_limit_list:[],commission_level_limit_type:"0",commission_level_limit_ids:[],reward_type:"0",reward_rule:{},creditOnce:"",creditMax:"",balanceOnce:"",balanceMax:"",status:"1",coupon:[],rule_coupon_ids:""},selectedMemberList:{levelList:[],labelList:[]}}},created:function(){this.validateTab=[],this.$store.dispatch("config/getAddress")},mounted:function(){var e=this.$route.query,t=e.id,a=e.data,i=e.type;this.id=t,this.id&&(this.disabled=!0),i&&(this.baseInfo.type=i),this.baseInfo.title=(null===a||void 0===a?void 0:a.title)||"",this.baseInfo.author=(null===a||void 0===a?void 0:a.author)||"",this.baseInfo.digest=(null===a||void 0===a?void 0:a.digest)||"",this.editorData.content_origin=(null===a||void 0===a?void 0:a.content)||"",this.id&&this.getArticleDetail()},methods:{getArticleDetail:function(){var e=this;this.loading=!0,this.$api.articleApi.getArticleDetail({article_id:this.id}).then((function(t){if(e.loading=!1,0==t.error){var a,i,n,o,l,c,d,u,m,f,p,h,v,g,A,_;for(var b in t.data.cover=t.data.cover.split(","),t.data=(0,r.default)((0,r.default)({},t.data),null===(a=t.data)||void 0===a?void 0:a.activity),t.data.top_thumb_all||(t.data.top_thumb_all=[]),e.baseInfo){var y={};y[b]=t.data[b],Object.assign(e.baseInfo,y)}if(t.data.province&&t.data.city&&t.data.area){var x=[t.data.province,t.data.city,t.data.area];e.baseInfo.selectedAddress=[].concat(x)}else e.baseInfo.selectedAddress=[];for(var w in e.editorData){var C={};C[w]=t.data[w],Object.assign(e.editorData,C)}for(var k in e.ruleSettings){var I={};I[k]=t.data[k],Object.assign(e.ruleSettings,I)}if("0"===t.data.group_id&&(e.baseInfo.group_id=""),null!==(i=e.baseInfo)&&void 0!==i&&i.type||(e.baseInfo.type="0"),"1"==(null===(n=e.baseInfo)||void 0===n?void 0:n.type))e.activity_id=null===(_=t.data)||void 0===_?void 0:_.activity.id;e.ruleSettings.creditOnce=null===(o=t.data.reward_rule)||void 0===o||null===(l=o.credit)||void 0===l?void 0:l.once,e.ruleSettings.creditMax=null===(c=t.data.reward_rule)||void 0===c||null===(d=c.credit)||void 0===d?void 0:d.max,e.ruleSettings.balanceOnce=null===(u=t.data.reward_rule)||void 0===u||null===(m=u.balance)||void 0===m?void 0:m.once,e.ruleSettings.balanceMax=null===(f=t.data.reward_rule)||void 0===f||null===(p=f.balance)||void 0===p?void 0:p.max,e.ruleSettings.coupon=(null===(h=t.data.reward_rule)||void 0===h||null===(v=h.coupon)||void 0===v?void 0:v.coupon)||[],e.ruleSettings.rule_coupon_ids=(null===(g=t.data.reward_rule)||void 0===g||null===(A=g.coupon)||void 0===A?void 0:A.coupon_id)||"",e.editorData.top_thumb_all=JSON.parse(e.editorData.top_thumb_all),e.ruleSettings.member_level_limit_list=JSON.parse(e.ruleSettings.member_level_limit_list),e.$refs.editorData.handleChange(),"1"===e.ruleSettings.member_level_limit_type?e.selectedMemberList.levelList=(0,s.default)(e.ruleSettings.member_level_limit_list):"2"===e.ruleSettings.member_level_limit_type&&(e.selectedMemberList.labelList=(0,s.default)(e.ruleSettings.member_level_limit_list))}}))},tabClick:function(){this.validateArticle()},handleNextStep:function(){var e;switch(null===(e=this.$refs["content_bar"])||void 0===e||e.returnToTop(),this.value){case"baseInfo":this.value="editorData";break;case"editorData":this.value="ruleSettings";break}this.validateArticle(!0)},handleSave:function(){var e=this;this.submitLoading=!0,this.validateArticle(!0,"save").then((function(t){t&&e.submit()}))},validateArticle:function(e,t){var a=this;return new Promise((function(i){var n=[a.$refs.baseInfo.validateForm()],o=[],s=["baseInfo","editorData","ruleSettings"];a.tabDefault.indexOf("editorData")>-1&&n.push(a.$refs.editorData.validateForm()),a.tabDefault.indexOf("ruleSettings")>-1&&n.push(a.$refs.ruleSettings.validateForm()),"save"==t&&(n=[a.$refs.baseInfo.validateForm(),a.$refs.editorData.validateForm(),a.$refs.ruleSettings.validateForm()]),!(a.tabDefault.indexOf(a.value)>-1)&&a.tabDefault.push(a.value),Promise.all(n).then((function(t){t.forEach((function(e,t){e||o.push(s[t])})),console.log(o,88),a.validateTab=o,null!==o&&void 0!==o&&o.length?(e&&(a.value=o[0]),e&&(a.value=o[0]),a.submitLoading=!1,i(!1)):i(!0)})).catch((function(t){a.submitLoading=!1,e&&(a.value=t)}))}))},submit:function(){var e=this,t=this.formatParams();this.id&&(t.article_id=this.id),console.log(t,"---------params"),this.$api.articleApi.saveArticle(t).then((function(t){0==t.error&&(e.$Message.success("操作成功"),e.$router.replace({path:"/article/article/list"}))})).finally((function(){e.submitLoading=!1}))},formatParams:function(){this.editorData.content_origin=this.$utils.alterVideo(this.editorData.content_origin);var e,t,a,i,s,l,c,d,u,m=(0,r.default)((0,r.default)((0,r.default)({},this.baseInfo),this.editorData),this.ruleSettings),f=this.editorData.content_origin.split(/<!-- article-item-.*? -->/);if(m.content=f.map((function(e){if(-1!==e.indexOf("\x3c!-- goods --\x3e")){var t=e.substring(e.indexOf('data-goods-id="')+15,e.indexOf('" data-goods-id-end'));return{type:"goods",id:t}}if(-1!==e.indexOf("\x3c!-- coupon --\x3e")){var a=e.substring(e.indexOf('data-coupon-id="')+16,e.indexOf('" data-coupon-id-end'));return{type:"coupon",id:a}}return{type:"text",value:e}})),"0"===m.read_number_status&&(m.read=0,m.read_number_step=0),"0"===m.thumps_up_status&&(m.thumps_up_number_init=0),"0"===m.member_level_limit_type&&(m.member_level_limit_ids=[]),"0"===m.commission_level_limit_type&&(m.commission_level_limit_ids=[]),"0"===m.check_form&&(m.form_id="0",m.form_name=""),"0"===m.download_limit_type&&(m.download_limit_ids=[]),"0"===m.reward_type?(m.creditOnce=0,m.creditMax=0,m.balanceOnce=0,m.balanceMax=0):"1"===m.reward_type?(m.balanceOnce=0,m.balanceMax=0):"2"===m.reward_type&&(m.creditOnce=0,m.creditMax=0),m.reward_rule={credit:{once:this.ruleSettings.creditOnce||0,max:this.ruleSettings.creditMax||0},balance:{once:this.ruleSettings.balanceOnce||0,max:this.ruleSettings.balanceMax||0},coupon:{coupon_id:this.ruleSettings.rule_coupon_ids,coupon:this.ruleSettings.coupon}},m.selectedAddress.length){var p,h=(0,o.default)(m.selectedAddress,3),v=h[0],g=h[1],A=h[2],_=(0,n.default)(this.addressData);try{for(_.s();!(p=_.n()).done;)if(e=p.value,e.name===v)break}catch(C){_.e(C)}finally{_.f()}var b,y=(0,n.default)(e.children);try{for(y.s();!(b=y.n()).done;)if(t=b.value,t.name===g)break}catch(C){y.e(C)}finally{y.f()}var x,w=(0,n.default)(t.children);try{for(w.s();!(x=w.n()).done;)if(a=x.value,a.name===A)break}catch(C){w.e(C)}finally{w.f()}}1==this.baseInfo.type&&(m.activity_start_time=this.$utils.formatDate(new Date(m.activity_start_time),"yyyy-MM-dd hh:mm:ss"),m.activity_end_time=this.$utils.formatDate(new Date(m.activity_end_time),"yyyy-MM-dd hh:mm:ss"),m.sign_start_time=this.$utils.formatDate(new Date(m.sign_start_time),"yyyy-MM-dd hh:mm:ss"),m.sign_end_time=this.$utils.formatDate(new Date(m.sign_end_time),"yyyy-MM-dd hh:mm:ss"),m.lng||(m.lng="0"),m.lat||(m.lat="0"),m.activity={activity_start_time:m.activity_start_time,activity_end_time:m.activity_end_time,sign_start_time:m.sign_start_time,sign_end_time:m.sign_end_time,telephone:m.telephone,detail:m.detail,lng:m.lng,lat:m.lat,check_mobile:m.check_mobile,check_form:m.check_form,form_id:m.form_id,form_name:m.form_name,province:null===(i=e)||void 0===i?void 0:i.label,province_code:null===(s=e)||void 0===s?void 0:s.id,city:null===(l=t)||void 0===l?void 0:l.label,city_code:null===(c=t)||void 0===c?void 0:c.id,area:null===(d=a)||void 0===d?void 0:d.label,area_code:null===(u=a)||void 0===u?void 0:u.id},this.activity_id&&(m.activity.id=this.activity_id),delete m.activity_start_time,delete m.activity_end_time,delete m.sign_start_time,delete m.sign_end_time,delete m.telephone,delete m.selectedAddress,delete m.detail,delete m.lng,delete m.lat,delete m.check_mobile,delete m.check_form,delete m.form_id,delete m.form_name);return delete m.coupon,delete m.rule_coupon_ids,m.cover=m.cover.join(","),m.content=JSON.stringify(m.content),m.goods_ids=JSON.stringify(m.goods_ids),m.coupon_ids=JSON.stringify(m.coupon_ids),m.member_level_limit_ids=JSON.stringify(m.member_level_limit_ids),m.member_level_limit_list=JSON.stringify(m.member_level_limit_list),m.commission_level_limit_ids=JSON.stringify(m.commission_level_limit_ids),m.reward_rule=JSON.stringify(m.reward_rule),m.display_order=m.display_order||0,m.read_number_init=m.read_number_init||0,m.read_number_step=""===m.read_number_step?1:m.read_number_step,m.thumps_up_number_init=m.thumps_up_number_init||0,m.download_limit_ids=JSON.stringify(m.download_limit_ids),m.download_limit_list=JSON.stringify(m.download_limit_list),m.top_thumb_all=JSON.stringify(m.top_thumb_all),m}}};t.default=m},"2e1d":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909")),o=i(a("5530")),s=i(a("b85c"));a("a9e3"),a("a434"),a("4de4"),a("d3b7"),a("14d9"),a("159b"),a("ac1f"),a("841c");var r={name:"goodsSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},value:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},limit:{type:Number},isStore:{type:Boolean,default:!1},params:{type:Object,default:function(){}},type:{type:String,default:""},flag:{type:String,default:""},status:{type:Number,default:5},show_activity:{type:[Number],default:0},is_shopping_reward:{type:[Number],default:0}},computed:{columns:function(){var e=this,t=(this.$createElement,[{title:"商品",key:"shop",minWidth:450,render:function(t,a){var i;switch(a.row.type){case"0":i={goodsText:"实"};break;case"1":i={goodsText:"虚"};break;case"2":i={goodsText:"密"};break;case"3":i={goodsText:"预"};break}return t("div",{class:{"shop-box":!0}},[t("div",{class:{image:!0}},[t("img",{attrs:{src:e.$media(a.row.thumb)},on:{error:function(t){e.replaceImage(t)}}})]),t("div",{class:{content:!0}},[t("div",{class:{"content-text":!0}},[t("span",{class:{mark:!0},style:{display:"1"===a.row.has_option?"inline-block":"none"}},"多"),t("span",{class:{mark:!0,real:"0"===a.row.type,virtual:"1"===a.row.type,secret:"2"===a.row.type}},i.goodsText),t("span",{class:{text:!0}},a.row.title)])])])}},{title:"价格",key:"price",minWidth:60,render:function(e,t){return"1"===t.row.has_option?e("div",{class:"price"},[e("span",["￥",t.row.min_price," ~ ￥",t.row.max_price])]):e("div",{class:"price"},[e("span",["￥",t.row[t.column.key]])])}},{title:"库存",key:"stock",width:60,render:function(e,t){var a=parseInt(t.row[t.column.key]);return"3"==t.row.type?e("div","-"):e("div",a||0===a?a<=999?a:"999+":"-")}},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",attrs:{disabled:1===a.row.is_select},style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}]);return this.show_activity&&t.splice(-1,0,{title:"营销活动",key:"is_activity_goods",width:130,render:function(t,a){return t("div",{class:1===a.row.is_activity_goods?"brand-color pointer":"pointer",on:{click:function(){e.viewActivity(a.row)}}},[1===a.row.is_activity_goods?"查看参与的活动":"未参与活动"])}}),t}},data:function(){var e=this.$createElement;return{search:{keywords:"",group:""},goodsGroup:[],page:{pageSize:10,pageNumber:1},selectRows:[],selectRow:{},table:{data:[],loading:!1,total:0},activity:{show:!1,columns:[{title:"活动名称",key:"title"},{title:"活动状态",key:"status",slot:"status"},{title:"活动时间",key:"time",slot:"date"},{title:"活动类型",key:"type_text"},{title:"活动来源",key:"sub_shop_id",render:function(){return e("div",["平台"])}}],data:[]}}},created:function(){this.activity.columns=this.activity.columns.filter((function(e){return"sub_shop_id"!==e.key}))},methods:{handleSearch:function(){this.resetPage(),this.getShopList()},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},handlePageChange:function(e){this.page=e,this.getShopList();try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}},setChecked:function(e,t){var a=this;if(this.multiple){if(this.limit&&this.selectRows.length===this.limit&&t)return void this.$Message.error("已超出最大可选数量");this.$set(this.table.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.table.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.table.data[e].id}))}else t?(this.table.data.forEach((function(e,t){a.$set(a.table.data[t],"checked",!1)})),this.$set(this.table.data[e],"checked",!0),this.selectRow=this.table.data[e]):(this.$set(this.table.data[e],"checked",!1),this.selectRow={})},defaultChecked:function(){var e,t=this,a=this.isStore?"broadcast_goods_id":"id",i=this.isStore?"broadcast_goods_id":"id";this.multiple?this.table.data.forEach((function(e,n){var o,r=(0,s.default)(t.selectRows);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(l[i]===e[a]){t.$set(t.table.data[n],"checked",!0);break}}}catch(c){r.e(c)}finally{r.f()}})):null===(e=this.table.data)||void 0===e||e.forEach((function(e,n){t.selectRow&&e[a]===t.selectRow[i]?t.$set(t.table.data[n],"checked",!0):t.$set(t.table.data[n],"checked",!1)}))},getShopList:function(){var e=this;if(this.isStore)this.getGoodsStore();else{this.table.loading=!0;var t=Object.assign((0,o.default)({page:this.page.pageNumber,pagesize:this.page.pageSize,status:-1===this.status?"":this.status,type:this.type,flag:this.flag,show_activity:this.show_activity,is_shopping_reward:this.is_shopping_reward},this.params),this.search);this.$api.goodsApi.goodsList(t).then((function(t){e.table.loading=!1,0===t.error&&(e.table.data=t.list,e.table.total=t.total,e.defaultChecked())})).catch()}},getGoodsStore:function(){var e=this;this.table.loading=!0;var t=Object.assign({page:this.page.pageNumber,pagesize:this.page.pageSize,bro_goods_status:2},{title:this.search.keywords});this.$api.liverApi.getGoodsStore(t).then((function(t){e.table.loading=!1,0===t.error&&(e.table.data=t.list,e.table.total=t.total,e.defaultChecked())})).catch()},goodGroupList:function(){var e=this;this.$api.goodsApi.goodGroupList({pager:0}).then((function(t){0===t.error?e.goodsGroup=t.list:e.$Message.error("商品组获取失败")}))},handleSave:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.handleCancel()},handleCancel:function(){this.$emit("on-cancel"),this.activity.show=!1},resetSearch:function(){this.search={keywords:"",group:""}},viewActivity:function(e){console.log(e,"data>>>>>>>>viewActivity"),e.is_activity_goods&&(this.activity.show=!0,this.activity.data=e.join_activity)},getTime:function(e){return"0000-00-00 00:00:00"===e?"-":e}},watch:{value:{handler:function(e){e&&(this.multiple?this.selectRows=(0,n.default)(this.currentList)||[]:this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getShopList())},immediate:!0}}};t.default=r},"2e20":function(e,t,a){"use strict";a("f6cf")},"2efa":function(e,t,a){"use strict";a.r(t);var i=a("f5ae"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"30a1":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("kdx-Modal-frame",{attrs:{title:"新增分组",width:700},on:{"on-cancel":e.handleClose,"on-ok":e.handleOk},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("Form",{ref:"form",staticClass:"import-form",attrs:{model:e.model,rules:e.rules,"label-width":120},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"分组名称：",prop:"name"}},[t("Input",{staticClass:"width-430",attrs:{maxlength:"4","show-word-limit":"",placeholder:"请输入分组名称"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1)],1)};t.render=i;var n=[];t.staticRenderFns=n},"32c0":function(e,t,a){},"39a0":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("d3b7"),a("159b"),a("14d9"),a("a434");var n=i(a("b85c")),o=i(a("2909")),s=(a("8194"),{name:"levelSelector",props:{currentList:{type:Array,default:function(){return[]}}},data:function(){return{value:!1,selectRows:[],list:[],loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.selectRows=(0,o.default)(this.currentList)||[],this.getLabelData())},handleCancel:function(){this.setValue()},handleOk:function(){this.$emit("on-change",JSON.parse(JSON.stringify(this.selectRows))),this.setValue()},initDefaultChecked:function(){var e=this;this.currentList.length>0&&this.list.forEach((function(t,a){var i,o=(0,n.default)(e.selectRows);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.id===s.id){e.$set(e.list[a],"checked",!0);break}}}catch(r){o.e(r)}finally{o.f()}}))},setLabelChecked:function(e,t){var a=this;if(this.$set(this.list[e],"checked",t),t)this.selectRows.push(this.list[e]);else{var i=-1;this.selectRows.forEach((function(t,n){t.id===a.list[e].id&&(i=n)})),this.selectRows.splice(i,1)}},getLabelData:function(){var e=this;this.loading=!0,this.$api.memberApi.getLevelList({is_all:1}).then((function(t){e.loading=!1,0===t.error&&(e.list=t.list||[],e.initDefaultChecked())}))}}});t.default=s},"3afc":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=i(a("5530")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex article-add-wrap"},[t("Preview",{attrs:{p_model:(0,n.default)((0,n.default)((0,n.default)({},e.baseInfo),e.editorData),e.ruleSettings)}}),t("div",{staticClass:"right"},[t("kdx-content-bar",{ref:"content_bar",staticClass:"content-bar-right",attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{directives:[{name:"show",rawName:"v-show",value:"ruleSettings"!==e.value,expression:"value !== 'ruleSettings'"}],staticClass:"primary-long",on:{click:e.handleNextStep}},[e._v("下一步")]),t("Button",{class:"".concat("ruleSettings"!==e.value?"default-long":"primary-long"),attrs:{disabled:e.noManagePerm,loading:e.submitLoading},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("Tabs",{staticStyle:{background:"#fff","min-height":"100%"},attrs:{animated:!1,name:"article"},on:{"on-click":e.tabClick},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("TabPane",{attrs:{label:e.tab.baseInfo,name:"baseInfo"}},[t("keep-alive",[t("base-info",{ref:"baseInfo",staticClass:"detail-item",attrs:{disabled:e.disabled,addressData:e.addressData,id:e.id},model:{value:e.baseInfo,callback:function(t){e.baseInfo=t},expression:"baseInfo"}})],1)],1),t("TabPane",{attrs:{label:e.tab.editorData,name:"editorData"}},[t("keep-alive",[t("editor-data",{ref:"editorData",staticClass:"detail-item",attrs:{id:e.id},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)],1),t("TabPane",{attrs:{label:e.tab.ruleSettings,name:"ruleSettings"}},[t("keep-alive",[t("rule-settings",{ref:"ruleSettings",staticClass:"detail-item",attrs:{id:e.id,selectedMemberList:e.selectedMemberList},model:{value:e.ruleSettings,callback:function(t){e.ruleSettings=t},expression:"ruleSettings"}})],1)],1)],1)],1)],1)],1)};t.render=o;var s=[];t.staticRenderFns=s},"3cdf":function(e,t,a){},4593:function(e,t,a){"use strict";a("3cdf")},"46ab":function(e,t,a){"use strict";a.r(t);var i=a("2762"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"4a81":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"market-send-coupons-list"},[t("Table",{attrs:{columns:e.columns,data:e.data},scopedSlots:e._u([{key:"stock",fn:function(t){var a=t.row;return[e._v(" "+e._s("0"===a.stock_type?"不限制":parseInt(a.stock)-parseInt(a.get_total))+" ")]}}])}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>5,expression:"total > 5"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total,"page-size":5,pageSizeOption:[5,10,20]},on:{"on-change":e.handlePageChange}})],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},"4aea":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("5530"));a("d3b7"),a("159b"),a("d81d");var o=i(a("29c7")),s={props:["p_model"],components:{MySwiper:o.default},data:function(){return{model:{title:"",author:"",date:"",content_origin:"",goods_ids:[],read_number_status:"",thumps_up_status:""},swiper:{current:0,spaceBetween:13,slidesPerView:"auto",centeredSlides:!0},setting:{autoplaySpeed:5e3,autoplay:!0,loop:!0},imgStyle:{width:"100%",height:"160px"},customer:"0"}},mounted:function(){this.getSettings()},computed:{readNumber:function(){return this.model.read_number>9999?"9999+":this.model.read_number},address:function(){var e="";return this.model.selectedAddress.forEach((function(t){e+=t})),e+=this.model.detail,e},getImgs:function(){var e=this,t=this.model.top_thumb_all.map((function(t){return e.$utils.media(t)}));return console.log(this.model.top_thumb_all,t),t}},watch:{p_model:{handler:function(e){this.model=(0,n.default)((0,n.default)({},this.model),e)},immediate:!0,deep:!0}},methods:{getSettings:function(){var e=this;this.$api.articleApi.getArticleSettings().then((function(t){0===t.error&&(e.customer=e.model.customer_channel)}))}}};t.default=s},"4e1c":function(e,t){e.exports="data:image/png;base64,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"},"50b2":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("b0c0");var i={name:"ImportArticleModal",data:function(){return{value:!1,model:{name:""},rules:{name:[{required:!0,message:"分组名称必填"}]}}},methods:{setValue:function(){console.log(this.value),this.value=!this.value,this.value&&this.resetModel()},handleClose:function(){this.resetModel(),this.setValue()},handleOk:function(){var e=this;this.$refs["form"].validate((function(t){t&&e.addGroup()}))},addGroup:function(){var e=this,t=JSON.stringify([{name:this.model.name,status:1}]);this.$api.articleApi.saveArticleGroup({data:t}).then((function(t){0===t.error&&(e.$emit("success"),e.handleClose())}))},resetModel:function(){this.$refs.form.resetFields()}}};t.default=i},"51b7":function(e,t,a){"use strict";var i=a("30a1");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},5544:function(e,t,a){},5646:function(e,t,a){},"59d3":function(e,t,a){"use strict";a.r(t);var i=a("8164"),n=a("9324");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("88b2");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"4230bc10",null);t["default"]=r.exports},"5aff":function(e,t,a){"use strict";a.r(t);var i=a("51b7"),n=a("8235");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8810");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"0c1e729e",null);t["default"]=r.exports},"5c7e":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909"));a("a9e3"),a("d9e2"),a("e9c4"),a("d81d"),a("a15b"),a("a434"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var o=i(a("fa51")),s=i(a("96f9")),r=i(a("0d35")),l=i(a("8dbb")),c={props:{id:{type:String,default:""},value:{type:Object,default:function(){}},selectedMemberList:{type:Object,default:function(){}}},components:{LabelSelector:o.default,LevelSelector:s.default,CouponSelector:r.default,CouponsList:l.default},data:function(){var e=this,t=function(t,a,i){Number(e.model.creditMax)<Number(e.model.creditOnce)?i(new Error("最大值应大于每次获取值")):i()},a=function(t,a,i){Number(e.model.balanceMax)<Number(e.model.balanceOnce)?i(new Error("最大值应大于每次获取值")):i()};return{couponSelector:!1,model:{read_number_status:"1",read_number_init:"",read_number_step:"",thumps_up_status:"1",thumps_up_number_init:"",member_level_limit_type:"0",member_level_limit_ids:[],member_level_limit_list:[],commission_level_limit_type:"0",commission_level_limit_ids:[],reward_type:"0",reward_rule:{},creditOnce:"",creditMax:"",balanceOnce:"",balanceMax:"",status:"1",coupon:[],rule_coupon_ids:""},rule:{member_level_limit_ids:[{required:!0,message:"访问权限必选"}],commission_level_limit_ids:[{required:!0,message:"分销商等级必选"}],creditOnce:[{required:!0,message:"每次分享可得积分必填"}],creditMax:[{required:!0,message:"最多获得积分必填"},{validator:t}],balanceOnce:[{required:!0,message:"每次分享可得余额必填"}],balanceMax:[{required:!0,message:"最多获得余额必填"},{validator:a}],coupon:[{required:!0,validator:function(e,t,a){t.length?a():a(new Error("请选择优惠券"))}}]},memberSelector:{levelList:[],labelList:[]},agentGradeList:[]}},created:function(){this.getAgentGradeList()},watch:{value:{handler:function(e){this.model=e},immediate:!0,deep:!0},model:{handler:function(e){this.$emit("input",e)},deep:!0},selectedMemberList:{immediate:!0,deep:!0,handler:function(e){e.labelList&&(this.memberSelector=JSON.parse(JSON.stringify(e)))}}},methods:{showSelector:function(){this.couponSelector=!0},changeCouponList:function(e){this.model.coupon=(0,n.default)(e);var t=this.model.coupon.map((function(e){return e.id}));this.model.rule_coupon_ids=t.join(","),this.cancelSelector()},deleteCoupons:function(e){this.model.coupon.splice(e,1);var t=this.model.coupon.map((function(e){return e.id}));this.model.rule_coupon_ids=t.join(",")},cancelSelector:function(){this.couponSelector=!1},changeMemberType:function(){console.log(this.memberSelector,8787),new Set(["1","2"]).has(this.model.member_level_limit_type)&&("1"===this.model.member_level_limit_type?this.model.member_level_limit_list=(0,n.default)(this.memberSelector.levelList):this.model.member_level_limit_list=(0,n.default)(this.memberSelector.labelList),this.model.member_level_limit_ids=this.model.member_level_limit_list.map((function(e){return e.id})))},addMemberInfo:function(){var e=this;"1"===this.model.member_level_limit_type?(this.model.member_level_limit_list=(0,n.default)(this.memberSelector.levelList),this.$nextTick((function(){e.$refs["level_modal"].setValue()}))):"2"===this.model.member_level_limit_type&&(this.model.member_level_limit_list=(0,n.default)(this.memberSelector.labelList),this.$nextTick((function(){e.$refs["label_modal"].setValue()})))},changeMemberInfo:function(e){"1"===this.model.member_level_limit_type?(this.model.member_level_limit_list=(0,n.default)(e),this.memberSelector.levelList=(0,n.default)(e)):"2"===this.model.member_level_limit_type&&(this.model.member_level_limit_list=(0,n.default)(e),this.memberSelector.labelList=(0,n.default)(e)),this.model.member_level_limit_ids=this.model.member_level_limit_list.map((function(e){return e.id}))},deleteMemberInfo:function(e){var t=this,a="";"1"===this.model.member_level_limit_type?a="是否删除该会员等级":"2"===this.model.member_level_limit_type&&(a="是否删除该会员标签"),this.$Modal.confirm({title:"提示",content:a,onOk:function(){t.model.member_level_limit_list.splice(e,1),"1"===t.model.member_level_limit_type?t.memberSelector.levelList=(0,n.default)(t.model.member_level_limit_list):"2"===t.model.member_level_limit_type&&(t.memberSelector.labelList=(0,n.default)(t.model.member_level_limit_list)),t.model.member_level_limit_ids=t.model.member_level_limit_list.map((function(e){return e.id}))},onCancel:function(){}})},getAgentGradeList:function(){var e=this;this.$api.commissionApi.getAgentGradeAllList().then((function(t){0===t.error&&(e.agentGradeList=(0,n.default)(t.list))}))},validateForm:function(){var e=this;return new Promise((function(t){e.$refs.form.validate((function(e){console.log(121212),t(e)}))}))}}};t.default=c},"5f66":function(e,t,a){e.exports=a.p+"static/dist/shop/img/article_cover.png"},6055:function(e,t,a){"use strict";var i=a("d706");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"626b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAeCAYAAAAGos/EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA4SURBVHgB3YsxDgAQEMDKIEZ+4MdGMYkf2iUOOa/QsU2RRuBgmWQpJCMVUfOwLDqOyO1qPOPDawNr1jQJbIusxQAAAABJRU5ErkJggg=="},"65f6":function(e,t,a){},"660f":function(e,t,a){"use strict";a("1e0a")},"67a7":function(e,t,a){"use strict";var i=a("aef0");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},6820:function(e,t,a){"use strict";a.r(t);var i=a("a7d8"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6c33":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",[t("Form",{ref:"form",attrs:{model:e.model,"label-width":120,rules:e.rule},nativeOn:{submit:function(e){e.preventDefault()}}},[t("kdx-form-title",[e._v("基本信息")]),t("FormItem",{attrs:{label:"文章标题：",prop:"title"}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",autosize:{minRows:1},maxlength:"64","show-word-limit":"",placeholder:"请输入文章标题"},on:{"on-blur":e.checkTitle},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),t("FormItem",{attrs:{label:"文章封面：",prop:"cover"}},[t("kdx-image-video",{attrs:{type:"image",limit:3,multiple:!0,"current-list":e.model.cover,"is-drag":""},on:{"on-change":e.changeCover}}),t("kdx-hint-text",[e._v(" 用于展示文章列表和装修显示，图片建议尺寸800*600像素，最多可上传3张用于三图样式，其他样式默认使用第一张，同时大图样式将对图片做裁剪处理。 "),t("kdx-hint-tooltip",{attrs:{type:"image",image:a("5f66")}})],1)],1),t("FormItem",{attrs:{label:"文章简介：",prop:"digest"}},[t("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",autosize:{minRows:1},maxlength:"120","show-word-limit":"",placeholder:"请输入文章简介"},model:{value:e.model.digest,callback:function(t){e.$set(e.model,"digest",t)},expression:"model.digest"}}),t("kdx-hint-text",[e._v("用于展示文章列表的简介信息。")])],1),t("FormItem",{attrs:{label:"选择分组：",prop:"group_id"}},[t("Select",{staticClass:"width-340",attrs:{placeholder:"请选择分组"},model:{value:e.model.group_id,callback:function(t){e.$set(e.model,"group_id",t)},expression:"model.group_id"}},e._l(e.groupList,(function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1),t("Button",{staticClass:"add-group",attrs:{disabled:e.noManagePerm,type:"text"},on:{click:e.addGroup}},[e._v(" 新增分组 ")])],1),t("FormItem",{attrs:{label:"作者名称：",prop:"author"}},[t("Input",{staticClass:"width-340 limit-input",attrs:{type:"text",maxlength:"12","show-word-limit":"",placeholder:"请输入作者名称"},model:{value:e.model.author,callback:function(t){e.$set(e.model,"author",t)},expression:"model.author"}})],1),t("FormItem",{attrs:{label:"文章排序：",prop:"display_order"}},[t("Input",{staticClass:"width-160",attrs:{maxlength:"4",placeholder:"请输入文章排序"},model:{value:e.model.display_order,callback:function(t){e.$set(e.model,"display_order",e._n(t))},expression:"model.display_order"}}),t("kdx-hint-text",[e._v(" 最多4位数字, 数字越大, 排名越靠前,默认排序为创建时间 ")])],1)],1),t("add-group-modal",{ref:"groupModal",on:{success:e.getGroup}})],1)};t.render=i;var n=[];t.staticRenderFns=n},"6da0":function(e,t,a){"use strict";a.r(t);var i=a("2e1d"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6f8f":function(e,t,a){"use strict";var i=a("6c33");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},7112:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",[t("Form",{ref:"form",attrs:{model:e.model,"label-width":120,rules:e.rule},nativeOn:{submit:function(e){e.preventDefault()}}},[t("kdx-form-title",[e._v("规则设置")]),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"阅读数量：",prop:"read_number_status"}},[t("RadioGroup",{staticClass:"radio-box",model:{value:e.model.read_number_status,callback:function(t){e.$set(e.model,"read_number_status",t)},expression:"model.read_number_status"}},[t("Radio",{attrs:{label:"1"}},[e._v("展示")]),t("Radio",{attrs:{label:"0"}},[e._v("隐藏")])],1),1==e.model.read_number_status?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"初始阅读量：",prop:"read_number_init"}},[t("kdx-rr-input",{staticClass:"width-340",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:e.model.read_number_init,callback:function(t){e.$set(e.model,"read_number_init",e._n(t))},expression:"model.read_number_init"}})],1),t("FormItem",{attrs:{label:"阅读数量：",prop:"read_number_step"}},[t("kdx-rr-input",{staticClass:"width-340",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":1,"max-value":100},model:{value:e.model.read_number_step,callback:function(t){e.$set(e.model,"read_number_step",e._n(t))},expression:"model.read_number_step"}}),t("kdx-hint-text",[e._v("阅读者每阅读一次，记录的阅读次数，输入框输入最大值，根据设置的最大值随机新增")])],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"点赞数：",prop:"thumps_up_status"}},[t("RadioGroup",{staticClass:"radio-box",model:{value:e.model.thumps_up_status,callback:function(t){e.$set(e.model,"thumps_up_status",t)},expression:"model.thumps_up_status"}},[t("Radio",{attrs:{label:"1"}},[e._v("展示")]),t("Radio",{attrs:{label:"0"}},[e._v("隐藏")])],1),1==e.model.thumps_up_status?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"初始点赞量：",prop:"thumps_up_number_init"}},[t("kdx-rr-input",{staticClass:"width-340",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:e.model.thumps_up_number_init,callback:function(t){e.$set(e.model,"thumps_up_number_init",e._n(t))},expression:"model.thumps_up_number_init"}})],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"访问权限：",prop:"member_level_limit_type"}},[t("RadioGroup",{staticClass:"radio-box",on:{"on-change":e.changeMemberType},model:{value:e.model.member_level_limit_type,callback:function(t){e.$set(e.model,"member_level_limit_type",t)},expression:"model.member_level_limit_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("全部会员")]),t("Radio",{attrs:{label:"1"}},[e._v("指定会员等级")]),t("Radio",{attrs:{label:"2"}},[e._v("指定会员标签组")])],1),t("kdx-hint-text",[e._v("只有添加后的会员等级/会员标签组内的会员才可浏览该文章")]),"0"!==e.model.member_level_limit_type?t("div",{staticClass:"next-box"},[t("FormItem",{staticClass:"error-tip-nopadding",attrs:{prop:"member_level_limit_ids"}},[t("Button",{staticClass:"ivu-normal brand",on:{click:e.addMemberInfo}},[e._v("+添加")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.model.member_level_limit_list.length,expression:"model.member_level_limit_list.length"}],staticClass:"label-list"},e._l(e.model.member_level_limit_list,(function(a,i){return t("kdx-tag-label",{key:i,staticStyle:{margin:"0 10px 10px 0"},attrs:{type:a.level_name?"info":"warning",border:"",closable:!0},on:{"on-close":function(t){return e.deleteMemberInfo(i)}}},[e._v(" "+e._s(a.level_name||a.group_name)+" ")])})),1)],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"分销商等级：",prop:"commission_level_limit_type"}},[t("RadioGroup",{staticClass:"radio-box",model:{value:e.model.commission_level_limit_type,callback:function(t){e.$set(e.model,"commission_level_limit_type",t)},expression:"model.commission_level_limit_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("全部分销商")]),t("Radio",{attrs:{label:"1"}},[e._v("指定分销商身份")])],1),1==e.model.commission_level_limit_type?t("div",{staticClass:"nest-box"},[t("FormItem",{attrs:{label:"分销商等级：",prop:"commission_level_limit_ids"}},[t("CheckboxGroup",{model:{value:e.model.commission_level_limit_ids,callback:function(t){e.$set(e.model,"commission_level_limit_ids",t)},expression:"model.commission_level_limit_ids"}},e._l(e.agentGradeList,(function(a){return t("Checkbox",{key:a.id,attrs:{label:a.id}},[e._v(e._s(a.name))])})),1)],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"奖励设置：",prop:"reward_type"}},[t("RadioGroup",{staticClass:"radio-box",model:{value:e.model.reward_type,callback:function(t){e.$set(e.model,"reward_type",t)},expression:"model.reward_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("无奖励")]),t("Radio",{attrs:{label:"1"}},[e._v("积分")]),t("Radio",{attrs:{label:"2"}},[e._v("余额")]),t("Radio",{attrs:{label:"3"}},[e._v("优惠券")])],1),1==e.model.reward_type?t("div",{staticClass:"nest-box nest-box-reward"},[t("FormItem",{key:"creditOnce",attrs:{label:"用户每次分享文章可得：","label-width":180,prop:"creditOnce"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:e.model.creditOnce,callback:function(t){e.$set(e.model,"creditOnce",t)},expression:"model.creditOnce"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("积分")])]),t("kdx-hint-text",[e._v("分享出去的文章，需用户进行阅读相应时间后才进行发放")])],1),t("FormItem",{key:"creditMax",attrs:{label:"限制每人最多支持获得：","label-width":180,prop:"creditMax"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:e.model.creditMax,callback:function(t){e.$set(e.model,"creditMax",t)},expression:"model.creditMax"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("积分")])]),t("kdx-hint-text",[e._v("设置限制发放最大值后，用户再进行转发操作后不再进行奖励的发放")])],1)],1):e._e(),2==e.model.reward_type?t("div",{staticClass:"nest-box nest-box-reward"},[t("FormItem",{key:"balanceOnce",attrs:{label:"用户每次分享文章可得：","label-width":180,prop:"balanceOnce"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},model:{value:e.model.balanceOnce,callback:function(t){e.$set(e.model,"balanceOnce",t)},expression:"model.balanceOnce"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("余额")])]),t("kdx-hint-text",[e._v("分享出去的文章，需用户进行阅读相应时间后才进行发放")])],1),t("FormItem",{key:"balanceMax",attrs:{label:"限制每人最多支持获得：","label-width":180,prop:"balanceMax"}},[t("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":0,"max-value":9999999.99},model:{value:e.model.balanceMax,callback:function(t){e.$set(e.model,"balanceMax",t)},expression:"model.balanceMax"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("余额")])]),t("kdx-hint-text",[e._v("设置限制发放最大值后，用户再进行转发操作后不再进行奖励的发放")])],1)],1):e._e(),3==e.model.reward_type?t("div",{staticClass:"nest-box nest-box-coupon"},[t("FormItem",{attrs:{label:"优惠券选择",prop:"coupon"}},[t("Button",{staticClass:"default-primary",on:{click:e.showSelector}},[e._v(" "+e._s(20===e.model.coupon.length?"重新选择优惠券":"+添加优惠券(".concat(e.model.coupon.length,"/20)"))+" ")]),e.model.coupon.length>0?t("div",{staticClass:"form-item-bg-box"},[t("div",{staticClass:"coupons-list"},[t("coupons-list",{attrs:{list:e.model.coupon,showStock:!0},on:{"on-delete":e.deleteCoupons}})],1)]):e._e()],1)],1):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"文章发布状态：",prop:"status"}},[t("RadioGroup",{staticClass:"radio-box",model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:"1"}},[e._v("显示")]),t("Radio",{attrs:{label:"0"}},[e._v("隐藏")])],1)],1)],1),t("level-selector",{ref:"level_modal",attrs:{"current-list":e.model.member_level_limit_list},on:{"on-change":e.changeMemberInfo}}),t("label-selector",{ref:"label_modal",attrs:{"current-list":e.model.member_level_limit_list},on:{"on-change":e.changeMemberInfo}}),t("coupon-selector",{attrs:{multiple:!0,limit:20,pick_way:"4",currentList:e.model.coupon},on:{"on-change":e.changeCouponList,"on-cancel":e.cancelSelector},model:{value:e.couponSelector,callback:function(t){e.couponSelector=t},expression:"couponSelector"}})],1)};t.render=i;var n=[];t.staticRenderFns=n},7422:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var i=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{value:e.value,title:"优惠券选择器",width:"1000","ok-text":"保存"},on:{"on-ok":e.handleSave,"on-cancel":e.handleCancel}},[t("div",{staticClass:"selector-link-discount-coupon"},[t("div",{ref:"scrollBox",staticClass:"coupon-content"},[t("div",{staticClass:"search"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.getCouponList,"on-enter":e.getCouponList},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}}),t("span",{staticClass:"label"},[e._v("优惠券类型：")]),t("Select",{staticClass:"width-160",on:{"on-change":e.handleSearch},model:{value:e.search.coupon_sale_type,callback:function(t){e.$set(e.search,"coupon_sale_type",t)},expression:"search.coupon_sale_type"}},[t("Option",{attrs:{value:"all"}},[e._v("全部")]),t("Option",{attrs:{value:"1"}},[e._v("满减券")]),t("Option",{attrs:{value:"2"}},[e._v("折扣券")])],1)],1),t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total>10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=i;var n=[];t.staticRenderFns=n},"7dad":function(e,t,a){"use strict";a("5646")},8066:function(e,t,a){"use strict";a("87ff")},8129:function(e,t,a){"use strict";var i=a("9406");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},8164:function(e,t,a){"use strict";var i=a("7112");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"81b0":function(e,t){e.exports="data:image/png;base64,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+/bw8NCenp7ay8tLA/q4uLhoy+Wy3d7etru7uwbfE2S+eXx8bH/88Ud7fn5uwHFdXl62X375pd3c3DQolqxZ+/r1a/vvlzMxhhOpsfb777+vxx4UQWa9PP3ly5cGnF6NvVqdAkGm/fnnnw04n9oqquc3mDdBnrl6gMsyNZxXjcEai8ybIM/cX3/91YDzq60j5k2QZ65ebQLOb7VaNeZNkGfOe8aQwR4ygjxzdVABAOfnbjxzdTgBcH51ghfzJsgzd3193YDzMxYR5Jn7+eefG3B+P/30U2PeBHnmFouFKMOZ1Ri0fYQg0z59+mS5DM6kflyixiAIMmu//fabJTM4sRpzv/76a4PisT6+GX4Krg67d0gBHM/V1ZWVKf7F7yHzpjqkoKLsnGvop0Jce8X17Ab8kxkyb6obhm/vAKdjDxkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAggyAAQQZAAIIMgAEECQASCAIANAAEEGgACCDAABBBkAAvwHtu3YbhDqTfEAAAAASUVORK5CYII="},8235:function(e,t,a){"use strict";a.r(t);var i=a("50b2"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},8541:function(e,t,a){"use strict";a("65f6")},"87ff":function(e,t,a){},8810:function(e,t,a){"use strict";a("b736")},"88b2":function(e,t,a){"use strict";a("cc76")},"88b7":function(e,t,a){"use strict";a("5544")},"8b5d":function(e,t,a){},"8dbb":function(e,t,a){"use strict";a.r(t);var i=a("b65d"),n=a("2efa");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("e9df");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"4ec57fdc",null);t["default"]=r.exports},9324:function(e,t,a){"use strict";a.r(t);var i=a("5c7e"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},9406:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",[t("Form",{ref:"form",attrs:{model:e.model,"label-width":120,rules:e.rule},nativeOn:{submit:function(e){e.preventDefault()}}},[t("kdx-form-title",[e._v("文章编辑")]),t("FormItem",{attrs:{label:"文章头图：",prop:"top_thumb_type"}},[t("RadioGroup",{model:{value:e.model.top_thumb_type,callback:function(t){e.$set(e.model,"top_thumb_type",t)},expression:"model.top_thumb_type"}},[t("Radio",{attrs:{label:"0"}},[e._v("单图")]),t("Radio",{attrs:{label:"1"}},[e._v("轮播")])],1),t("div",{staticClass:"nest-box nest-box-form"},[0==e.model.top_thumb_type?t("FormItem",{key:"top_thumb",attrs:{prop:"top_thumb"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.top_thumb},on:{"on-change":e.changeThumb}}),t("kdx-hint-text",[e._v("用于文章详情页顶部展示的图片，如不添加则不展示")])],1):e._e(),1==e.model.top_thumb_type?t("FormItem",{key:"top_thumb_all",attrs:{prop:"top_thumb_all"}},[t("kdx-image-video",{attrs:{type:"image",limit:5,multiple:!0,"current-list":e.model.top_thumb_all,"is-drag":""},on:{"on-change":e.changeThumbAll}}),t("kdx-hint-text",[e._v("轮播图可以拖拽图片调整顺序，最多上传5张")])],1):e._e()],1)],1),t("FormItem",{attrs:{label:"文章详情：",prop:"content_origin"}},[t("div",{staticClass:"editor"},[t("editor",{ref:"editor",attrs:{showVideoPoster:!0,plugins:e.plugins,height:482},on:{change:e.handleChange},model:{value:e.model.content_origin,callback:function(t){e.$set(e.model,"content_origin",t)},expression:"model.content_origin"}}),t("div",{staticClass:"btn-group"},[t("Button",{staticClass:"goods-btn default-primary",on:{click:e.chooseGoods}},[e._v("插入商品")]),t("Button",{staticClass:"default-primary",on:{click:e.chooseCoupon}},[e._v("插入优惠券")])],1)],1)])],1),t("goods-selector",{attrs:{multiple:!0,limit:5,"current-list":e.goodsSelector.data,show_activity:1},on:{"on-change":e.changeGoodList,"on-cancel":e.goodsClose},model:{value:e.goodsSelector.value,callback:function(t){e.$set(e.goodsSelector,"value",t)},expression:"goodsSelector.value"}}),t("coupon-selector",{attrs:{multiple:!0,currentList:e.couponSelector.data},on:{"on-change":e.changeCouponList,"on-cancel":e.couponClose},model:{value:e.couponSelector.value,callback:function(t){e.$set(e.couponSelector,"value",t)},expression:"couponSelector.value"}})],1)};t.render=a;var i=[];t.staticRenderFns=i},"96f9":function(e,t,a){"use strict";a.r(t);var i=a("dc7f"),n=a("c7e1");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("88b7");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"97b26ca2",null);t["default"]=r.exports},"981c":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("d3b7"),a("159b"),a("14d9"),a("a434");var n=i(a("b85c")),o=i(a("2909")),s=(a("8194"),{name:"labelSelector",props:{currentList:{type:Array,default:function(){return[]}}},data:function(){return{value:!1,selectRows:[],list:[],loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.selectRows=(0,o.default)(this.currentList),this.getLabelData())},handleCancel:function(){this.setValue()},handleOk:function(){this.$emit("on-change",JSON.parse(JSON.stringify(this.selectRows))),this.setValue()},initDefaultChecked:function(){var e=this;this.selectRows.length>0&&this.list.forEach((function(t,a){var i,o=(0,n.default)(e.selectRows);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.id===s.id){e.$set(e.list[a],"checked",!0);break}}}catch(r){o.e(r)}finally{o.f()}}))},setLabelChecked:function(e,t){var a=this;if(this.$set(this.list[e],"checked",t),t)this.selectRows.push(this.list[e]);else{var i=-1;this.selectRows.forEach((function(t,n){t.id===a.list[e].id&&(i=n)})),this.selectRows.splice(i,1)}},getLabelData:function(){var e=this;this.loading=!0,this.$api.memberApi.getGroupList({is_all:1}).then((function(t){e.loading=!1,0===t.error&&(e.list=t.list||[],e.initDefaultChecked())}))}}});t.default=s},"9bc4":function(e,t,a){var i=a("dbce").default,n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.APP_ISW7=void 0,t.addQueryParams=C,t.alterVideo=void 0,t.arrGroup=_,t.colorRgb=z,t.delmedia=t.deepMerge=t.deepCopy=t.deepCompare=t.dealClassifyList=t.countDown=void 0,t.esToFixed2=J,t.getImgSize=t.frommedia=t.formatNumberData=t.formatDate=void 0,t.getPreviewUrl=k,t.getQueryParams=w,t.getUrl=$,t.getWechatImg=void 0,t.hasOpenCommissionIntegral=q,t.hash2Query=y,t.isAlonePlat=void 0,t.limit=U,t.media=I,t.openNewWindowPage=t.newUrl=t.mediaShop=void 0,t.replaceImage=E,t.richMediaVideo=t.richMedia=void 0,t.samePath=x,t.setThemeColor=B,t.showCommissionIntegral=W,t.staticImg=S,t.toMobileRichText=V,t.toPCRichText=X,t.tomedia=Q;var o=n(a("53ca"));a("d3b7"),a("159b"),a("b0c0"),a("14d9"),a("fb6a"),a("ac1f"),a("5319"),a("00b4"),a("4de4"),a("841c"),a("b64b"),a("99af"),a("b680"),a("a15b"),a("a434"),a("3ca3"),a("ddb0"),a("4d63"),a("c607"),a("2c3e"),a("25f0");var s=n(a("a18c")),r=i(a("3fdc")),l=n(a("4360")),c=a("e585"),d=n(a("4328")),u=i(a("164a")),m=a("d8cc").config,f=u.isAlonePlat;t.isAlonePlat=f;var p=r.deepCopy;t.deepCopy=p;var h=r.deepCompare;t.deepCompare=h;var v=r.deepMerge;t.deepMerge=v;var g=function e(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.forEach((function(t){var i;t.title=t.name,t.value=t.id,t.expand=a,(null===(i=t.children)||void 0===i?void 0:i.length)>0&&e(t.children)})),t};t.dealClassifyList=g;var A={SIGN_REGEXP:/([yMdhsm])(\1*)/g,DEFAULT_PATTERN:"yyyy-MM-dd"};function _(e,t){var a=0,i=[];while(a<e.length)i.push(e.slice(a,a+=t));return i}A.padding=function(e,t){for(var a=t-(e+"").length,i=0;i<a;i++)e="0"+e;return e};var b=function(e,t){return e?"object"!=(0,o.default)(e)?e:(t=t||A.DEFAULT_PATTERN,t.replace(A.SIGN_REGEXP,(function(t){switch(t.charAt(0)){case"y":return A.padding(e.getFullYear(),t.length);case"M":return A.padding(e.getMonth()+1,t.length);case"d":return A.padding(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return A.padding(e.getHours(),t.length);case"m":return A.padding(e.getMinutes(),t.length);case"s":return A.padding(e.getSeconds(),t.length)}}))):""};function y(e){e=e.replace("#/#/","#/");var t=e.split("#");return 1==t.length?e:t[0].indexOf("?")>0?e.replace("#","&_route="):e.replace("#","?_route=")}function x(e,t){if(!/[:(]/.test(e+t))return e===t;if(/[:(]/.test(t)){var a=e;e=t,t=a}e=e.split("/"),t=t.split("/");var i="",n="",o=!1;if(e.length==t.length){for(var s=0;s<e.length;s++)if(i=e[s],n=t[s],i!=n){if(!/^:/.test(i)){if(i.indexOf("(")>-1){var r=i.split("(")[0];if(o=0==n.indexOf(r),o)continue;return!1}return!1}o=!0}else o=!0;return o}return!1}function w(e){if(/^http(?:s)?/.test(e)){var t=e.split("#").filter(Boolean),a=/^http(?:s)?:\/\/(?:.*?)\//.exec(e)||"";a&&(a=a[0].replace(/\/$/,""));var i={hash:t[1]?"#"+t[1]:"",path:t[0],href:e,host:a,pathname:t[0].split("?")[0].replace(a,""),query:{},hashQuery:{},search:t[0].split("?")[1]||""},n={};if(i.search&&(i.search.split("&").filter(Boolean).forEach((function(e){var t=e.split("=");n[t[0]]=t[1]||""})),i.query=n),t.length>1){var o={};i.hash.indexOf("?")>-1&&i.hash.split("?")[1].split("&").forEach((function(e){var t=e.split("=");o[t[0]]=t[1]||""})),i.hashQuery=o}return i}return null}function C(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e){var i=w(e);if(!i)return"";var n="";for(var o in t)n+=o+"="+t[o]+"&";n=n.replace(/&$/,"");var s="";if(0===a){var r="";Object.assign(i.query,t),Object.keys(i.query).forEach((function(e){r=r?"".concat(r,"&").concat(e,"=").concat(i.query[e]):"".concat(e,"=").concat(i.query[e])}));var l=i.path;s=l.indexOf("?")>-1?i.host+i.pathname+"?&"+r+i.hash:l+"?"+n+i.hash}else s=i.hash.indexOf("?")>-1?i.href+"&"+n:i.href+"?"+n;return s.replace(/[?&]$/,"")}return""}function k(e,t,a){return a=a||l.default.state.setting.wap_url,"goods"===e?a="".concat(a,"/pagesGoods/detail/index?goods_id=").concat(t):"couponLink"===e?a="".concat(a,"/pagesMember/coupon/detail/index?id=").concat(t):"page-detail"===e?a="".concat(a,"/pagesGoods/detail/index?goods_id=").concat(t):"page-vip"===e?a="".concat(a,"/pagesMember/index/index"):"page-commission"===e?a="".concat(a,"/pagesCommission/index/index"):"page-custom"===e?a="".concat(a,"/pagesCustom/index/index?pageId=").concat(t):"giftCard"===e?a="".concat(a,"/pagesGiftCard/convert/detail?").concat(t):"creditShop"===e?a="".concat(a,"/pagesCreditShop/detail?id=").concat(t):"distributor"===e?a="".concat(a,"?inviter_id=").concat(t):"quickBuy"===e&&(a="".concat(a,"/pagesQuickBuy/index?id=").concat(t)),y(a)}function I(e,t){return e?"object"===(0,o.default)(e)&&e?-1!==(null===e||void 0===e?void 0:e.path.indexOf("http://"))||-1!==(null===e||void 0===e?void 0:e.path.indexOf("https://"))?e.path:t&&"video"!==t||!l.default.state.config.shop_attachment_url?window.config.attachment_url+e.path:"video"===t?l.default.state.config.shop_attachment_url+e.path:l.default.state.config.shop_attachment_url+e.path+Y():0===e.indexOf("data:image")?e:Q(e,t):""}function Q(e,t){return-1!==e.indexOf("//")?e:"/"===e.substr(0,1)?0==e.indexOf("/static/dist/shop/renren_wap/")?e:window.config.public_url+e.slice(1):t&&"video"!==t||!l.default.state.config.shop_attachment_url?window.config.attachment_url+e:"video"===t?l.default.state.config.shop_attachment_url+e:l.default.state.config.shop_attachment_url+e+Y()}function B(e){if("20"==e)for(var t in window.cssThemeVar={"--brand-color":"#5D60F6","--c9e9ff":"#F0F3FF","--tab-hover":"#8a90ff"},window.cssThemeVar)document.documentElement.style.setProperty(t,window.cssThemeVar[t]);else for(var a in window.cssThemeVar={"--brand-color":"#2d8cf0","--c9e9ff":"#c9e9ff"},window.cssThemeVar)document.documentElement.style.setProperty(a,window.cssThemeVar[a])}function S(e){return 0==e.indexOf("/")||e.indexOf("http://")>-1||e.indexOf("https://")>-1?e:window.config.wap_dist_url+e}function E(e,t){var i="";switch(t){case"avatar":i=a("28b2");break;case"template":i=a("3130");break;case"page":i=a("144c");break;case"video":i=a("b74f");break;case"video-cover":i=a("d5ea");break;case"ad":i=a("3130");break;case"merchant-logo":i=a("1dd1");break;case"chain":i=a("81b0");break;default:i=a("7b86");break}e.target.src=i}t.formatDate=b;var O=function(e,t){console.log("url",e,t);var a=s.default.router.resolve({path:e,query:t});window.open(a.href,"_blank")};t.openNewWindowPage=O;var M=function(e){return e?parseFloat(e)>=1e6?"".concat((parseFloat(e)/1e4).toFixed(2),"万"):e:"0"};t.formatNumberData=M;var R=function(e){return-1!==e.indexOf("<img")?e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return e.replace(t,F(t))})):e};t.delmedia=R;var F=function(e){if(-1!==e.indexOf("http://")||-1!==e.indexOf("https://")){if(l.default.state.config.shop_attachment_url){e=e.replace(l.default.state.config.shop_attachment_url,"");var t=l.default.state.config.shopStorage.image_compression_rule;return t&&e.indexOf(t)>-1&&(e=e.replace("?".concat(t),"")),e}return e.replace(window.config.attachment_url,"")}return e};t.frommedia=F;var D=function(e){return-1!==e.indexOf("<video")?e.replace(/<video [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return e.replace(t,P(e,t))})):e};t.alterVideo=D;var P=function(e,t){var a=t;return e.replace(/<video [^>]*data-url=['"]([^'"]+)[^>]*>/gi,(function(e,t){t&&(a=t)})),l.default.state.config.shop_attachment_url&&a.indexOf(l.default.state.config.shop_attachment_url)>-1?a=a.replace(l.default.state.config.shop_attachment_url,""):-1!==a.indexOf(window.config.attachment_url)&&(a=a.replace(window.config.attachment_url,"")),a};t.newUrl=P;var G=function(e){return-1!==e.indexOf("<img")?e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return e.replace(t,I(t))})):e};t.richMedia=G;var L=function(e){return-1!==e.indexOf("<video")?e.replace(/<video [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return e.replace(t,I(t,"video"))})):e};t.richMediaVideo=L;var N=function(e){return new Promise((function(t){var a=new Image;a.src=e,a.onload=function(){t(a)}}))};t.getImgSize=N;var j=function(e){if(e){if(e.indexOf("http")>-1){var t=window.config.base_url+"/utility/attachment/index/get-wechat-image"+"?".concat(d.default.stringify((0,c.getUserInfo)()),"&url=")+e;return console.log("img-url",t),t}return I(e)}return""};function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e=e.toLowerCase();var a=/^#([0-9|a-f]{3}|[0-9|a-f]{6})$/;if(e&&a.test(e)){4==e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);for(var i=[],n=1;n<7;n+=2)i.push(parseInt("0x"+e.slice(n,n+2)));return i.push(t),"rgba("+i.join(",")+")"}return e}t.getWechatImg=j;var T=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=parseInt(Date.now()/1e3),n=0;if(e&&(n=e>i?e-i:0,n=parseInt(n)),t&&(n=parseInt(t)),0==n)return!1;var o,s=Math.floor(n/86400),r=Math.floor((n-24*s*60*60)/3600),l=Math.floor((n-24*s*60*60-3600*r)/60),c=Math.floor(n-24*s*60*60-3600*r-60*l);return a?o=[s,r<10?"0"+r:r,l<10?"0"+l:l,c<10?"0"+c:c]:(r=24*s+r,o=[r<10?"0"+r:r,l<10?"0"+l:l,c<10?"0"+c:c]),o};function U(e,t,a){var i=[],n=[],o=0,s=function s(){if(o===t.length)return Promise.resolve();var r=Promise.resolve().then((function(){return a(t[o++])}));i.push(r);var l=r.then((function(){return n.splice(n.indexOf(l),1)}));n.push(l);var c=n.length>=e?Promise.race(n):Promise.resolve();return c.then(s)};return s().then((function(){return Promise.all(i)}))}function V(e){var t=new RegExp("(?<=<[a-z]+? [^>]*?style=['\"])([^'\"]+?)['\"][^>]*?>","g"),a=/(\d+)(px)/g,i="",n=e.replace(t,(function(e,t){return i=t.replace(a,(function(e){return parseInt(e)/2+"px"})),e.replace(t,i)}));return n}function X(e){var t=new RegExp("(?<=<[a-z]+? [^>]*?style=['\"])([^'\"]+?)['\"][^>]*?>","g"),a=/(\d+)(rpx)/g,i="",n=e.replace(t,(function(e,t){return i=t.replace(a,(function(e){return 2*parseInt(e)+"px"})),e.replace(t,i)}));return n}function Y(){var e,t,a="";null!==(e=l.default.state.config.shopStorage)&&void 0!==e&&e.image_compression_rule&&(a="?".concat(null===(t=l.default.state.config.shopStorage)||void 0===t?void 0:t.image_compression_rule));return a}function $(e,t){var a=e,i=(null===m||void 0===m?void 0:m.base_url)||"";if(f()&&e.indexOf("account/")>-1&&(i=m.public_url),t&&"object"===(0,o.default)(t)){var n="";for(var s in t)n+=s+"="+t[s]+"&";a+=(-1===(i+a).indexOf("?")?"?":"&")+n}return/.+\?$/.test(a)&&(a=a.slice(0,-1)),(i||"")+a}t.countDown=T;var Z=function(e){var t,a,i,n,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"path",r=e.storage||{},l="";20===(null===r||void 0===r?void 0:r.storage_model)&&("local"!==(null===r||void 0===r?void 0:r.type)&&1===+(null===r||void 0===r||null===(t=r[r.type])||void 0===t?void 0:t.image_compression)&&null!==r&&void 0!==r&&null!==(a=r[r.type])&&void 0!==a&&null!==(i=a.image_compression_rule)&&void 0!==i&&i.rule&&(l="?".concat(null===r||void 0===r||null===(n=r[r.type])||void 0===n||null===(o=n.image_compression_rule)||void 0===o?void 0:o.rule)));return e.shop_attachment_url+e[s]+l};function J(e){if(isNaN(e))return"";var t=e.toString();if(-1!=t.indexOf(".")){var a=t.slice(0,t.indexOf(".")),i=t.slice(t.indexOf(".")+1);return 1==i.length?a+"."+i+"0":2==i.length?a+"."+i:i>2?(i=i.slice(0,2),a+"."+i):a+".00"}return e+".00"}function W(){var e,t;return 0==(null===(e=l.default.state.config)||void 0===e?void 0:e.shop_type)&&1==(null===(t=l.default.state.config)||void 0===t?void 0:t.commissionIntegral)}function q(){var e,t;return 0==(null===(e=l.default.state.config)||void 0===e?void 0:e.shop_type)&&1==(null===(t=l.default.state.config)||void 0===t?void 0:t.hasOpenCommissionIntegral)}t.mediaShop=Z;var H=!1;t.APP_ISW7=H},a7d8:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909")),o=i(a("5530")),s=i(a("b85c"));a("a9e3"),a("14d9"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("841c");var r={name:"CouponSelector",props:{value:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},current:{type:[String,Object]},currentList:{type:Array},limit:{type:Number},pick_way:{type:[String,Number],default:""},params:{type:Object,default:function(){}}},data:function(){var e=this;this.$createElement;return{search:{keyword:"",coupon_sale_type:""},columns:[{title:"类型",key:"coupon_sale_type",width:80,render:function(e,t){return"2"===t.row.coupon_sale_type?e("div",{class:"coupons-type coupons-type-blue"},[e("span",["折"]),e("img",{class:"coupons-img",attrs:{src:a("e7cd")}})]):e("div",{class:"coupons-type coupons-type-yellow"},[e("span",["减"]),e("img",{class:"coupons-img",attrs:{src:a("626b")}})])}},{title:"名称",key:"coupon_name"},{title:"优惠内容",key:"content"},{title:"剩余数量",key:"surplus",render:function(e,t){return"0"==t.row.stock_type?e("div",["不限制"]):e("div",[t.row[t.column.key]])}},{title:"创建时间",key:"created_at",render:function(e,t){return e("div",{style:"word-break: normal"},[t.row[t.column.key]])}},{title:" ",key:"action",width:100,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",attrs:{disabled:1===a.row.is_select},style:{display:a.row.checked?"none":"block"},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:10,pageNumber:1},loading:!1,selectRows:[],selectRow:{}}},methods:{handleSearch:function(){this.resetPage(),this.getCouponList()},handlePageChange:function(e){this.page=e,this.getCouponList();try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;if(this.multiple){if(this.limit&&this.selectRows.length===this.limit&&t)return void this.$Message.error("已超出最大可选数量");this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))}else t?(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",!0),this.selectRow=this.data[e]):(this.$set(this.data[e],"checked",!1),this.selectRow={})},defaultChecked:function(){var e=this;this.multiple?this.data.forEach((function(t,a){var i,n=(0,s.default)(e.selectRows);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(r){n.e(r)}finally{n.f()}})):this.data.forEach((function(t,a){e.selectRow&&t.id===e.selectRow.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)}))},getCouponList:function(){var e=this;this.loading=!0;var t=Object.assign({},this.search,{pick_way:this.pick_way});t.coupon_sale_type="all"===t.coupon_sale_type?"":t.coupon_sale_type;var a=Object.assign((0,o.default)({pagesize:this.page.pageSize,page:this.page.pageNumber},this.params),t);this.$api.marketApi.getCouponAllList(a).then((function(t){e.loading=!1,0===t.error&&(e.data=t.list,e.total=t.total,e.defaultChecked())}))},handleSave:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.handleCancel()},handleCancel:function(){this.$emit("on-cancel")},resetSearch:function(){this.search={keyword:"",coupon_sale_type:"all"}}},watch:{value:{handler:function(e){e&&(this.multiple?this.selectRows=(0,n.default)(this.currentList)||[]:this.selectRow=this.current||{},this.resetSearch(),this.resetPage(),this.getCouponList())},immediate:!0}},mounted:function(){this.resetSearch()}};t.default=r},aef0:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"会员标签组",loading:e.loading,"class-name":"shop-label-modal"},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"shop-label"},[t("div",{staticClass:"custom"},[e.list.length>0?t("div",{staticClass:"recommend"},[t("div",{staticClass:"label-content"},e._l(e.list,(function(a,i){return t("div",{key:i,staticClass:"shop-label-item",class:{checked:a.checked},on:{click:function(t){return e.setLabelChecked(i,!a.checked)}}},[t("span",[e._v(" "+e._s(a.group_name))]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-chenggong-shixin-y"}})],1)})),0)]):t("div",{staticStyle:{"text-align":"center"}},[e._v(" 暂无数据 ")])])])])};t.render=a;var i=[];t.staticRenderFns=i},af6d:function(e,t,a){"use strict";a.r(t);var i=a("16f6"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},b16c:function(e,t,a){},b65d:function(e,t,a){"use strict";var i=a("4a81");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},b736:function(e,t,a){},bb14:function(e,t,a){"use strict";var i=a("7422");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},bb26:function(e,t,a){"use strict";a("dea6")},bcc5:function(e,t,a){"use strict";a("b16c")},c029:function(e,t,a){"use strict";a.r(t);var i=a("d83d"),n=a("23c9");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8541"),a("2e20");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"e84bd4fe",null);t["default"]=r.exports},c2e7:function(e,t,a){"use strict";a.r(t);var i=a("6f8f"),n=a("46ab");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("bcc5");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"a96048a4",null);t["default"]=r.exports},c323:function(e,t,a){"use strict";a.r(t);var i=a("8129"),n=a("af6d");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("4593");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"32667214",null);t["default"]=r.exports},c7e1:function(e,t,a){"use strict";a.r(t);var i=a("39a0"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},cbe4:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"left"},[t("div",{staticClass:"preview-title"},[e._v("文章预览")]),t("div",{staticClass:"preview-box"},[e._m(0),0==e.model.top_thumb_type&&e.model.top_thumb?t("div",[t("img",{staticClass:"top-thumb",attrs:{src:e.$utils.media(e.model.top_thumb),alt:""}})]):e._e(),1==e.model.top_thumb_type&&e.model.top_thumb_all.length?t("div",{staticClass:"swiper-wrap"},[t("MySwiper",{ref:"swiper",attrs:{list:e.getImgs,imgStyle:e.imgStyle,setting:e.setting}})],1):e._e(),t("div",{staticClass:"preview-content"},[t("div",{staticClass:"article-title"},[t("span",{staticClass:"topping"},[e._v("置顶")]),e._v(" "+e._s(e.model.title||"此处是文章标题")+" ")]),t("div",{staticClass:"article-info"},[t("span",{staticClass:"author"},[e._v(e._s(e.model.author))])]),t("div",{staticClass:"article-content",domProps:{innerHTML:e._s(e.model.content_origin)}}),t("div",{staticClass:"article-bottom"},[t("span",{staticClass:"date"},[e._v(e._s(e.model.date||"2020-07-12 12:00:00"))]),1==e.model.read_number_status?t("div",{staticClass:"article-read"},[e._v("阅读数：9999+")]):e._e()])]),t("div",{staticClass:"btn-bottom"},[t("div",{staticClass:"layer-group"},[0!=e.customer?t("div",{staticClass:"btn"},[t("i",{staticClass:"icon iconfont-m- icon-m-zujian-kefu"})]):e._e(),e.model.goods_ids.length?t("div",{staticClass:"btn btn-b"},[t("span",{staticClass:"badge"},[e._v(e._s(e.model.goods_ids.length))]),t("i",{staticClass:"icon iconfont-m- icon-m-gouwudai"})]):e._e(),1==e.model.enclosure_status&&e.model.enclosure_name?t("div",{staticClass:"btn"},[t("i",{staticClass:"icon iconfont-m- icon-m-xiazai"})]):e._e()]),t("div",{staticClass:"navbar"},[t("div",{staticClass:"line"}),t("div",{staticClass:"navbar-btn"},[t("div",{staticClass:"navbar-l no-submit"},[e._m(1),1==e.model.thumps_up_status?t("span",{staticClass:"navbar-item"},[t("i",{staticClass:"icon iconfont-m- icon-m-dianzan1"}),e._v(" 9999+ ")]):e._e(),e._m(2)])])])])])])};t.render=i;var n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"preview-top"},[t("div",[e._v("文章详情")]),t("img",{attrs:{src:a("4e1c"),alt:""}})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"navbar-item"},[t("i",{staticClass:"icon iconfont-m- icon-m-shoucang"}),e._v(" 9999+ ")])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"navbar-item"},[t("i",{staticClass:"icon iconfont-m- icon-m-fenxiang"}),e._v(" 9999+ ")])}];t.staticRenderFns=n},cc76:function(e,t,a){},d706:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"swiper"},[t("Carousel",{key:e.key,attrs:{autoplay:e.setting.autoplay,"autoplay-speed":e.setting.autoplaySpeed,dots:"none",loop:e.setting.loop},on:{"on-change":e.change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.list,(function(a,i){return t("CarouselItem",{key:i},[e._t("default",(function(){return[t("img",{staticClass:"swiper-img",style:e.imgStyle,attrs:{mode:e.imgMode,src:a,alt:""},on:{click:function(t){return e.click(i)}}})]}),{data:a,item:a})],2)})),1)],1)};t.render=a;var i=[];t.staticRenderFns=i},d83d:function(e,t,a){"use strict";var i=a("cbe4");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},dc7f:function(e,t,a){"use strict";var i=a("de43");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},ddcc:function(e,t,a){"use strict";a.r(t);var i=a("01c2"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},de43:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"会员等级标签",loading:e.loading,"class-name":"shop-label-modal"},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"shop-label"},[t("div",{staticClass:"custom"},[e.list.length>0?t("div",{staticClass:"recommend"},[t("div",{staticClass:"label-content"},e._l(e.list,(function(a,i){return t("div",{key:i,staticClass:"shop-label-item",class:{checked:a.checked},on:{click:function(t){return e.setLabelChecked(i,!a.checked)}}},[t("span",[e._v(" "+e._s(a.level_name))]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-chenggong-shixin"}})],1)})),0)]):t("div",{staticStyle:{"text-align":"center"}},[e._v(" 暂无数据 ")])])])])};t.render=a;var i=[];t.staticRenderFns=i},dea6:function(e,t,a){},e585:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=void 0;var n=i(a("4360")),o=function(){var e,t,a,i,o;return{"client-type":50,"session-id":null===(e=n.default.state)||void 0===e||null===(t=e.account)||void 0===t?void 0:t.sessionId,"shop-id":null===(a=n.default.state)||void 0===a||null===(i=a.account)||void 0===i||null===(o=i.shop)||void 0===o?void 0:o.shopId}};t.getUserInfo=o},e7cd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAeBAMAAAD0jNL3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAPUExURTCI7yyH7y2M7y2N8S2M8GsgvRMAAAAEdFJOUwogoJ8q1PIiAAAAFUlEQVQI12NgYDBkcAFCBQYBBhLZAIgxBI7KasErAAAAAElFTkSuQmCC"},e9df:function(e,t,a){"use strict";a("8b5d")},efdd:function(e,t,a){"use strict";a("32c0")},f5ae:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fb6a");var i={name:"CouponsList",props:{list:{type:Array,required:!0},disabled:{type:Boolean,default:!1},showStock:{type:Boolean,default:!1}},data:function(){return{columns:[],page:{pageSize:5,pageNumber:1},data:[],total:0}},methods:{deleteCoupons:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认删除该优惠券吗?",onOk:function(){var a=(t.page.pageNumber-1)*t.page.pageSize+e;t.$emit("on-delete",a)},onCancel:function(){}})},handlePageChange:function(e){this.page=e,this.getPageData()},getPageData:function(){this.total=this.list.length;var e=this.page.pageSize*(this.page.pageNumber-1),t=this.page.pageSize*this.page.pageNumber;this.data=this.list.slice(e,t)},reset:function(){var e;null===(e=this.$refs["page"])||void 0===e||e.reset(),this.page={pageSize:5,pageNumber:1},this.getPageData()}},watch:{showStock:{handler:function(e){var t=this;this.$createElement;this.columns=e?[{title:"优惠券名称",key:"coupon_name",minWidth:180,render:function(e,t){var i,n;return"2"===t.row.coupon_sale_type?n=[e("span","折扣券"),e("img",{attrs:{src:a("e7cd")}})]:"1"===t.row.coupon_sale_type&&(n=[e("span","满减券"),e("img",{attrs:{src:a("626b")}})]),e("div",{class:{"coupons-name":!0}},[e("div",{class:{"coupons-type":!0,deduction:"2"===t.row.coupon_sale_type,"full-reduction":"1"===t.row.coupon_sale_type}},n),e("div",{class:{"coupons-name-content":!0}},[e("p",{class:{name:!0}},t.row[t.column.key]),e("p",{class:{content:!0}},null===(i=t.row)||void 0===i?void 0:i.content)])])}},{title:"库存",slot:"stock",width:80},{title:"操作",key:"action",width:60,render:function(e,a){return e("Button",{attrs:{type:"text",disabled:t.disabled},on:{click:function(){t.deleteCoupons(a.index)}}},["删除"])}}]:[{title:"优惠券名称",key:"coupon_name",minWidth:180,render:function(e,t){var i,n;return"2"===t.row.coupon_sale_type?n=[e("span","折扣券"),e("img",{attrs:{src:a("e7cd")}})]:"1"===t.row.coupon_sale_type&&(n=[e("span","满减券"),e("img",{attrs:{src:a("626b")}})]),e("div",{class:{"coupons-name":!0}},[e("div",{class:{"coupons-type":!0,deduction:"2"===t.row.coupon_sale_type,"full-reduction":"1"===t.row.coupon_sale_type}},n),e("div",{class:{"coupons-name-content":!0}},[e("p",{class:{name:!0}},t.row[t.column.key]),e("p",{class:{content:!0}},null===(i=t.row)||void 0===i?void 0:i.content)])])}},{title:"操作",key:"action",width:60,render:function(e,a){return e("Button",{attrs:{type:"text",disabled:t.disabled},on:{click:function(){t.deleteCoupons(a.index)}}},["删除"])}}]},immediate:!0},list:{handler:function(){var e=this;this.$nextTick((function(){e.reset()}))},immediate:!0,deep:!0}}};t.default=i},f6cf:function(e,t,a){},f859:function(e,t,a){"use strict";var i=a("fc6b");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},fa51:function(e,t,a){"use strict";a.r(t);var i=a("67a7"),n=a("047c");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8066");var s=a("2877"),r=Object(s["a"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"74941c68",null);t["default"]=r.exports},fc6b:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var i=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{value:e.value,title:"商品选择器",width:"1000","ok-text":"保存"},on:{"on-ok":e.handleSave,"on-cancel":e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[e.activity.show?t("div",{staticClass:"btn-group"},[t("Button",{attrs:{type:"primary"},on:{click:function(t){e.activity.show=!1}}},[e._v("返回选择商品")])],1):e._e()]},proxy:!0}])},[t("div",{staticClass:"goods-preview"},[t("div",{ref:"scrollBox",staticClass:"goods-preview-content"},[e.activity.show?e._e():t("div",{staticClass:"search"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch,"on-enter":e.handleSearch},model:{value:e.search.keywords,callback:function(t){e.$set(e.search,"keywords",t)},expression:"search.keywords"}})],1),e.activity.show?e._e():t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",attrs:{columns:e.columns,data:e.table.data}}),e.activity.show?t("Table",{ref:"activityTable",attrs:{columns:e.activity.columns,data:e.activity.data},scopedSlots:e._u([{key:"status",fn:function(a){var i=a.row;return[1===+i.status?t("kdx-status-text",{attrs:{type:"success"}},[e._v("进行中")]):e._e(),-1===+i.status?t("kdx-status-text",{attrs:{type:"danger"}},[e._v("已停止")]):e._e(),-2===+i.status?t("kdx-status-text",{attrs:{type:"danger"}},[e._v("手动停止")]):e._e(),0===+i.status?t("kdx-status-text",{attrs:{type:"warning"}},[e._v("未开始")]):e._e()]}},{key:"date",fn:function(a){var i=a.row;return[t("div",{staticClass:"time"},[e._v("起："+e._s(e.getTime(i.start_time)))]),t("div",{staticClass:"time"},[e._v("止："+e._s(e.getTime(i.end_time)))])]}}],null,!1,940490386)}):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.table.total>10&&!e.activity.show,expression:"table.total > 10&&!activity.show"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.table.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=i;var n=[];t.staticRenderFns=n}}]);