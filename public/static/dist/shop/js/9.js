(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0b7d":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{value:"[订单类]",label:"订单类",children:[{value:"[订单信息]",label:"订单信息",children:[{value:"[商城名称]",label:"商城名称"},{value:"[商品名称]",label:"商品名称"},{value:"[会员昵称]",label:"会员昵称"},{value:"[订单编号]",label:"订单编号"},{value:"[支付金额]",label:"支付金额"},{value:"[运费]",label:"运费"},{value:"[商品详情]",label:"商品详情"},{value:"[快递公司]",label:"快递公司"},{value:"[快递单号]",label:"快递单号"},{value:"[买家姓名]",label:"买家姓名"},{value:"[买家电话]",label:"买家电话"},{value:"[收货地址]",label:"收货地址"},{value:"[下单时间]",label:"下单时间"},{value:"[支付时间]",label:"支付时间"},{value:"[发货时间]",label:"发货时间"},{value:"[收货时间]",label:"收货时间"},{value:"[积分变动]",label:"积分变动"},{value:"[积分余额]",label:"积分余额"},{value:"[订单状态]",label:"订单状态"},{value:"[买家备注]",label:"买家备注"}]},{label:"售后相关",value:"[售后相关]",children:[{value:"[订单编号]",label:"订单编号"},{value:"[售后类型]",label:"售后类型"},{value:"[申请时间]",label:"申请时间"},{value:"[退款金额]",label:"退款金额"},{value:"[退货地址]",label:"退货地址"},{value:"[换货快递公司]",label:"换货快递公司"},{value:"[换货快递单号]",label:"换货快递单号"},{value:"[退款状态]",label:"退款状态"}]}]},{value:"[账户变动类]",label:"账户变动类",children:[{value:"[变动账户]",label:"变动账户",children:[{value:"[变动账户]",label:"变动账户"}]},{value:"[变动时间]",label:"变动时间",children:[{value:"[充值时间]",label:"充值时间"},{value:"[退款时间]",label:"退款时间"},{value:"[提现时间]",label:"提现时间"}]},{value:"[变动金额]",label:"变动金额",children:[{value:"[充值金额]",label:"充值金额"},{value:"[退款金额]",label:"退款金额"},{value:"[提现金额]",label:"提现金额"}]},{value:"[账户余额]",label:"账户余额",children:[{value:"[账户余额]",label:"账户余额"},{value:"[账户积分]",label:"账户积分"}]},{value:"[优惠券类型]",label:"优惠券类型",children:[{value:"[优惠券类型]",label:"优惠券类型"}]},{value:"[发放状态]",label:"发放状态",children:[{value:"[发放状态]",label:"发放状态"}]},{value:"[发放时间]",label:"发放时间",children:[{value:"[发放时间]",label:"发放时间"}]}]},{value:"[注册登录类]",label:"注册登录类",children:[{value:"[验证码]",label:"验证码",children:[{value:"[验证码]",label:"验证码"}]}]},{value:"[分销类]",label:"分销类",children:[{value:"[分销身份变更]",label:"分销身份变更",children:[{value:"[商城名称]",label:"商城名称"},{value:"[用户昵称]",label:"用户昵称"},{value:"[手机号]",label:"手机号"},{value:"[变动时间]",label:"变动时间"},{value:"[下级昵称]",label:"下级昵称"},{value:"[下级等级]",label:"下级等级"},{value:"[旧等级]",label:"旧等级"},{value:"[新等级]",label:"新等级"}]},{value:"[分销订单]",label:"分销订单",children:[{value:"[订单编号]",label:"订单编号"},{value:"[订单金额]",label:"订单金额"},{value:"[佣金金额]",label:"佣金金额"},{value:"[商品名称]",label:"商品名称"},{value:"[付款时间]",label:"付款时间"},{value:"[下级层级]",label:"下级层级"}]},{value:"[佣金与提现]",label:"佣金与提现",children:[{value:"[提现时间]",label:"提现时间"},{value:"[提现金额]",label:"提现金额"},{value:"[审核结果]",label:"审核结果"}]}]},{value:"[表单类]",label:"表单类",children:[{value:"[用户昵称]",children:[{value:"[用户昵称]",label:"用户昵称"},{value:"[操作时间]",label:"操作时间"},{value:"[表单名称]",label:"表单名称"},{value:"[应用页面]",label:"应用页面"},{value:"[数据ID]",label:"数据ID"}]}]}],i=a;t.default=i},"0c6d":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"default-template"},["wechat"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].wechat?t("div",{staticClass:"default-template-content wechat"},[t("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),t("div",{staticClass:"line"}),t("div",{staticClass:"wechat-notice"},[t("div",{staticClass:"content"},["credit_sign_notice"==e.type_code?t("div",{staticClass:"template-creditSign"},[t("div",{staticClass:"template-text"},[e._v("办理进程通知 ")]),e._m(0)]):e._e(),t("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].wechat.title))]),t("div",{staticClass:"template-html"},e._l(e.templateCode[e.type_code].wechat.info,(function(a,i){return t("div",{key:i,staticClass:"flex"},[t("div",{staticClass:"label"},[e._v(e._s(a.key)+"：")]),t("div",[e._v(e._s(a.title))])])})),0)])])]):e._e(),"sms"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].sms?t("div",{staticClass:"default-template-content wxapp"},[t("img",{staticClass:"bg-img",attrs:{src:a("22ea"),alt:""}}),t("div",{staticClass:"sms-notice"},[t("img",{staticClass:"sms-icon-img",attrs:{src:a("6aad"),alt:""}}),t("div",{staticClass:"message-content"},[e._v(e._s(e.templateCode[e.type_code].sms.title))])])]):e._e(),"wxapp"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].wxapp?t("div",{staticClass:"default-template-content wxapp"},[t("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),t("div",{staticClass:"line"}),t("div",{staticClass:"wxapp-notice"},[e._m(1),t("div",{staticClass:"content"},[t("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].wxapp.title))]),t("div",{staticClass:"template-html",class:"credit_sign_notice"==e.type_code?"template-html-creditSign":""},e._l(e.templateCode[e.type_code].wxapp.info,(function(a,i){return t("div",{key:i,staticClass:"flex"},[t("div",{staticClass:"label"},[e._v(e._s(a.key))]),t("div",{style:{marginLeft:"credit_sign_notice"==e.type_code?"10px":"0"}},[e._v(e._s(a.title))])])})),0)]),t("div",{staticClass:"template-link"},[e._v("拒收通知")])])]):e._e(),"subscribe"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].subscribe?t("div",{staticClass:"default-template-content wxapp"},[t("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),t("div",{staticClass:"line"}),t("div",{staticClass:"wxapp-notice"},[t("div",{staticClass:"title flex"},[t("div",{staticClass:"logo flex"},[t("div",{staticClass:"logo-icon"},[e._v("商城")]),"credit_sign_notice"==e.type_code?t("div",[e._v("商城名称")]):t("div",[e._v("商城")])]),e._m(2)]),t("div",{staticClass:"content"},[t("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].subscribe.title))]),t("div",{staticClass:"template-html",class:"credit_sign_notice"==e.type_code?"template-html-creditSign":""},e._l(e.templateCode[e.type_code].subscribe.info,(function(a,i){return t("div",{key:i,staticClass:"flex"},[t("div",{staticClass:"label"},[e._v(e._s(a.key))]),t("div",[e._v(e._s(a.title))])])})),0)]),e._m(3)])]):e._e()])};t.render=i;var s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"dot"},[t("span"),t("span"),t("span")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"title flex"},[t("div",{staticClass:"logo flex"},[t("div",{staticClass:"logo-icon"},[e._v("商城")]),t("div",[e._v("商城")])]),t("div",{staticClass:"dot"},[t("span"),t("span"),t("span")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"dot"},[t("span"),t("span"),t("span")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"template-link"},[e._v("查看详情 "),t("i",{staticClass:"iconfont icon-line-right",staticStyle:{float:"right"}})])}];t.staticRenderFns=s},"110c":function(e,t,a){},1161:function(e,t,a){"use strict";a("c51e")},"13d7":function(e,t,a){"use strict";a.r(t);var i=a("2df6"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},1873:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("5530")),n=i(a("b85c")),l=i(a("2909"));a("a9e3"),a("ac1f"),a("841c"),a("14d9"),a("4de4"),a("d3b7"),a("159b"),a("3c65");var o={name:"VipSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},restParams:{type:Object,default:function(){}},passId:{type:[String,Number]},source:{type:String},type:{type:String,default:"vip"}},data:function(){var e=this;this.$createElement;return{value:!1,search:{keyword:"",level_id:"all",group_id:"all"},columns:[{title:"会员",key:"shop",minWidth:200,render:function(t,a){var i={10:t("kdx-svg-icon",{attrs:{type:"icon-H"},class:"platform-icon"}),20:t("kdx-svg-icon",{attrs:{type:"icon-weixin"},class:"platform-icon"}),21:t("kdx-svg-icon",{attrs:{type:"icon-weixinxiaochengxu"},class:"platform-icon"}),30:t("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiao2"},class:"platform-icon"}),31:t("kdx-svg-icon",{attrs:{type:"icon-douyin"},class:"platform-icon"}),32:t("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiaojisuban"},class:"platform-icon"}),70:t("span",{style:"color:#12aa9c;font-size:16px",class:"iconfont icon-PCduan"})},s=i[a.row.source];return t("div",{class:"vip-info"},[t("div",{class:"user-image"},[t("img",{attrs:{src:e.$media(a.row.avatar),alt:""},on:{error:function(t){e.replaceImage(t,"avatar")}}})]),t("div",{class:"vip-content"},[t("p",{class:"vip-name line-hide"},[a.row.nickname]),t("div",{class:"vip-platform"},[s])])])}},{title:"会员等级",key:"level_name",minWidth:100,render:function(e,t){return e("div",[t.row.level_name?t.row.level_name:"普通会员"])}},{title:"标签组",key:"group_name",minWidth:100,render:function(e,t){return e("div",[t.row.group_name?t.row.group_name:"-"])}},{title:"注册时间",key:"created_at",width:180},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},attrs:{disabled:e.disabledBtn(a.row)&&e.passId!==a.row.id},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],levels:[],groups:[],total:0,page:{pageSize:10,pageNumber:1},selectRow:{},loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.multiple?this.selectRows=(0,l.default)(this.currentList):this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:"",level_id:"all",group_id:"all"}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;this.multiple?(this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))):(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{},this.$emit("on-change",this.selectRow))},defaultChecked:function(){var e=this;this.multiple?this.data.forEach((function(t,a){var i,s=(0,n.default)(e.selectRows);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}})):this.data.forEach((function(t,a){e.current&&t.id===e.selectRow.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)}))},handlePageChange:function(e){this.page=e,this.getList();try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}},handleOk:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t={};this.source&&(t.source=this.source);var a=(0,s.default)((0,s.default)({},this.search),{},{level_id:"all"===this.search.level_id?"":this.search.level_id,group_id:"all"===this.search.group_id?"":this.search.group_id}),i=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},a,this.restParams,t);this.$api.memberApi["vip"===this.type?"memberList":"videoMemberList"](i).then((function(t){0===t.error&&(e.data=t.list,e.total=t.total,t.groups.unshift({id:"all",group_name:"全部"}),t.levels.unshift({id:"all",level_name:"全部"}),e.groups=t.groups,e.levels=t.levels,e.defaultChecked(),e.loading=!1)}))},disabledBtn:function(e){return 1==e.is_use_verify}}};t.default=o},"19f3":function(e,t,a){"use strict";a("a632")},"1a09":function(e,t,a){"use strict";var i=a("0c6d");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"1c5d":function(e,t,a){},2099:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("c7eb")),n=i(a("1da1"));a("ac1f"),a("5319"),a("e9c4"),a("fb6a"),a("4de4"),a("d3b7"),a("14d9");var l=i(a("7203")),o={name:"customTemplate",components:{selectTemplateCode:l.default},props:{value:{type:Object,default:function(){}}},data:function(){return{loading:!1,customData:{template_id:"",content:[]},initContent:[],resultContent:[],show:!1,index:"",template_list:[]}},watch:{value:{handler:function(e){e&&this.getData(e)},immediate:!0}},computed:{},created:function(){this.getTemplateList()},mounted:function(){},methods:{getData:function(e){this.customData=e,this.chooseTemplate()},getTemplateList:function(){var e=this;this.loading=!0,this.$api.noticeApi.getWexinTemplate({}).then((function(t){0==t.error&&(e.template_list=t.template_list),e.loading=!1}))},chooseTemplate:function(){var e=this;this.$api.noticeApi.getWexinTemplateDetail({template_id:this.customData.template_id}).then((function(t){if(0==t.error){var a=JSON.stringify(t.content).replace(/\\n/g,","),i=a.slice(1,-1).split(",");i=i.filter((function(e){return e})),i[0]="模板格式："+i[0],i[i.length-1]="尾部描述："+i[i.length-1];for(var s=[],n=0;n<i.length;n++){var l,o,c;s.push({key:i[n].split("：")[0],value:i[n].split("：")[1],customValue:null!==(l=null===(o=e.customData)||void 0===o||null===(c=o.content[n])||void 0===c?void 0:c.customValue)&&void 0!==l?l:""})}e.customData.content=s}}))},chooseCode:function(e){this.customData.content[this.index].customValue+=e},handleFocus:function(e){this.show=!0,this.index=e},validateForm:function(){var e=this;return new Promise((function(t,a){e.$refs["customForm"].validate(function(){var i=(0,n.default)((0,s.default)().mark((function i(n){return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!n){i.next=12;break}return i.prev=1,i.next=4,e.handleData();case 4:t({template_id:e.customData.template_id,content:e.resultContent}),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](1),a("public");case 10:i.next=13;break;case 12:a("public");case 13:case"end":return i.stop()}}),i,null,[[1,7]])})));return function(e){return i.apply(this,arguments)}}())}))},handleData:function(){this.resultContent=[];for(var e=0;e<this.customData.content.length;e++)this.resultContent.push({key:this.customData.content[e].value.slice(2,-7),value:this.customData.content[e].customValue})},routeWeixinTemplate:function(){this.$utils.openNewWindowPage("/notice/wxappTemplate/list")}}};t.default=o},"22ea":function(e,t,a){e.exports=a.p+"static/dist/shop/img/sms_bg.png"},"267b":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("5530"));a("d81d"),a("14d9");var n=i(a("a59d")),l=i(a("86c1")),o=i(a("b938")),c=i(a("579b")),r=i(a("dfef")),d={name:"index",components:{wechatTemplate:n.default,wxappTemplate:l.default,smsTemplate:o.default,subscribeTemplate:r.default},props:{is_showNoticeMember:{type:Boolean,default:!1}},data:function(){return{loading:!1,submitLoading:!1,icon:"",items:[],tempTitle:"",tabPoint:"",type_code:"",wechatData:{status:0,is_default:1,commission_level:"1",member_id:[]},wxappData:{status:0,is_default:1},smsData:{status:0,template_id:"",commission_level:"1",member_id:[]},subscribeData:{status:0,is_default:1}}},computed:{sendTime:function(){return c.default[this.type_code].sendTime},isShow_level:function(){return"commission_buyer_agent_add_child"==this.type_code||"commission_buyer_child_pay"==this.type_code||"commission_buyer_agent_add_child_line"==this.type_code}},created:function(){},mounted:function(){this.type_code=this.$route.query.type_code,this.tempTitle=c.default[this.type_code].title,this.icon=c.default[this.type_code].icon,this.items=this.$route.query.items,this.tabPoint=Array.isArray(this.items)?this.items[0]:this.items,this.getData()},methods:{getData:function(){var e=this;this.loading=!0,"wechat"==this.tabPoint?this.$api.noticeApi.getWechatNotice({type_code:this.type_code}).then((function(t){if(e.loading=!1,0==t.error){if(delete t.error,0==t.is_default){var a,i=[];null===(a=t.template)||void 0===a||a.content.map((function(e){i.push({key:e.key,customValue:e.value})})),t.template.content=i}e.wechatData=t,null!==t&&void 0!==t&&t.member&&(e.wechatData.member_id=t.member.map((function(e){return e.id})))}})):"wxapp"==this.tabPoint?this.$api.noticeApi.getWxappNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.wxappData=(0,s.default)((0,s.default)({},t),{},{is_default:1}))})):"sms"==this.tabPoint?this.$api.noticeApi.getSmsNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.smsData=t,null!==t&&void 0!==t&&t.member&&(e.smsData.member_id=t.member.map((function(e){return e.id}))))})):"subscribe"==this.tabPoint&&this.$api.noticeApi.getSubscribeNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.subscribeData=(0,s.default)((0,s.default)({},t),{},{is_default:1}))}))},changeTab:function(e){this.tabPoint=e,this.getData()},handleSave:function(){this.submitLoading=!0,"wechat"==this.tabPoint?this.wechatSave():"wxapp"==this.tabPoint?this.wxappSave():"sms"==this.tabPoint?this.smsSave():"subscribe"==this.tabPoint&&this.subscribeSave()},wechatSave:function(){var e=this,t={type_code:this.type_code,status:this.wechatData.status,is_default:this.wechatData.is_default,commission_level:this.wechatData.commission_level};this.is_showNoticeMember&&(t.member_id=this.wechatData.member_id),0==t.is_default&&this.$refs.wechatTemplate.$refs.customTemplate.validateForm().then((function(e){t.content=e.content,t.template_id=e.template_id})),this.$api.noticeApi.addWechatNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},wxappSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.wxappData);this.$api.noticeApi.addWxappNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},smsSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.smsData);if(this.is_showNoticeMember&&(t.member_id=this.smsData.member_id),!t.hasOwnProperty("template_id")||"undefined"==typeof t.template_id.length||t.template_id+""==="0")return this.$Message.error("选择模板"),void(this.submitLoading=!1);this.$api.noticeApi.addSmsNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},subscribeSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.subscribeData);this.$api.noticeApi.addSubscribeNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},handleBack:function(){this.$router.go(-1)}}};t.default=d},"2af6":function(e,t,a){"use strict";a.r(t);var i=a("af5e"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},"2df6":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("87b7")),n={name:"subscribeTemplate",components:{defaultTemplate:s.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},isShow_level:{type:Boolean,default:!1}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.model=e},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=n},3220:function(e,t,a){e.exports=a.p+"static/dist/shop/img/bg.png"},"38f9":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"custom-template flex"},[t("Form",{ref:"customForm",attrs:{model:e.customData,"label-width":120}},[t("FormItem",{attrs:{label:"选择模板："}},[t("Select",{staticClass:"width-430",on:{"on-change":e.chooseTemplate},model:{value:e.customData.template_id,callback:function(t){e.$set(e.customData,"template_id",t)},expression:"customData.template_id"}},e._l(e.template_list,(function(a){return t("Option",{key:a.template_id,attrs:{value:a.template_id}},[e._v(" "+e._s(a.title)+" ")])})),1),t("Button",{staticClass:"marginR-10 marginL-10",attrs:{type:"text"},on:{click:e.getTemplateList}},[e._v("刷新")]),t("Button",{attrs:{type:"text"},on:{click:e.routeWeixinTemplate}},[e._v("创建微信模板")])],1),e.customData.content.length>0?t("FormItem",{attrs:{label:"默认内容："}},[t("div",{staticClass:"default-content"},e._l(e.customData.content,(function(a,i){return t("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:"".concat(a.key,"：")}},[t("span",[e._v(e._s(a.value))])])})),1)]):e._e(),e.customData.content.length>0?t("FormItem",{attrs:{label:"自定义内容："}},[t("div",{staticClass:"default-content"},e._l(e.customData.content,(function(a,i){return t("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:"".concat(a.key,"："),prop:"content."+i+".customValue",rules:{required:!0,message:"请填写模板"}}},[t("Input",{staticClass:"width-250",attrs:{placeholder:"请输入"},on:{"on-focus":function(t){return e.handleFocus(i)}},model:{value:a.customValue,callback:function(t){e.$set(a,"customValue",t)},expression:"item.customValue"}})],1)})),1)]):e._e()],1),e.show?t("div",{staticClass:"right-code"},[t("span",{staticClass:"arrow"}),t("selectTemplateCode",{on:{chooseCode:e.chooseCode}})],1):e._e()],1)};t.render=a;var i=[];t.staticRenderFns=i},"3ede":function(e,t,a){"use strict";a.r(t);var i=a("b2f9"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},"51a9":function(e,t,a){"use strict";a("6935")},5216:function(e,t,a){"use strict";a.r(t);var i=a("2099"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},"595d":function(e,t,a){e.exports=a.p+"static/dist/shop/img/wxapp_bg.png"},"5b47":function(e,t,a){},"5bd5":function(e,t,a){"use strict";var i=a("d832");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"606b9":function(e,t,a){"use strict";a.r(t);var i=a("8c1f"),s=a("5216");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("8d6b");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"642f0":function(e,t,a){"use strict";a.r(t);var i=a("7d1d"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},6505:function(e,t,a){"use strict";a.r(t);var i=a("c9b3"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},6598:function(e,t,a){"use strict";a("1c5d")},6935:function(e,t,a){},"6aad":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAApBAMAAACiruYyAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAITgAACE4AUWWMWAAAAAqUExURUdwTOrq7Onp6+rq7Onp6+fn6urq6+fn6Orq6+Li6ejo6+np6+rq6+np61t7ix8AAAANdFJOUwDmvJ+AQMchzxBZcI+vWo65AAAA20lEQVQoz2XSwQrCMAwA0CrKdGMgKIiI4A8IglcFL55EEDz7D/uBgT8giP/g0aN3f0BwboIo+Re7Lk3bNMdH0yRNhagiEjxqd09yLnWYepJ7wg9JKTyBpSMtKV+3upQs4QJ9W+JSPrakpYA9yl7J25KrkuxkZKMExkYmwNOOwNLagEGTNLUMtERafvbo4LQda4Gt06B99YJE9zgi6VQQEsCTlSJJjRz4xbi1wAAktBqMgveHDQamm6FgSS/c4YMAx2xwoCM9/cZnPLDSbxWqQt2b2d1uNl9f7G/yBxXH9/V7/2X3AAAAAElFTkSuQmCC"},7203:function(e,t,a){"use strict";a.r(t);var i=a("c747"),s=a("2af6");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("6598");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"0cbdd65f",null);t["default"]=o.exports},"7a12":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c");var i=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{title:"会员选择器",width:850},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"vip-selector"},[t("div",{ref:"scrollBox",staticClass:"vip-selector-content"},[t("div",{staticClass:"search"},[t("Form",{ref:"form",attrs:{model:e.search,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{staticClass:"search-content"},[t("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("FormItem",{attrs:{label:"用户等级："}},[t("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":e.handleSearch},model:{value:e.search.level_id,callback:function(t){e.$set(e.search,"level_id",t)},expression:"search.level_id"}},e._l(e.levels,(function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.level_name))])})),1)],1),t("FormItem",{attrs:{label:"标签组："}},[t("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":e.handleSearch},model:{value:e.search.group_id,callback:function(t){e.$set(e.search,"group_id",t)},expression:"search.group_id"}},e._l(e.groups,(function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.group_name))])})),1)],1)],1)],1),t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])};t.render=i;var s=[];t.staticRenderFns=s},"7a75":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wxapp-template"},[t("div",{staticClass:"tip"},[t("kdx-hint-alert",{attrs:{"show-icon":!1}},[t("div",[e._v(" 请到微信小程序管理后台服务类目中添加 【商家自营】-【服饰/内衣】 ")])])],1),t("kdx-form-title",[e._v("发送设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[t("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[t("span",[e._v(e._s(e.sendTime))]),"credit_sign_notice"===e.type_code?t("kdx-hint-text",[e._v("系统将在该时间点为当天未进行签到的用户发送签到提醒")]):e._e()],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[t("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[t("Radio",{attrs:{label:1}},[e._v("系统默认")])],1),t("default-template",{attrs:{type:"wxapp"}})],1)],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},"7d1d":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("579b")),n={name:"defaultTemplate",components:{},props:{type:{type:String,default:"wechat"}},data:function(){return{type_template:"wechat",templateCode:s.default,type_code:""}},watch:{},computed:{},created:function(){},mounted:function(){this.type_template=this.type,this.type_code=this.$route.query.type_code},methods:{}};t.default=n},"86c1":function(e,t,a){"use strict";a.r(t);var i=a("c232"),s=a("3ede");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("9731");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"87b7":function(e,t,a){"use strict";a.r(t);var i=a("1a09"),s=a("642f0");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("51a9");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"8c1f":function(e,t,a){"use strict";var i=a("38f9");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"8d6b":function(e,t,a){"use strict";a("b6ac")},"8f09":function(e,t,a){},94814:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("caad"),a("2532");var i=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{loading:e.submitLoading},on:{click:e.handleSave}},[e._v("保存")]),t("Button",{staticClass:"default-long",on:{click:e.handleBack}},[e._v("返回列表")])]},proxy:!0}])},[t("div",{staticClass:"notice-title"},[t("img",{attrs:{src:a("3220"),alt:""}}),t("div",{staticClass:"notice-title-content flex"},[t("i",{staticClass:"iconfont",class:e.icon}),t("span",[e._v(e._s(e.tempTitle))])])]),e.type_code?t("div",{staticClass:"notice-buyer-edit"},[t("Tabs",{attrs:{animated:!1},on:{"on-click":e.changeTab},model:{value:e.tabPoint,callback:function(t){e.tabPoint=t},expression:"tabPoint"}},[e.items.includes("wechat")?t("TabPane",{attrs:{label:"微信公众号模板消息",name:"wechat"}},[t("div",{staticStyle:{"padding-left":"40px"}},[t("wechat-template",{ref:"wechatTemplate",attrs:{sendTime:e.sendTime,is_showNoticeMember:e.is_showNoticeMember,isShow_level:e.isShow_level,type_code:e.type_code},model:{value:e.wechatData,callback:function(t){e.wechatData=t},expression:"wechatData"}})],1)]):e._e(),e.items.includes("wxapp")?t("TabPane",{attrs:{label:"微信小程序订阅消息",name:"wxapp"}},[t("div",{staticStyle:{"padding-left":"40px"}},[t("wxapp-template",{attrs:{type_code:e.type_code,sendTime:e.sendTime},model:{value:e.wxappData,callback:function(t){e.wxappData=t},expression:"wxappData"}})],1)]):e._e(),e.items.includes("sms")?t("TabPane",{attrs:{label:"短信通知",name:"sms"}},[t("div",{staticStyle:{"padding-left":"40px"}},[t("sms-template",{attrs:{type_code:e.type_code,sendTime:e.sendTime,is_showNoticeMember:e.is_showNoticeMember,isShow_level:e.isShow_level},model:{value:e.smsData,callback:function(t){e.smsData=t},expression:"smsData"}})],1)]):e._e(),e.items.includes("subscribe")?t("TabPane",{attrs:{label:"微信公众号订阅通知",name:"subscribe"}},[t("div",{staticStyle:{"padding-left":"40px"}},[t("subscribe-template",{attrs:{type_code:e.type_code,isShow_level:e.isShow_level,sendTime:e.sendTime},model:{value:e.subscribeData,callback:function(t){e.subscribeData=t},expression:"subscribeData"}})],1)]):e._e()],1)],1):e._e()])};t.render=i;var s=[];t.staticRenderFns=s},9731:function(e,t,a){"use strict";a("8f09")},9794:function(e,t,a){"use strict";a.r(t);var i=a("b9e9"),s=a("de46");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("9cc7");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"9cc7":function(e,t,a){"use strict";a("f0fa")},a59d:function(e,t,a){"use strict";a.r(t);var i=a("e032"),s=a("6505");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("e49e");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},a632:function(e,t,a){},a635:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"subscribe-template"},[t("div",{staticClass:"tip"},[t("kdx-hint-alert",{attrs:{"show-icon":!1}},[t("div",[e._v(" 请将公众平台订阅通知所在行业选择为："),t("span",{staticClass:"warning-color"},[e._v("【商家自营】-【服饰内衣】")]),e._v("，所选行业不一致将会导致模板消息不可用 "),t("br"),e._v(" 微信公众平台订阅通知最多支持可添加50个模板 ")])])],1),t("kdx-form-title",[e._v("发送设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[t("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[t("span",[e._v(e._s(e.sendTime))])]),e.isShow_level?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[t("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[t("Radio",{attrs:{label:"1"}},[e._v("一级")]),t("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),"commission_buyer_child_pay"===e.type_code?t("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二、三级佣金获得者发送消息提示")]):e._e()],1):e._e(),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[t("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[t("Radio",{attrs:{label:1}},[e._v("系统默认")])],1),t("default-template",{attrs:{type:"subscribe"}})],1)],1)],1)};t.render=a;var i=[];t.staticRenderFns=i},a8bf:function(e,t,a){"use strict";a.r(t);var i=a("ebba"),s=a("f064");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("f8b6");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"d9d12acc",null);t["default"]=o.exports},af5e:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("d3b7");var s=i(a("0b7d")),n={name:"selectTemplateCode",components:{},props:{},data:function(){return{code:"",list:[],selectList:[]}},computed:{},created:function(){this.list=s.default},mounted:function(){},methods:{change:function(e){var t=this.list.filter((function(t){return t.label==e}));this.selectList=t[0].children},chooseCode:function(e){this.$emit("chooseCode",e)}}};t.default=n},b2f9:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("87b7")),n={name:"wxappTemplate",components:{defaultTemplate:s.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.model=e},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=n},b6ac:function(e,t,a){},b938:function(e,t,a){"use strict";a.r(t);var i=a("5bd5"),s=a("e039");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("1161");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},b9e9:function(e,t,a){"use strict";var i=a("94814");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},c232:function(e,t,a){"use strict";var i=a("7a75");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},c51e:function(e,t,a){},c747:function(e,t,a){"use strict";var i=a("f541");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},c9b3:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("d81d"),a("a434");var s=i(a("a8bf")),n=i(a("87b7")),l=i(a("606b9")),o={name:"wechatTemplate",components:{VipSelector:s.default,defaultTemplate:n.default,customTemplate:l.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1},type_code:{type:String,default:""}},data:function(){var e=this;this.$createElement;return{model:{status:0,is_default:1,commission_level:"1",member_id:[],is_send_message:"0",message_num:0,is_send_line:"0",line_num:0},messageList:["10","20","50","100","200","500"],lineList:["1","5","10","20","50"],vipList:[],columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(t,a){return t("p",{class:"option",style:"text-align:center;"},[t("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){e.delete(a.index)}}},["删除"])])}}],rules:{trigger:[{validator:this.validateTrigger,trigger:"change"}]}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){var t;this.model=e,this.model.is_send_messages=e.is_send_message,this.model.is_send_line=e.is_send_line,this.vipList=null!==(t=null===e||void 0===e?void 0:e.member)&&void 0!==t?t:[]},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{validateTrigger:function(e,t,a){var i=!1;this.model.is_send_message||this.model.is_send_line?!this.model.is_send_message&&this.model.is_send_line?this.model.line_num||(i=!0):this.model.is_send_message&&!this.model.is_send_line&&(this.model.message_num||(i=!0)):i=!0,this.model.is_send_message&&this.model.is_send_line&&(this.model.message_num||this.model.line_num||(i=!0)),i?a("触发条件必选"):a()},validate:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate((function(e){t(e)}))}))},getVipList:function(e){this.vipList=e.map((function(e){return{id:e.id,source:e.source,avatar:e.avatar,nickname:e.nickname}})),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},delete:function(e){this.vipList.splice(e,1),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};t.default=o},d832:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sms-template"},[t("kdx-form-title",[e._v("发送设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[t("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[t("span",[e._v(e._s(e.sendTime))]),"credit_sign_notice"===e.type_code?t("kdx-hint-text",[e._v("系统将在该时间点为当天未进行签到的用户发送签到提醒")]):e._e()],1),e.isShow_level?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[t("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[t("Radio",{attrs:{label:"1"}},[e._v("一级")]),t("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),t("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")])],1):e._e(),e.is_showNoticeMember?t("FormItem",{attrs:{label:"通知人员："}},[t("Button",{staticClass:"default-primary",on:{click:e.selectVip}},[e._v("+添加")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[t("Table",{attrs:{columns:e.columns,data:e.vipList,size:"small"},scopedSlots:e._u([{key:"nickname",fn:function(a){var i=a.row;return[t("div",{staticClass:"vip-info"},[t("img",{attrs:{src:i.avatar,alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),t("p",{staticClass:"name"},[t("span",{staticStyle:{"margin-bottom":"4px"}},[e._v(e._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?t("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===i.source?t("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):e._e()],1)])]}}],null,!1,2828295025)})],1)],1):e._e(),t("FormItem",{attrs:{label:"模板设置："}},[t("Select",{staticClass:"width-430",model:{value:e.model.template_id,callback:function(t){e.$set(e.model,"template_id",t)},expression:"model.template_id"}},e._l(e.template_list,(function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.name))])})),1),t("default-template",{attrs:{type:"sms"}})],1)],1),t("vip-selector",{ref:"VipSelector",attrs:{currentList:e.vipList,multiple:""},on:{"on-change":e.getVipList}})],1)};t.render=i;var s=[];t.staticRenderFns=s},de46:function(e,t,a){"use strict";a.r(t);var i=a("267b"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},dfef:function(e,t,a){"use strict";a.r(t);var i=a("fc8a"),s=a("13d7");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("19f3");var l=a("2877"),o=Object(l["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"d68ff8d0",null);t["default"]=o.exports},e032:function(e,t,a){"use strict";var i=a("fdc0");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},e039:function(e,t,a){"use strict";a.r(t);var i=a("f40a"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},e49e:function(e,t,a){"use strict";a("5b47")},ebba:function(e,t,a){"use strict";var i=a("7a12");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},f064:function(e,t,a){"use strict";a.r(t);var i=a("1873"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},f0fa:function(e,t,a){},f40a:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("a434");var s=i(a("87b7")),n=i(a("a8bf")),l={name:"smsTemplate",components:{defaultTemplate:s.default,VipSelector:n.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{model:{status:0,template_id:"",commission_level:"1",member_id:[]},template_list:[],vipList:[],rules:{},columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(t,a){return t("p",{class:"option",style:"text-align:center;"},[t("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){e.delete(a.index)}}},["删除"])])}}]}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){var t;this.model=e,this.vipList=null!==(t=null===e||void 0===e?void 0:e.member)&&void 0!==t?t:[]}}},computed:{},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.$api.noticeApi.getSmsList({scene_code:this.type_code,pager:0}).then((function(t){0==t.error&&(e.template_list=t.list)}))},getVipList:function(e){this.vipList=e.map((function(e){return{id:e.id,source:e.source,avatar:e.avatar,nickname:e.nickname}})),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},delete:function(e){this.vipList.splice(e,1),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};t.default=l},f541:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"template-code"},[t("div",{staticClass:"title"},[e._v("变量选择")]),t("div",{staticClass:"template-code-content"},[t("div",{staticClass:"text-info"},[t("kdx-hint-alert",{attrs:{"show-icon":!1}},[t("div",{staticClass:"text-info-tip"},[e._v("点击变量后会自动插入选择的文本框的焦点位置，在发送给粉丝时系统会自动替换对应变量值")]),t("div",{staticClass:"text-info-tip rr-brand-color"},[e._v("注意：以上模板消息变量只适用于系统类通知，会员群发工具不适用")])])],1),t("div",{staticClass:"select flex"},[t("div",{staticClass:"label"},[e._v("变量类别：")]),t("Select",{attrs:{placeholder:"选择模板变量类型"},on:{"on-change":e.change},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},e._l(e.list,(function(a){return t("Option",{key:a.type,attrs:{value:a.label}},[e._v(e._s(a.label))])})),1)],1),e.selectList.length>0?t("div",{staticClass:"select-list"},e._l(e.selectList,(function(a,i){return t("div",{key:i,staticClass:"select-list-child"},[a.value?t("div",{staticClass:"select-list-title"},[e._v(e._s(a.label))]):e._e(),t("div",{staticClass:"label-content flex"},e._l(a.children,(function(a,i){return t("div",{key:i,staticClass:"label-item pointer",on:{click:function(t){return e.chooseCode(a.value)}}},[t("div",{staticClass:"label"},[e._v(e._s(a.label))])])})),0)])})),0):e._e()])])};t.render=a;var i=[];t.staticRenderFns=i},f8b6:function(e,t,a){"use strict";a("110c")},fc8a:function(e,t,a){"use strict";var i=a("a635");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},fdc0:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wechat-template"},[t("div",{staticClass:"tip"},[t("kdx-hint-alert",{attrs:{"show-icon":!1}},[t("div",[e._v(" 请将公众平台模板消息所在行业选择为： "),t("span",{staticClass:"warning-color"},[e._v("IT科技/互联网|电子商务 其他|其他")]),e._v("，所选行业不一致将会导致模板消息不可用 ")]),t("div",[e._v(" 微信公众平台模板消息最多支持可添加25条 "),t("Button",{attrs:{type:"text",to:"/notice/wxappTemplate/list",target:"_blank"}},[e._v("查看详情")])],1)])],1),t("kdx-form-title",[e._v("发送设置")]),t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[t("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[t("span",[e._v(e._s(e.sendTime))]),"credit_sign_notice"===e.type_code?t("kdx-hint-text",[e._v("系统将在该时间点为当天未进行签到的用户发送签到提醒")]):e._e()],1),e.isShow_level?t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[t("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[t("Radio",{attrs:{label:"1"}},[e._v("一级")]),t("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),"commission_buyer_child_pay"===e.type_code?t("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")]):e._e()],1):e._e(),e.is_showNoticeMember?t("FormItem",{attrs:{label:"通知人员："}},[t("Button",{staticClass:"default-primary",on:{click:e.selectVip}},[e._v("+添加")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[t("Table",{attrs:{columns:e.columns,data:e.vipList,size:"small"},scopedSlots:e._u([{key:"nickname",fn:function(a){var i=a.row;return[t("div",{staticClass:"vip-info"},[t("img",{attrs:{src:i.avatar,alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),t("p",{staticClass:"name"},[t("span",{staticStyle:{"margin-bottom":"4px"}},[e._v(e._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?t("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?t("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===i.source?t("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):e._e()],1)])]}}],null,!1,2828295025)})],1)],1):e._e(),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[t("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[t("Radio",{attrs:{label:1}},[e._v("系统默认")]),"credit_sign_notice"!==e.type_code&&"creditSign_qrcode_bind_success"!==e.type_code?t("Radio",{attrs:{label:0}},[e._v("自定义模板")]):e._e()],1),1==e.model.is_default?t("default-template",{attrs:{type:"wechat"}}):e._e(),0==e.model.is_default?t("custom-template",{ref:"customTemplate",model:{value:e.model.template,callback:function(t){e.$set(e.model,"template",t)},expression:"model.template"}}):e._e()],1)],1),t("vip-selector",{ref:"VipSelector",attrs:{currentList:e.vipList,multiple:""},on:{"on-change":e.getVipList}})],1)};t.render=i;var s=[];t.staticRenderFns=s}}]);