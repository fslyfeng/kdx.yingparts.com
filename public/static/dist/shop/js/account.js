(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{"0e54":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.codeRule=t.captchaRule=void 0,t.levelPass=i,t.requiredRule=t.mobileRule=void 0,n("ac1f"),n("00b4");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blur";return[{required:!0,message:e||"必填",trigger:t}]};t.requiredRule=r;var a=[{required:!0,message:"请输入11位手机号码"},{pattern:/^1[1-9][0-9]{9}$/,message:"请填写正确格式的手机号",trigger:"blur"}];t.mobileRule=a;var o=[{required:!0,len:4,message:"请输入正确的图形验证码",trigger:"blur"}];t.captchaRule=o;var s=[{required:!0,message:"请输入验证码"},{pattern:/^\d{4}$/,message:"请输入正确的短信验证码",trigger:"blur"}];function i(e){var t=0;/\d+/.test(e)&&t++,/[a-zA-Z]+/.test(e)&&t++;var n=/[\_\#\@\$\^\%\*\&\!\~\+\-]+/;return n.test(e)&&t++,t}t.codeRule=s},"13a3":function(e,t,n){},"167b":function(e,t,n){},"18f1":function(e,t,n){"use strict";n.r(t);var r=n("e8ae"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"1c3f":function(e,t,n){"use strict";n.r(t);var r=n("7d03"),a=n("f5f0");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("a173");var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"0ec30b36",null);t["default"]=i.exports},"255a1":function(e,t,n){"use strict";n.r(t);var r=n("33fe"),a=n("6162");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("9e18");var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"7209ffb6",null);t["default"]=i.exports},27732:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var r={name:"AModal",props:{title:{type:String,default:""},value:{type:Boolean},transfer:{type:Boolean,default:!1},width:{type:[String,Number],default:520}},methods:{inputHandler:function(e){this.$emit("input",e)}}};t.default=r},"2a33d":function(e,t,n){"use strict";n("167b")},"2c6b":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",[t("Input",{staticClass:"form-input",attrs:{type:"password",password:"",value:e.value,maxlength:"20",placeholder:e.placeholder},on:{input:e.handleInput,"on-focus":e.onFocus,"on-blur":e.onBlur,"on-enter":e.enterHandler}},[t("Icon",{attrs:{slot:"append",type:"ios-lock-outline"},slot:"append"})],1)],1)};t.render=n;var r=[];t.staticRenderFns=r},"305d":function(e,t,n){"use strict";n.r(t);var r=n("561e"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"33fe":function(e,t,n){"use strict";var r=n("bb55c");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"34cf":function(e,t,n){"use strict";n.r(t);var r=n("47d0"),a=n("18f1");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"877d158a",null);t["default"]=i.exports},"3e41":function(e,t,n){},"3e6e":function(e,t){e.exports="data:image/png;base64,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"},"3f63":function(e,t,n){"use strict";n.r(t);var r=n("9866"),a=n("efbc");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("72fb");var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"8be83802",null);t["default"]=i.exports},"42c3":function(e,t,n){},"47d0":function(e,t,n){"use strict";var r=n("bf49");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"49e7":function(e,t,n){var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=r(n("ade3")),o=function(){var e,t=this,n=t._self._c;return n("span",["text"!==t.type?n("span",{class:["log-btn log-btn-".concat(t.type),"log-btn--".concat(t.size),"log-btn--".concat(t.shape),(e={},(0,a.default)(e,"log-btn--disabled",t.disabled),(0,a.default)(e,"log-btn--long",t.long),e)],on:{click:t.handleClick}},[t._t("default")],2):n("a",{staticClass:"log-btn-text",on:{click:t.goPage}},[t._t("default")],2)])};t.render=o;var s=[];t.staticRenderFns=s},5429:function(e,t,n){var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("ac1f"),n("5319");var a=r(n("5530")),o=r(n("34cf")),s=r(n("a175")),i=r(n("1c3f")),u=n("2f62"),l=n("0e54"),d={components:{LogInput:o.default,PassInput:s.default,LogButton:i.default},data:function(){return{rememberStatus:!0,focusInput:"",model:{username:"",password:""},rules:{username:(0,l.requiredRule)("请输入登录账号"),password:(0,l.requiredRule)("请输入密码")},showCode:!1}},created:function(){this.model.username=localStorage.getItem("username")||"",this.model.password=localStorage.getItem("password")||""},computed:(0,a.default)((0,a.default)({},(0,u.mapState)("alone",{setting:function(e){return e.setting||{}},qrcode_url:function(e){return e.qrcode_url}})),{},{getLoginBg:function(){var e,t;return this.setting.login_show_img?"0"==(null===(e=this.setting)||void 0===e?void 0:e.login_show_img.length)?n("ed77"):this.$utils.media(null===(t=this.setting)||void 0===t?void 0:t.login_show_img,"manage"):n("ed77")},getLogo:function(){return n("3e6e")}}),methods:{onFocus:function(e){this.focusInput=e},onBlur:function(){console.log("blur"),this.focusInput=""},toForget:function(){this.$router.push("/account/forget")},toLogin:function(){var e=this;this.$refs.form.validate((function(t){t&&e.submitLogin()}))},submitLogin:function(){var e=this,t=this.model,n=t.username,r=t.password;this.$api.aloneApi.submitLogin(this.model).then((function(t){var a=t.error;0===a?(localStorage.setItem("userId",t.user.id),e.rememberStatus?(localStorage.setItem("username",n),localStorage.setItem("password",r)):(localStorage.removeItem("username"),localStorage.removeItem("password")),e.$store.commit("alone/setLoginStatus",!0),e.$router.push("/")):110022==a&&(e.$store.commit("alone/setLoginStatus",!0),e.$router.replace({path:"/"}))}))}}};t.default=d},5573:function(e,t,n){"use strict";n.r(t);var r=n("27732"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"561e":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{value:{type:String},placeholder:{type:String,default:"请输入您的登录密码"}},data:function(){return{show:!1}},methods:{handleInput:function(e){this.$emit("input",e)},onFocus:function(){this.$emit("on-focus")},onBlur:function(){this.$emit("on-blur")},enterHandler:function(){this.$emit("on-enter")}}};t.default=n},"57af":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-form"},[t("div",{staticClass:"login-form_top"},[t("img",{staticClass:"login-form_logo",attrs:{src:e.getLogo,alt:""}})]),t("div",{staticClass:"login-form_bt"},[t("div",{staticClass:"login-form_form"},[t("Form",{ref:"form",attrs:{"label-position":"top",model:e.model,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("form-item",{attrs:{label:"手机号码",prop:"username"}},[t("log-input",{class:["Mobile"===e.focusInput?"input-focus":""],attrs:{placeholder:"请输入登录账号"},on:{"on-focus":function(t){return e.onFocus("Mobile")},"on-blur":e.onBlur,"on-enter":e.toLogin},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),t("form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"密码",prop:"password"}},[t("pass-input",{class:["Pass"===e.focusInput?"input-focus":""],attrs:{placeholder:"请输入密码"},on:{"on-focus":function(t){return e.onFocus("Pass")},"on-blur":e.onBlur,"on-enter":e.toLogin},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1),t("div",{staticClass:"login-form_pass"},[t("Checkbox",{staticStyle:{transform:"scale(0.9)"},attrs:{label:""},model:{value:e.rememberStatus,callback:function(t){e.rememberStatus=t},expression:"rememberStatus"}},[e._v("记住密码 ")])],1),t("div",{staticClass:"login-form_submit"},[t("log-button",{attrs:{long:""},on:{click:e.toLogin}},[e._v("登录")])],1)],1)])])};t.render=n;var r=[];t.staticRenderFns=r},6162:function(e,t,n){"use strict";n.r(t);var r=n("dd25"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},6595:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("Modal",{attrs:{title:e.title,transfer:e.transfer,value:e.value,width:e.width},on:{input:e.inputHandler},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[e._t("default")],2)};t.render=n;var r=[];t.staticRenderFns=r},"72fb":function(e,t,n){"use strict";n("42c3")},"73a1":function(e,t,n){"use strict";n.r(t);var r=n("a988"),a=n("b9b5");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("2a33d");var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"5d9eb8d3",null);t["default"]=i.exports},"7d03":function(e,t,n){"use strict";var r=n("49e7");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"8d6d":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9");var r={name:"LogButton",props:{type:{type:String,default:"primary",validator:function(e){return["primary","default","text"].indexOf(e)>-1}},size:{type:String,default:"medium",validator:function(e){return["medium","large"].indexOf(e)>-1}},long:{type:Boolean,default:!1},shape:{type:String,default:"radius",validator:function(e){return["circle","radius"].indexOf(e)>-1}},disabled:{type:Boolean,default:!1},to:{type:String}},methods:{goPage:function(e){this.disabled||(this.to&&this.$router.push({path:this.to}),this.$emit("click",e))},handleClick:function(e){this.disabled||this.$emit("click",e)}}};t.default=r},"8d92":function(e,t,n){"use strict";n.r(t);var r=n("90cd"),a=n("5573");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("bc4e");var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"2dced351",null);t["default"]=i.exports},"90cd":function(e,t,n){"use strict";var r=n("6595");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},9866:function(e,t,n){"use strict";var r=n("f25a");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"9e18":function(e,t,n){"use strict";n("a2f1")},a173:function(e,t,n){"use strict";n("13a3")},a175:function(e,t,n){"use strict";n.r(t);var r=n("b019"),a=n("305d");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var s=n("2877"),i=Object(s["a"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"33b94cd9",null);t["default"]=i.exports},a2f1:function(e,t,n){},a988:function(e,t,n){"use strict";var r=n("57af");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},b019:function(e,t,n){"use strict";var r=n("2c6b");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},b9b5:function(e,t,n){"use strict";n.r(t);var r=n("5429"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},bb55c:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("label",{staticClass:"avatar",attrs:{for:"file"}},[t("div",{staticClass:"container choose"},[t("img",{staticClass:"avatar-img",attrs:{src:e.getImgPath}}),t("div",{staticClass:"replace-btn"},[e._v("替换")])]),t("input",{ref:"upload_input",staticStyle:{display:"none"},attrs:{id:"file",type:"file",name:"file"},on:{change:e.changeFile}})])};t.render=n;var r=[];t.staticRenderFns=r},bc4e:function(e,t,n){"use strict";n("3e41")},bf49:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",[t("Input",{staticClass:"form-input",attrs:{value:e.value,maxlength:e.maxlength,placeholder:e.placeholder},on:{input:e.handleInput,"on-focus":e.onFocus,"on-blur":e.onBlur,"on-enter":e.enterHandler}},[t("Icon",{attrs:{slot:"append",type:"ios-phone-portrait"},slot:"append"})],1)],1)};t.render=n;var r=[];t.staticRenderFns=r},dd25:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("b680"),__webpack_require__("a15b"),__webpack_require__("d81d"),__webpack_require__("99af"),__webpack_require__("ac1f"),__webpack_require__("00b4"),__webpack_require__("b0c0");var _accessory=__webpack_require__("35f3"),_fileRequest=__webpack_require__("d08c"),_default={props:{value:{type:[String]},default:{type:Boolean,default:!0}},computed:{getImgPath:function(){return this.value?this.$media(this.value):this.default?__webpack_require__("28b2"):""},maxSize:function(){var e,t,n,r;return this.toFixed(null===(e=this.$store.state)||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.uploadSetting)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.max_size)||2048},limitType:function(){var e,t,n,r,a=((null===(e=this.$store.state)||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.uploadSetting)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.extensions)||[]).map((function(e){return"jpg"===e?"image/jpeg":"image/".concat(e)})).join(",");return a||"image/png"},hintMaxText:function(){var e=this.toFixed(this.maxSize/1024);return"大小不要超过".concat(e,"M")},hintTooltipText:function(){var e,t,n,r,a=((null===(e=this.$store.state)||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.uploadSetting)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.extensions)||[]).join(",")||"png";return"".concat(this.hintMaxText,",支持图片类型").concat(a)}},created:function(){this.$store.dispatch("config/getAccountUploadSetting")},methods:{toFixed:function(e){var t=Math.pow(10,2),n=e*t+.5;return n=parseInt(n,10)/t,n+""},changeFile:function changeFile(e){if(e){var _this$$store$state4,_this$$store$state4$c,_this$$store$state4$c2,_this$$store$state4$c3,file=e.target.files[0];if(file.size>1024*this.maxSize)return void this.$Message.error("图片应选择小于".concat(this.toFixed(this.maxSize/1024),"M的"));var type=((null===(_this$$store$state4=this.$store.state)||void 0===_this$$store$state4||null===(_this$$store$state4$c=_this$$store$state4.config)||void 0===_this$$store$state4$c||null===(_this$$store$state4$c2=_this$$store$state4$c.uploadSetting)||void 0===_this$$store$state4$c2||null===(_this$$store$state4$c3=_this$$store$state4$c2.image)||void 0===_this$$store$state4$c3?void 0:_this$$store$state4$c3.extensions)||[]).join("|"),reg2=eval("/^(\\s|\\S)+("+type+")+$/");if(!reg2.test(file.name.toLowerCase()))return void this.$Message.error("请选择正确的格式的图片");this.upload(file)}this.$refs["upload_input"].value=""},upload:function(e){var t=this,n=new FormData;n.append("file",e),n.append("type","10"),n.append("scene",50),(0,_fileRequest.uploadFile)(_accessory.accessoryApi.uploadImageNoShop.api,n).then((function(e){0===e.error?t.$emit("input",e.path):t.$Message.error(e.message)}))}}};exports.default=_default},e8ae:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var r={props:{value:{type:String},maxlength:{type:[String,Number],default:20},placeholder:{type:String,default:"请输入"}},data:function(){return{show:!1}},methods:{handleInput:function(e){this.$emit("input",e)},onFocus:function(){this.$emit("on-focus")},onBlur:function(){this.$emit("on-blur")},enterHandler:function(){this.$emit("on-enter")}}};t.default=r},efbc:function(e,t,n){"use strict";n.r(t);var r=n("f7ce"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},f25a:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"form-title"},[e._v("个人账号资料设置")]),t("Form",{ref:"form",staticClass:"form",attrs:{"label-width":120,model:e.model},nativeOn:{submit:function(e){e.preventDefault()}}},[t("form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"登录账号："}},[t("div",{staticClass:"user-account"},[t("span",{staticClass:"user-mobile"},[e._v(e._s(e.username))])])]),t("form-item",{attrs:{label:"登录密码："}},[t("div",{staticClass:"user-account"},[t("span",{staticClass:"user-mobile"},[e._v("********")]),t("log-button",{attrs:{type:"text"},on:{click:e.toSetPass}},[e._v("修改密码")])],1)]),t("form-item",{attrs:{label:"个人头像："}},[t("Avatar",{attrs:{prop:"name"},model:{value:e.model.avatar,callback:function(t){e.$set(e.model,"avatar",t)},expression:"model.avatar"}}),t("kdx-hint-text",[e._v("建议尺寸：200x200px")])],1),t("div",{staticClass:"btn",on:{click:e.setUserInfo}},[e._v("保存")])],1),t("alone-modal",{attrs:{width:"510",title:"修改密码"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"modal-btn",on:{click:e.validatePass}},[e._v(" 修改密码 ")])]},proxy:!0}]),model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t("Form",{ref:"pass",attrs:{model:e.passModel,rules:e.passRules,"label-width":100}},[t("form-item",{staticClass:"form-item",attrs:{prop:"original_password",label:"原密码："}},[t("pass-input",{attrs:{placeholder:"请输入原密码"},model:{value:e.passModel.original_password,callback:function(t){e.$set(e.passModel,"original_password",t)},expression:"passModel.original_password"}})],1),t("form-item",{staticClass:"form-item",attrs:{prop:"password",label:"新密码："}},[t("pass-input",{attrs:{placeholder:"请输入新密码"},model:{value:e.passModel.password,callback:function(t){e.$set(e.passModel,"password",t)},expression:"passModel.password"}}),t("kdx-hint-text",[e._v("请输入8-20位密码，区分大小写")])],1)],1)],1)],1)};t.render=n;var r=[];t.staticRenderFns=r},f5f0:function(e,t,n){"use strict";n.r(t);var r=n("8d6d"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},f7ce:function(e,t,n){var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("99af"),n("d9e2"),n("d3b7"),n("14d9"),n("ac1f"),n("5319");var a=r(n("2909")),o=r(n("1c3f")),s=r(n("255a1")),i=r(n("a175")),u=r(n("8d92")),l=n("0e54"),d={components:{Avatar:s.default,LogButton:o.default,AloneModal:u.default,PassInput:i.default},data:function(){return{model:{avatar:""},passModel:{original_password:"",password:""},passRules:{original_password:(0,l.requiredRule)("请输入原密码"),password:[].concat((0,a.default)((0,l.requiredRule)("请输入密码")),[{pattern:/.{8,20}/,message:"8-20位密码，区分大小写",trigger:"blur"},{validator:function(e,t,n){(0,l.levelPass)(t)>=2?n():n(new Error("密码强度太低"))},trigger:"blur"}])},username:"",showModal:!1}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;return new Promise((function(t){e.$api.aloneApi.getUserRegist().then((function(n){if(0==n.error){var r=n.user_info,a=r.username,o=r.profile;if(o){var s=o.avatar;e.model.avatar=s||""}e.username=a,e.$store.commit("alone/setUserInfo",n.user_info),t()}}))}))},validate:function(){var e=this;this.$refs.form.validate((function(t){t&&e.setUserInfo()}))},setUserInfo:function(){var e=this;this.$api.aloneApi.setUserRegist(this.model).then((function(t){0===t.error&&(e.$Message.success("用户资料设置成功"),e.getUserInfo().then((function(){e.handleAjust(t.audit_status)})),setTimeout((function(){e.$router.go(-1)}),500))}))},handleAjust:function(e){switch(+e){case 10:this.$router.push("/");break;case 1:default:break}},toSetPass:function(){this.showModal=!0},validatePass:function(){var e=this;this.$refs.pass.validate((function(t){t&&e.setPass()}))},setPass:function(){var e=this;this.$api.aloneApi.modifyPass(this.passModel).then((function(t){0===t.error&&(e.$Message.success("密码修改成功"),e.$store.commit("alone/setLoginStatus",!1),e.$store.commit("alone/setUserInfo",{}),e.$router.replace("/account/login"))}))}}};t.default=d}}]);