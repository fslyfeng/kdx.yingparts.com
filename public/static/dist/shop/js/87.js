(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{"04b1":function(t,e,a){},"0b43":function(t,e,a){var n=a("04f8");t.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},"0ea1":function(t,e,a){var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c"),a("d81d"),a("14d9");var r=n(a("5530")),i=n(a("b597")),o=a("d1be"),s={name:"list",components:{searchHeader:i.default},data:function(){return{loading:!1,page:{pageSize:10,pageNumber:1},search:{description:"",title:"",create_time:[]},data:[],total:0,columns:[{title:"商品信息",slot:"goods"},{title:"推广文案",slot:"description"},{title:"添加时间",key:"create_time",maxWidth:400},{title:"操作",slot:"action",minWidth:10,maxWidth:120}]}},computed:{noManagePerm:function(){return!this.$getPermMap("material.index.manage")}},created:function(){this.getMaterialList()},methods:{getType:function(t){var e;switch(t.goods_type){case"0":e={goodsName:"mark real",goodsText:"实"};break;case"1":e={goodsName:"mark virtual",goodsText:"虚"};break;case"2":e={goodsName:"mark secret",goodsText:"密"};break;default:e={goodsName:"",goodsText:""};break}return e},getMaterialList:function(){var t=this;this.loading=!0;var e=(0,r.default)((0,r.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});e.create_time=e.create_time.map((function(t){return(0,o.formatDate)(t,"yyyy-MM-dd hh:mm:ss")})),this.$api.materialApi.getMaterialList(e).then((function(e){t.loading=!1,0===e.error&&(t.data=e.data.list,t.total=e.data.total)}))},handleSearch:function(t){this.search=(0,r.default)((0,r.default)({},this.search),t),this.refreshTable()},changePage:function(t){this.page=t,this.getMaterialList()},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确定删除此素材？",onOk:function(){e.delete(t)},onCancel:function(){}})},delete:function(t){var e=this;this.$api.materialApi.deleteMaterial({id:t}).then((function(t){0===t.error&&(e.refreshTable(),e.$Message.success("删除成功"))}))},handleEdit:function(t){this.$router.push({path:"/material/edit",query:{id:t}})},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["page"].reset(),this.getMaterialList()}}};e.default=s},"15ca":function(t,e,a){"use strict";var n=a("4d4c");a.o(n,"render")&&a.d(e,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"19a9":function(t,e,a){"use strict";a("04b1")},"428f":function(t,e,a){var n=a("da84");t.exports=n},"4aba":function(t,e,a){"use strict";a.r(e);var n=a("0ea1"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"4ce9":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,a("a4d3"),a("e01a");var n=function(){var t=this,e=t._self._c;return e("kdx-header-bar",{scopedSlots:t._u([{key:"header",fn:function(){return[e("Button",{attrs:{disabled:t.noManagePerm,type:"primary"},on:{click:t.addCard}},[t._v("+添加素材")])]},proxy:!0}])},[e("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"商品信息："}},[e("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入商品信息"},on:{"on-enter":t.handleSearch},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),e("FormItem",{attrs:{label:"推广文案："}},[e("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入推广文案"},on:{"on-enter":t.handleSearch},model:{value:t.model.description,callback:function(e){t.$set(t.model,"description",e)},expression:"model.description"}})],1),e("FormItem",{attrs:{label:"添加时间："}},[e("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择添加时间"},model:{value:t.model.create_time,callback:function(e){t.$set(t.model,"create_time",e)},expression:"model.create_time"}})],1),e("div",{staticClass:"ivu-form-item-btn"},[e("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),e("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)};e.render=n;var r=[];e.staticRenderFns=r},"4d4c":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,a("b0c0"),a("a4d3"),a("e01a");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-wrap"},[e("search-header",{ref:"search_header",on:{"on-search":t.handleSearch}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-list"},[e("Table",{ref:"table",attrs:{columns:t.columns,data:t.data},scopedSlots:t._u([{key:"goods",fn:function(a){var n=a.row;return[e("div",{staticClass:"content-box"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.$media(n.goods_thumb),alt:""},on:{error:t.replaceImage}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"content-text",staticStyle:{"{display":"-webkit-box}"}},[1==n.goods_has_option?e("span",{staticClass:"mark"},[t._v("多")]):t._e(),e("span",{class:t.getType(n).goodsName},[t._v(" "+t._s(t.getType(n).goodsText)+" ")]),e("span",{staticClass:"text"},[t._v(t._s(n.goods_title))])]),e("p",{staticClass:"label"},t._l(n.goods_category,(function(a,n){return e("span",{key:n},[t._v(t._s(a.name))])})),0)])])]}},{key:"description",fn:function(a){var n=a.row;return[e("div",{staticClass:"text"},[t._v(" "+t._s(n.description)+" ")])]}},{key:"action",fn:function(a){var n=a.row;return[e("div",{staticClass:"btn-box"},[e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleEdit(n.id)}}},[t._v("编辑")]),e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleDelete(n.id)}}},[t._v("删除")])],1)]}}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[e("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1)],1),t._t("default")],2)};e.render=n;var r=[];e.staticRenderFns=r},"57b9":function(t,e,a){var n=a("c65b"),r=a("d066"),i=a("b622"),o=a("cb2d");t.exports=function(){var t=r("Symbol"),e=t&&t.prototype,a=e&&e.valueOf,s=i("toPrimitive");e&&!e[s]&&o(e,s,(function(t){return n(a,this)}),{arity:1})}},"5a47":function(t,e,a){var n=a("23e7"),r=a("04f8"),i=a("d039"),o=a("7418"),s=a("7b0b"),c=!r||i((function(){o.f(1)}));n({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(s(t)):[]}})},"8a80":function(t,e,a){"use strict";a.r(e);var n=a("15ca"),r=a("4aba");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("19a9");var o=a("2877"),s=Object(o["a"])(r["default"],n["render"],n["staticRenderFns"],!1,null,"99826e76",null);e["default"]=s.exports},a4d3:function(t,e,a){a("d9f5"),a("b4f8"),a("c513"),a("e9c4"),a("5a47")},b138:function(t,e,a){var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("5530"));a("14d9");var i={data:function(){return{model:{description:"",title:"",create_time:[]},typeList:[{value:"全部",label:"全部"},{value:0,label:"图片"},{value:1,label:"视频"}]}},computed:{noManagePerm:function(){return!this.$getPermMap("material.index.manage")}},methods:{addCard:function(){this.$router.push({path:"/material/add"})},handleSearch:function(){var t=(0,r.default)({},this.model);this.$emit("on-search",t)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={description:"",title:"",create_time:[]}}}};e.default=i},b4f8:function(t,e,a){var n=a("23e7"),r=a("d066"),i=a("1a2d"),o=a("577e"),s=a("5692"),c=a("0b43"),d=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=o(t);if(i(d,e))return d[e];var a=r("Symbol")(e);return d[e]=a,u[a]=e,a}})},b597:function(t,e,a){"use strict";a.r(e);var n=a("fd40"),r=a("f53d");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);var o=a("2877"),s=Object(o["a"])(r["default"],n["render"],n["staticRenderFns"],!1,null,"5bd45718",null);e["default"]=s.exports},c513:function(t,e,a){var n=a("23e7"),r=a("1a2d"),i=a("d9b5"),o=a("0d51"),s=a("5692"),c=a("0b43"),d=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(o(t)+" is not a symbol");if(r(d,t))return d[t]}})},d9f5:function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("c65b"),o=a("e330"),s=a("c430"),c=a("83ab"),d=a("04f8"),u=a("d039"),l=a("1a2d"),f=a("3a9b"),m=a("825a"),h=a("fc6a"),p=a("a04b"),v=a("577e"),b=a("5c6c"),g=a("7c73"),y=a("df75"),_=a("241c"),x=a("057f"),S=a("7418"),k=a("06cf"),w=a("9bf2"),M=a("37e8"),O=a("d1e7"),C=a("cb2d"),P=a("5692"),F=a("f772"),$=a("d012"),R=a("90e3"),T=a("b622"),j=a("e538"),N=a("e065"),D=a("57b9"),E=a("d44e"),L=a("69f3"),B=a("b727").forEach,I=F("hidden"),z="Symbol",H="prototype",W=L.set,A=L.getterFor(z),J=Object[H],q=r.Symbol,Q=q&&q[H],G=r.TypeError,K=r.QObject,U=k.f,V=w.f,X=x.f,Y=O.f,Z=o([].push),tt=P("symbols"),et=P("op-symbols"),at=P("wks"),nt=!K||!K[H]||!K[H].findChild,rt=c&&u((function(){return 7!=g(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(t,e,a){var n=U(J,e);n&&delete J[e],V(t,e,a),n&&t!==J&&V(J,e,n)}:V,it=function(t,e){var a=tt[t]=g(Q);return W(a,{type:z,tag:t,description:e}),c||(a.description=e),a},ot=function(t,e,a){t===J&&ot(et,e,a),m(t);var n=p(e);return m(a),l(tt,n)?(a.enumerable?(l(t,I)&&t[I][n]&&(t[I][n]=!1),a=g(a,{enumerable:b(0,!1)})):(l(t,I)||V(t,I,b(1,{})),t[I][n]=!0),rt(t,n,a)):V(t,n,a)},st=function(t,e){m(t);var a=h(e),n=y(a).concat(ft(a));return B(n,(function(e){c&&!i(dt,a,e)||ot(t,e,a[e])})),t},ct=function(t,e){return void 0===e?g(t):st(g(t),e)},dt=function(t){var e=p(t),a=i(Y,this,e);return!(this===J&&l(tt,e)&&!l(et,e))&&(!(a||!l(this,e)||!l(tt,e)||l(this,I)&&this[I][e])||a)},ut=function(t,e){var a=h(t),n=p(e);if(a!==J||!l(tt,n)||l(et,n)){var r=U(a,n);return!r||!l(tt,n)||l(a,I)&&a[I][n]||(r.enumerable=!0),r}},lt=function(t){var e=X(h(t)),a=[];return B(e,(function(t){l(tt,t)||l($,t)||Z(a,t)})),a},ft=function(t){var e=t===J,a=X(e?et:h(t)),n=[];return B(a,(function(t){!l(tt,t)||e&&!l(J,t)||Z(n,tt[t])})),n};d||(q=function(){if(f(Q,this))throw G("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=R(t),a=function(t){this===J&&i(a,et,t),l(this,I)&&l(this[I],e)&&(this[I][e]=!1),rt(this,e,b(1,t))};return c&&nt&&rt(J,e,{configurable:!0,set:a}),it(e,t)},Q=q[H],C(Q,"toString",(function(){return A(this).tag})),C(q,"withoutSetter",(function(t){return it(R(t),t)})),O.f=dt,w.f=ot,M.f=st,k.f=ut,_.f=x.f=lt,S.f=ft,j.f=function(t){return it(T(t),t)},c&&(V(Q,"description",{configurable:!0,get:function(){return A(this).description}}),s||C(J,"propertyIsEnumerable",dt,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:q}),B(y(at),(function(t){N(t)})),n({target:z,stat:!0,forced:!d},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!c},{create:ct,defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:ut}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:lt}),D(),E(q,z),$[I]=!0},e01a:function(t,e,a){"use strict";var n=a("23e7"),r=a("83ab"),i=a("da84"),o=a("e330"),s=a("1a2d"),c=a("1626"),d=a("3a9b"),u=a("577e"),l=a("9bf2").f,f=a("e893"),m=i.Symbol,h=m&&m.prototype;if(r&&c(m)&&(!("description"in h)||void 0!==m().description)){var p={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=d(h,this)?new m(t):void 0===t?m():m(t);return""===t&&(p[e]=!0),e};f(v,m),v.prototype=h,h.constructor=v;var b="Symbol(test)"==String(m("test")),g=o(h.valueOf),y=o(h.toString),_=/^Symbol\((.*)\)[^)]+$/,x=o("".replace),S=o("".slice);l(h,"description",{configurable:!0,get:function(){var t=g(this);if(s(p,t))return"";var e=y(t),a=b?S(e,7,-1):x(e,_,"$1");return""===a?void 0:a}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e065:function(t,e,a){var n=a("428f"),r=a("1a2d"),i=a("e538"),o=a("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:i.f(t)})}},e538:function(t,e,a){var n=a("b622");e.f=n},f53d:function(t,e,a){"use strict";a.r(e);var n=a("b138"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},fd40:function(t,e,a){"use strict";var n=a("4ce9");a.o(n,"render")&&a.d(e,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))}}]);