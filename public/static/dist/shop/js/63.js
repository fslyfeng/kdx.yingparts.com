(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[63],{"088e":function(t,e,n){"use strict";n("fa59")},"0b07":function(t,e,n){"use strict";var a=n("39bf");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"0b1d":function(t,e,n){"use strict";n.r(e);var a=n("27ca"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"0be2":function(t,e,n){},"0bf6":function(t,e,n){"use strict";n("4c2f")},"0c25":function(t,e,n){"use strict";var a=n("21e3");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"21e3":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-header-title"},[e("div",{staticClass:"left"},[e("span",{staticClass:"title"},[t._v(t._s(t.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.text,expression:"text"}],staticClass:"text"},[t._v(t._s(t.text))]),t.$slots.tooltip?e("kdx-hint-tooltip",{attrs:{type:"form","max-width":t.maxWidth}},[t._t("tooltip")],2):t._e()],1),e("div",{staticClass:"right"},[t._t("right")],2)])};e.render=n;var a=[];e.staticRenderFns=a},2515:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var a={name:"MultiSpecification",props:{id:{type:[Number,String]}},data:function(){this.$createElement;return{value:!1,columns:[{title:"规格",key:"title"},{title:"销量(件)",key:"total",render:function(t,e){return e.row[e.column.key]?t("div",[e.row[e.column.key]]):t("div",["-"])}},{title:"销售额(元)",key:"price",render:function(t,e){return e.row[e.column.key]?t("div",[e.row[e.column.key]]):t("div",["-"])}}],data:[],loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&this.getData()},getData:function(){var t=this;this.loading=!0,this.$api.homeApi.getGoodsDetail({id:this.id}).then((function(e){t.loading=!1,0===e.error&&(t.data=e.data||[])}))},handleCancel:function(){this.setValue()},handleOk:function(){this.setValue()}}};e.default=a},"278a":function(t,e,n){"use strict";n.r(e);var a=n("0c25"),i=n("4b04");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("8904");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"24513577",null);e["default"]=s.exports},"27ca":function(t,e,n){var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("278a")),r=a(n("2d50")),o=n("d1be"),s={name:"SearchHeader",components:{HeaderTitle:i.default,CardPanel:r.default},props:{data:{type:Object,default:function(){}},loading:{type:Boolean,default:!1}},data:function(){return{date:(0,o.formatDate)(new Date(new Date-864e5),"yyyy-MM-dd"),dateOptions:{disabledDate:function(t){return t.valueOf()>Date.now()-864e5}}}},computed:{updateTimeText:function(){var t,e;return null===(t=this.$store.state.config)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.updateTimeText}},methods:{changeDate:function(t){this.date=t},okDate:function(){this.$emit("on-date-change",this.date)}}};e.default=s},"2d50":function(t,e,n){"use strict";n.r(e);var a=n("638b"),i=n("553d");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("bd0a4");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"2a17712f",null);e["default"]=s.exports},3592:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"CardPanel",props:{type:{type:String,validate:["info","success","warning","danger","blue","purple"]},icon:{type:String},image:{type:String},title:{type:String}},methods:{handleClick:function(){this.$emit("click")}}};e.default=n},"39bf":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"market-coupons-all"},[e("goods-info",{ref:"goods_info",attrs:{data:t.goods.data,loading:t.goods.loading},on:{"on-date-change":t.changeDate}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticClass:"table-list"},[e("table-list",{ref:"table_list",attrs:{data:t.table.data,total:t.table.total},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable,"on-sort":t.handleSort,"on-table-date-change":t.changeTableDate}})],1),t._t("default")],2)};e.render=n;var a=[];e.staticRenderFns=a},"3e12":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var a={name:"HeaderTitle",props:{title:{type:[String,Number]},text:{type:[String,Number]},maxWidth:{type:Number}}};e.default=a},"3f6b":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"data-goods-info-header"},[e("header-title",{attrs:{title:"商品信息",text:t.updateTimeText,"max-width":340},scopedSlots:t._u([{key:"right",fn:function(){return[e("DatePicker",{staticClass:"width-250",attrs:{type:"date",options:t.dateOptions,confirm:"","split-panels":"",placeholder:"时间",clearable:!1},on:{"on-change":t.changeDate,"on-ok":t.okDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})]},proxy:!0},{key:"tooltip",fn:function(){return[e("Form",{attrs:{"label-width":115}},[e("FormItem",{attrs:{label:"被浏览商品数量/件："}},[t._v(" 统计时间内，商品详情页浏览次数大于0的商品数 ")]),e("FormItem",{attrs:{label:"加购商品数量/件："}},[t._v(" 统计时间内，成功添加至购物车的商品件数。 ")]),e("FormItem",{attrs:{label:"购买商品数量/件："}},[t._v(" 统计时间内，成功付款的商品件数之和（包含退款订单） ")])],1)]},proxy:!0}])}),e("Row",[e("Col",{attrs:{span:"8"}},[e("card-panel",{attrs:{type:"warning",icon:"icon-fenxiao-leijiyongjin-",title:"被浏览商品数量(件)"}},[t._v(" "+t._s(t.data.goods_pv_count||"0")+" ")])],1),e("Col",{attrs:{span:"8"}},[e("card-panel",{attrs:{type:"warning",icon:"icon-shuju-jiagou",title:"加购商品数量(件)"}},[t._v(" "+t._s(t.data.cart_goods_count||"0")+" ")])],1),e("Col",{attrs:{span:"8"}},[e("card-panel",{attrs:{type:"warning",icon:"icon-shuju-shouchu",title:"购买商品数量(件)"}},[t._v(" "+t._s(t.data.pay_goods_count||"0")+" ")])],1)],1)],1)};e.render=n;var a=[];e.staticRenderFns=a},"4b04":function(t,e,n){"use strict";n.r(e);var a=n("3e12"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"4c2f":function(t,e,n){},"553d":function(t,e,n){"use strict";n.r(e);var a=n("3592"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"59a2":function(t,e,n){"use strict";n.r(e);var a=n("8258"),i=n("b9ecb");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("088e");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"484ede0a",null);e["default"]=s.exports},"638b":function(t,e,n){"use strict";var a=n("bb7b4");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"653c":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{title:"多规格商品",width:880},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"multi-specification"},[e("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{border:"",columns:t.columns,data:t.data}})],1)])};e.render=n;var a=[];e.staticRenderFns=a},"6c14":function(t,e,n){var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i=a(n("278a")),r=n("d1be"),o=a(n("59a2")),s={name:"TableList",components:{HeaderTitle:i.default,MultiSpecification:o.default},props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},data:function(){var t=this;this.$createElement;return{columns:[{title:"商品",key:"shop",minWidth:150,render:function(e,n){return e("div",{class:"shop-box"},[e("div",{class:"image"},[e("img",{attrs:{src:t.$media(n.row.thumb)},on:{error:function(e){t.replaceImage(e)}}})]),e("div",{class:"content"},[e("div",{class:"content-text"},[e("span",{class:"mark",style:{display:"1"===n.row.has_option?"inline-block":"none"}},["多"]),e("span",{class:"text"},[n.row.title])])])])}},{title:"销售量(件)",key:"total",sortable:"custom"},{title:"销售额",key:"price",sortable:"custom",render:function(t,e){return t("div",["￥",e.row[e.column.key]])}},{title:"浏览量(次)",key:"pv",sortable:"custom"},{title:"商品状态",key:"status",render:function(t,e){return"1"==e.row.status?t("kdx-status-text",{attrs:{type:"success"}},["出售中"]):"2"==e.row.status?t("kdx-status-text",{attrs:{type:"danger"}},["已售罄"]):"3"==e.row.status?t("kdx-status-text",{attrs:{type:"warning"}},["仓库中"]):"4"==e.row.status?t("kdx-status-text",{attrs:{type:"disabled"}},["回收站"]):void 0}},{title:"操作",key:"action",width:100,render:function(e,n){return"1"===n.row.has_option?e("div",{attrs:{className:"action"}},[e("Button",{attrs:{type:"text"},on:{click:function(){t.lookDetail(n.row)}}},["查看详情"])]):e("div",["-"])}}],page:{pageSize:10,pageNumber:1},date:[(0,r.formatDate)(new Date(new Date-2592e6),"yyyy-MM-dd"),(0,r.formatDate)(new Date(new Date-864e5),"yyyy-MM-dd")],dateOptions:{disabledDate:function(t){return t.valueOf()>Date.now()-864e5}},id:""}},methods:{reset:function(){var t;null===(t=this.$refs["page"])||void 0===t||t.reset()},changeDate:function(t){this.date=t},okDate:function(){this.$emit("on-table-date-change",this.date)},changePage:function(t){this.$emit("on-page-change",t)},changeSort:function(t){var e=t.key,n=t.order;this.$emit("on-sort",{sort:e,by:n})},lookDetail:function(t){var e=this;this.id=t.id,this.$nextTick((function(){e.$refs["multi_specification"].setValue()}))}}};e.default=s},7092:function(t,e,n){"use strict";n.r(e);var a=n("9d54"),i=n("0b1d");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("7c2c");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"384b328c",null);e["default"]=s.exports},"7c2c":function(t,e,n){"use strict";n("8e4f")},8258:function(t,e,n){"use strict";var a=n("653c");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))},8904:function(t,e,n){"use strict";n("d7bb")},"894c":function(t,e,n){"use strict";n("0be2")},"8e4f":function(t,e,n){},9771:function(t,e,n){"use strict";n.r(e);var a=n("fbb6"),i=n("b0a6");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("0bf6");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"0103e61d",null);e["default"]=s.exports},"9d54":function(t,e,n){"use strict";var a=n("3f6b");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))},b0a6:function(t,e,n){"use strict";n.r(e);var a=n("6c14"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},b9ecb:function(t,e,n){"use strict";n.r(e);var a=n("2515"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},bb7b4:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-card-panel",on:{click:t.handleClick}},[e("div",{staticClass:"card-panel-box",class:["card-panel-".concat(t.type)]},[t.icon?e("div",{staticClass:"icon"},[e("span",{class:["iconfont",t.icon]})]):t.image?e("div",{staticClass:"image"},[e("img",{attrs:{src:t.image,alt:""}})]):t._e(),e("div",{staticClass:"card-panel-description"},[e("p",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),e("p",{staticClass:"data"},[t._t("default")],2)])])])};e.render=n;var a=[];e.staticRenderFns=a},bd0a4:function(t,e,n){"use strict";n("e1ea")},c527:function(t,e,n){"use strict";n.r(e);var a=n("ee4e"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},d7bb:function(t,e,n){},d984:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-goods-list"},[e("header-title",{attrs:{title:"全部排行"},scopedSlots:t._u([{key:"right",fn:function(){return[e("DatePicker",{staticClass:"width-250",attrs:{type:"daterange",options:t.dateOptions,confirm:"","split-panels":"",placeholder:"时间",clearable:!1},on:{"on-change":t.changeDate,"on-ok":t.okDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})]},proxy:!0}])}),e("Table",{ref:"table",attrs:{columns:t.columns,data:t.data},on:{"on-sort-change":t.changeSort}}),e("div",{staticClass:"footer-page"},[e("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1),e("multi-specification",{ref:"multi_specification",attrs:{id:t.id}})],1)};e.render=n;var a=[];e.staticRenderFns=a},e1ea:function(t,e,n){},ee4e:function(t,e,n){var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("4e82");var i=a(n("7092")),r=a(n("9771")),o=n("d1be"),s={name:"index",components:{GoodsInfo:i.default,TableList:r.default},data:function(){return{goods:{data:{},loading:!1,date:(0,o.formatDate)(new Date(new Date-864e5),"yyyy-MM-dd")},table:{data:[],total:0,loading:!1,date:{start_time:(0,o.formatDate)(new Date(new Date-2592e6),"yyyy-MM-dd"),end_time:(0,o.formatDate)(new Date(new Date-864e5),"yyyy-MM-dd")}},page:{pageSize:10,pageNumber:1},sort:{}}},methods:{changeDate:function(t){this.goods.date=t,this.getGoods()},changeTableDate:function(t){this.table.date.start_time=t[0],this.table.date.end_time=t[1],this.refreshTable()},handleSort:function(t){this.sort=t,this.refreshTable()},getList:function(){var t=this;this.table.loading=!0;var e=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.sort,this.table.date);this.$api.homeApi.getStatisticsGoodsRank(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list,t.table.total=e.total)}))},getGoods:function(){var t=this;this.goods.loading=!0,this.$api.homeApi.getGoodsInfo({goods_date:this.goods.date}).then((function(e){t.goods.loading=!1,0===e.error&&(t.goods.data=e)}))},refreshTable:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["table_list"])||void 0===t||t.reset(),this.getList()},changePage:function(t){this.page=t,this.getList()}},mounted:function(){this.getGoods(),this.refreshTable()}};e.default=s},f6d9:function(t,e,n){"use strict";n.r(e);var a=n("0b07"),i=n("c527");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("894c");var o=n("2877"),s=Object(o["a"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"18a8bdf0",null);e["default"]=s.exports},fa59:function(t,e,n){},fbb6:function(t,e,n){"use strict";var a=n("d984");n.o(a,"render")&&n.d(e,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]}))}}]);