(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[193],{2593:function(e,o,t){"use strict";t.r(o);var i=t("f2b0"),a=t("954f");for(var s in a)["default"].indexOf(s)<0&&function(e){t.d(o,e,(function(){return a[e]}))}(s);t("e482");var n=t("2877"),r=Object(n["a"])(a["default"],i["render"],i["staticRenderFns"],!1,null,"af99700c",null);o["default"]=r.exports},"45a6":function(e,o,t){Object.defineProperty(o,"__esModule",{value:!0}),o.staticRenderFns=o.render=void 0,t("a15b");var i=function(){var e=this,o=e._self._c;return o("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[o("Button",{staticClass:"primary-long",on:{click:e.handleSave}},[e._v("提交")])]},proxy:!0}])},[o("div",{staticClass:"accessory-setting"},[o("kdx-form-title",[e._v("附件设置")]),o("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[o("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"图片类型：",prop:"imageType"}},[o("CheckboxGroup",{model:{value:e.model.imageType,callback:function(o){e.$set(e.model,"imageType",o)},expression:"model.imageType"}},e._l(e.optionType.image,(function(t){return o("Checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1),o("kdx-hint-text",[e._v("仅支持"+e._s(e.optionType.image.join("、")))])],1),o("FormItem",{attrs:{label:"图片大小限制：",prop:"imageSize"}},[o("Input",{staticClass:"width-160",model:{value:e.model.imageSize,callback:function(o){e.$set(e.model,"imageSize",o)},expression:"model.imageSize"}},[o("span",{attrs:{slot:"append"},slot:"append"},[e._v("KB")])]),o("kdx-hint-text",[e._v("默认为 10240KB")])],1),o("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"图片压缩：",prop:"imageCompress"}},[o("RadioGroup",{model:{value:e.model.imageCompress,callback:function(o){e.$set(e.model,"imageCompress",o)},expression:"model.imageCompress"}},[o("Radio",{attrs:{label:1}},[e._v("开启")]),o("Radio",{attrs:{label:0}},[e._v("关闭")])],1),1===e.model.imageCompress?[o("Input",{staticClass:"width-160",model:{value:e.model.imageCompressWidth,callback:function(o){e.$set(e.model,"imageCompressWidth",o)},expression:"model.imageCompressWidth"}},[o("span",{attrs:{slot:"append"},slot:"append"},[e._v("PX")])])]:e._e(),o("kdx-hint-text",[e._v("手机端图片是否开启压缩")])],2),o("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"音频类型：",prop:"audioType"}},[o("CheckboxGroup",{model:{value:e.model.audioType,callback:function(o){e.$set(e.model,"audioType",o)},expression:"model.audioType"}},e._l(e.optionType.audio,(function(t){return o("Checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),o("FormItem",{attrs:{label:"音频大小限制：",prop:"audioSize"}},[o("Input",{staticClass:"width-160",model:{value:e.model.audioSize,callback:function(o){e.$set(e.model,"audioSize",o)},expression:"model.audioSize"}},[o("span",{attrs:{slot:"append"},slot:"append"},[e._v("KB")])]),o("kdx-hint-text",[e._v("默认为 20480KB")])],1),o("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"视频类型：",prop:"videoType"}},[o("CheckboxGroup",{model:{value:e.model.videoType,callback:function(o){e.$set(e.model,"videoType",o)},expression:"model.videoType"}},e._l(e.optionType.video,(function(t){return o("Checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),o("FormItem",{attrs:{label:"视频大小限制：",prop:"videoSize"}},[o("Input",{staticClass:"width-160",model:{value:e.model.videoSize,callback:function(o){e.$set(e.model,"videoSize",o)},expression:"model.videoSize"}},[o("span",{attrs:{slot:"append"},slot:"append"},[e._v("KB")])]),o("kdx-hint-text",[e._v("默认为 10240KB")])],1)],1)],1)])};o.render=i;var a=[];o.staticRenderFns=a},"4b55":function(e,o,t){},"954f":function(e,o,t){"use strict";t.r(o);var i=t("f8e5"),a=t.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){t.d(o,e,(function(){return i[e]}))}(s);o["default"]=a.a},e482:function(e,o,t){"use strict";t("4b55")},f2b0:function(e,o,t){"use strict";var i=t("45a6");t.o(i,"render")&&t.d(o,"render",(function(){return i["render"]})),t.o(i,"staticRenderFns")&&t.d(o,"staticRenderFns",(function(){return i["staticRenderFns"]}))},f8e5:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={data:function(){return{model:{imageType:[],imageSize:"",imageCompress:1,imageCompressWidth:"",videoType:[],videoSize:"",audioType:[],audioSize:""},rules:{imageType:[{required:!0,type:"array",message:"图片类型必填"}],audioType:[{required:!0,type:"array",message:"音频类型必填"}],videoType:[{required:!0,type:"array",message:"视频类型必填"}]},optionType:{usable_type:[],image:[],video:[]},loading:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$api.systemApi.getAccessorySetting().then((function(o){var t=o.error,i=o.settings,a=o.usable_type;if(0===t){e.optionType=a;var s=i.image,n=i.video,r=i.audio;e.model={imageType:(null===s||void 0===s?void 0:s.extensions)||[],imageSize:null===s||void 0===s?void 0:s.max_size,imageCompress:null===s||void 0===s?void 0:s.compress,imageCompressWidth:null===s||void 0===s?void 0:s.compress_width,videoType:n.extensions,videoSize:n.max_size,audioType:r.extensions,audioSize:r.max_size}}}))},handleSave:function(){var e=this;this.$refs["form"].validate((function(o){if(o){var t={max_size:e.model.imageSize,extensions:e.model.imageType,compress:e.model.imageCompress,compress_width:e.model.imageCompressWidth},i={max_size:e.model.videoSize,extensions:e.model.videoType},a={max_size:e.model.audioSize,extensions:e.model.audioType},s={image:t,video:i,audio:a};e.$api.systemApi.setAccessorySetting(s).then((function(o){0===o.error&&(e.$Message.success("附件设置保存成功"),e.getData())}))}}))},resetModel:function(){this.model={}}}};o.default=t}}]);