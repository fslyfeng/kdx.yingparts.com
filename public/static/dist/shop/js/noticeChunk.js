(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{"084ab":function(e,t,a){"use strict";a("35df")},"09e3":function(e,t,a){"use strict";a.r(t);var n=a("e0d5"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"0a3c":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("c7eb")),i=n(a("1da1"));a("d3b7");var r={components:{},props:{},data:function(){return{loading:!1,submitLoading:!1,data:{type:"aliyun",aliyun:{access_key_id:"",access_key_secret:""},juhe:{app_key:""}},rule:{"aliyun.access_key_secret":[{required:!0,message:"请填写Access Key Secret",trigger:"blur"}],"aliyun.access_key_id":[{required:!0,message:"请填写Access Key ID",trigger:"blur"}],"juhe.app_key":[{required:!0,message:"请填写App Key",trigger:"blur"}]}}},computed:{},created:function(){},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.loading=!0,this.$api.noticeApi.getAccessKey({}).then((function(t){e.data=t.settings,console.log(e.data,"data----"),e.loading=!1}))},validateForm:function(){var e=this;return new Promise((function(t,a){e.$refs["form"].validate((function(e){e?t(e):a()}))}))},handleSave:function(){this.submitLoading=!0,this.customForm(this.data)},customForm:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.validateForm();case 3:t.submit(e),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),t.submitLoading=!1;case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},submit:function(e){var t=this;this.$api.noticeApi.setAccessKey(e).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.getDetail()),t.submitLoading=!1}))}}};t.default=r},"12ae":function(e,t,a){"use strict";a.r(t);var n=a("9788"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"168d":function(e,t,a){"use strict";var n=a("2b65");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"1a5d":function(e,t,a){"use strict";var n=a("20d7");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"1c10":function(e,t,a){"use strict";a.r(t);var n=a("d844"),s=a("68a8");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("e1f7");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},"207d":function(e,t,a){"use strict";a("895b")},"20d7":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notice-seller-list-box"},[t("div",{staticClass:"line"}),t("div",{staticClass:"notice-seller-list-index"},[t("notice-list",{attrs:{type:e.type},on:{toDetail:e.toDetail}})],1)])};t.render=a;var n=[];t.staticRenderFns=n},"2b08f":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",[t("div",{staticClass:"weixin-template-add"},[t("Form",{ref:"form",attrs:{"label-width":120}},[t("FormItem",{attrs:{label:"模板ID："}},[t("span",[e._v(e._s(e.templateData.template_id))])]),t("FormItem",{attrs:{label:"模板名称："}},[t("span",[e._v(e._s(e.templateData.title))])]),t("FormItem",{attrs:{label:"所属行业："}},[t("span",[e._v(e._s(e.templateData.deputy_industry))])]),t("FormItem",{attrs:{label:"模板格式："}},[t("div",{staticClass:"template-content"},[e._v(e._s(e.templateData.content))])]),t("FormItem",{attrs:{label:"模板示例："}},[t("div",{staticClass:"template-content"},[e._v(e._s(e.templateData.example))])])],1)],1)])};t.render=a;var n=[];t.staticRenderFns=n},"2b65":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notice-buyer-list-box"},[t("div",{staticClass:"line"}),t("div",{staticClass:"notice-buyer-list-index"},[t("notice-list",{attrs:{type:e.type},on:{toDetail:e.toDetail}})],1)])};t.render=a;var n=[];t.staticRenderFns=n},"2f9b":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("b0c0");var n=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"sms-template-index"},[t("kdx-form-title",[e._v(e._s(e.type))]),t("Form",{ref:"form",attrs:{"label-width":120,model:e.temData,rules:e.rules}},[t("FormItem",{attrs:{label:"模板ID：",prop:"sms_tpl_id"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入模板ID"},model:{value:e.temData.sms_tpl_id,callback:function(t){e.$set(e.temData,"sms_tpl_id",t)},expression:"temData.sms_tpl_id"}}),t("kdx-hint-text",[e._v("在阿里云短信平台申请且审核通过的短信模板ID（模版CODE）")])],1),t("FormItem",{attrs:{label:"模板名称：",prop:"name"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入模板名称",maxlength:"30","show-word-limit":""},model:{value:e.temData.name,callback:function(t){e.$set(e.temData,"name",t)},expression:"temData.name"}}),t("kdx-hint-text",[e._v("自定义填写，便于后台搜索查询选择。")])],1),t("FormItem",{attrs:{label:"发送条件",prop:"scene_code"}},[t("Select",{staticClass:"width-340",model:{value:e.temData.scene_code,callback:function(t){e.$set(e.temData,"scene_code",t)},expression:"temData.scene_code"}},e._l(e.sceneList,(function(a){return t("Option",{key:a.scene_code,attrs:{value:a.scene_code}},[e._v(e._s(a.title)+" ")])})),1),t("kdx-hint-text",[e._v("选择模板发送的业务场景")])],1),t("FormItem",{attrs:{label:"模板内容：",prop:"content"}},[t("Input",{staticClass:"width-340",attrs:{type:"textarea",placeholder:"变量格式：${code}；示例：您的验证码${code}，该验证码5分钟内有效，请勿泄漏于他人！"},on:{"on-change":e.getVars},model:{value:e.temData.content,callback:function(t){e.$set(e.temData,"content",t)},expression:"temData.content"}}),t("kdx-hint-text",[t("p",[e._v("验证码模板只支持验证码作为变量；变量替换值<=6位数字或字母")]),t("p",[e._v("不能发送营销/贷款/借款/中奖/抽奖类短信,不支持金融理财&房产通知类短信(验证码除外)")])])],1),t("FormItem",{attrs:{label:"数据值："}},[t("span",[e._v(e._s(e.errors))]),e._l(e.tableData,(function(a,n){return t("div",{key:n,staticClass:"flex var-box"},[t("Input",{staticClass:"width-300",attrs:{readonly:!0},model:{value:a.data_temp,callback:function(t){e.$set(a,"data_temp",t)},expression:"item.data_temp"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("短信模板变量")])]),t("div",{staticClass:"shop-var"},[e._v("商城变量")]),t("Cascader",{attrs:{data:e.codeList,"render-format":e.format},model:{value:a.data_shop,callback:function(t){e.$set(a,"data_shop",t)},expression:"item.data_shop"}})],1)})),t("kdx-hint-text",[e._v("阿里短信数据只是用${号，如${code}。需在数据值中填写商城的变量")])],2),t("FormItem",{attrs:{label:"短信签名：",prop:"sms_sign"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入签名",maxlength:"12","show-word-limit":""},model:{value:e.temData.sms_sign,callback:function(t){e.$set(e.temData,"sms_sign",t)},expression:"temData.sms_sign"}}),t("kdx-hint-text",[e._v("在阿里云短信平台申请且审核通过的短信签名")])],1),t("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"状态：",prop:"state"}},[t("RadioGroup",{model:{value:e.temData.state,callback:function(t){e.$set(e.temData,"state",t)},expression:"temData.state"}},[t("Radio",{attrs:{label:1}},[t("span",[e._v("启用")])]),t("Radio",{attrs:{label:0}},[t("span",[e._v("禁用")])])],1),t("kdx-hint-text",[e._v("关闭后将不能调用")])],1)],1),t("sms-test",{ref:"testSms",attrs:{tableData:e.tableData},on:{send:e.send}})],1)])};t.render=n;var s=[];t.staticRenderFns=s},"302f":function(e,t,a){"use strict";a.r(t);var n=a("4e2b"),s=a("d8e2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("207d");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"6ea671f4",null);t["default"]=l.exports},"34b5":function(e,t,a){},"35df":function(e,t,a){},3869:function(e,t,a){"use strict";a.r(t);var n=a("1a5d"),s=a("12ae");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("084ab");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},"3ac9":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");var s=n(a("487f")),i={name:"index",components:{noticeList:s.default},props:{},data:function(){return{type:{}}},computed:{},watch:{"$route.params":{handler:function(e){this.type={group_name:"buyer_notice",group_item_name:e.type}},immediate:!0}},created:function(){},mounted:function(){},methods:{toDetail:function(e){this.$router.push({path:"/notice/buyer/".concat(this.type.group_item_name,"/index"),query:{type_code:e.type_code,items:e.items}})}}};t.default=i},"3af6":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("5530")),i=n(a("c7eb")),r=n(a("1da1"));a("14d9"),a("ac1f"),a("00b4"),a("5319"),a("d3b7"),a("b64b");var l=n(a("8f03")),o=n(a("fc21")),c={name:"index",components:{smsTest:o.default},props:{},data:function(){return{type:"添加短信模板",id:"",loading:!1,temData:{type:"aliyun",sms_tpl_id:"",name:"",scene_code:"",content:"",sms_sign:"",state:1},tableData:[],codeList:l.default,sceneList:[],errors:"未找到任何变量",rules:{sms_tpl_id:[{required:!0,message:"请填写模板ID"}],name:[{required:!0,message:"请填写模板名称"}],scene_code:[{required:!0,message:"请填写模板名称"}],content:[{required:!0,message:"请填写模板内容"}],sms_sign:[{required:!0,message:"请填写短信签名"}],state:[{required:!0,message:"请选择状态"}]}}},computed:{},created:function(){},mounted:function(){"edit"==this.$route.params.type&&(this.type="编辑短信模板",this.id=this.$route.query.id,this.getDetail()),this.getList()},methods:{getDetail:function(){var e=this;this.$api.noticeApi.getSmsTemDetail({id:this.id}).then((function(t){if(0==t.error){for(var a in e.temData=t,t.data.temp_code)e.tableData.push({data_temp:a,data_shop:t.data.temp_code[a]});0==e.tableData.length?e.errors="未找到任何变量":e.errors=""}}))},getList:function(){var e=this;this.$api.noticeApi.getSmsScene().then((function(t){0==t.error&&(e.sceneList=t.list)}))},format:function(e,t){var a=t.length-1,n=t[a]||!1;if(n&&n.value)return n.value},getVars:function(){var e=!0,t=this.temData.type;if(""!=t){var a=this.temData.content;if(this.temData.content)if(this.tableData=[],this.errors="","juhe"!=t&&"aliyun"!=t||-1==a.indexOf("【")&&-1==a.indexOf("】"))if("ihuyi"!=t||"【变量】"!=a.substr(0,4)){if("ihuyi"==t||"dxton"==t){var n=/【变量】/gi,s=0;while(e){var i=n.test(a);if(!(i>0))break;s++}if(s<=0)return void(this.tableData=[]);for(var r=1;r<=s;r++)this.tableData.push({data_temp:"",data_shop:[]})}else if("juhe"==t||"aliyun"==t||"smscn"==t||"submail"==t){var l=/\\#(\w+)\\#/gi;"aliyun"==t?l=/\$\{(\w+)\}/gi:"smscn"==t?l=/\{\$(\w+)\}/gi:"submail"==t&&(l=/@var\((\w+)\)/gi);while(e){var o=l.exec(a);if(null==o)break;if("aliyun"==t&&("id"==o[1]||"site"==o[1]||"email"==o[1]||"mobile"==o[1]||"nick"==o[1])){this.errors="模板内容不能使用${email},${mobile},${id},${nick},${site} 变量!";var c=a.replace(/\$\{id\}/gi,"");return c=c.replace(/\$\{site\}/gi,""),c=c.replace(/\$\{nick\}/gi,""),c=c.replace(/\$\{email\}/gi,""),c=c.replace(/\$\{mobile\}/gi,""),void console.log(c,"nvaluenvaluenvalue")}this.tableData.push({data_temp:o[1],data_shop:[]})}}0==this.tableData.length&&(this.errors="未找到任何变量")}else this.errors="模板内容不以【变量】开头!";else this.errors="模板内容不能包含【 或 】字符!"}},handleSave:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.validateForm();case 4:e.submit(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},validateForm:function(){var e=this;return new Promise((function(t,a){e.$refs["form"].validate((function(e){e?t(e):a()}))}))},submit:function(){var e=this,t=(0,s.default)((0,s.default)({},this.temData),{},{data:{data:{},temp_code:{}}});this.id&&(t.id=this.id);for(var a=0;a<this.tableData.length;a++)console.log(a,this.tableData[a]),t.data.data[this.tableData[a].data_temp]=this.tableData[a].data_shop[this.tableData[a].data_shop.length-1],t.data.temp_code[this.tableData[a].data_temp]=this.tableData[a].data_shop;console.log(t),this.$api.noticeApi[t.id?"editSms":"addSms"](t).then((function(t){0==t.error&&(e.$Message.success("提交成功"),e.$router.push({path:"/notice/smsTemplate/list"})),e.loading=!1}))},send:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateForm();case 2:return t.next=4,e.$refs.testSms.validateTestForm().then((function(t){var a={mobile:t.mobile,data:t.data,sms_sign:e.temData.sms_sign,sms_tpl_id:e.temData.sms_tpl_id,type:e.temData.type};e.id&&(a.id=e.id);var n=Object.keys(a.data);0===n.length&&(a.data=""),e.$api.noticeApi.sendData(a).then((function(t){0==t.error&&e.$Message.success("操作成功")}))}));case 4:case"end":return t.stop()}}),t)})))()}}};t.default=c},"40bf":function(e,t,a){"use strict";a.r(t);var n=a("8df4d"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},4195:function(e,t,a){},4443:function(e,t,a){"use strict";a("994d")},"44e74":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("notice-index",{attrs:{is_showNoticeMember:!0}})};t.render=a;var n=[];t.staticRenderFns=n},"477a":function(e,t,a){"use strict";a.r(t);var n=a("d4d4"),s=a("4ed1b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("7402");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},"487f":function(e,t,a){"use strict";a.r(t);var n=a("8294"),s=a("c20b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("4443");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"5df3f399",null);t["default"]=l.exports},"4b25":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("841c"),a("14d9"),a("d81d"),a("d3b7"),a("159b"),a("b680");var s=n(a("5530")),i={props:{},data:function(){var e=this;this.$createElement;return{loading:!1,sendModal:!1,sendData:{},sms_template_quantity:"",submitSendData:{mobile:""},page:{pageSize:10,pageNumber:1},isSelectAll:!1,selectRows:[],search:{name:""},type:[{id:"all",text:"全部"},{id:"aliyun",text:"阿里云"},{id:"juhe",text:"聚合"}],status:[{id:"all",text:"全部"},{id:0,text:"禁用"},{id:1,text:"启用"}],data:[],columns:[{type:"selection",width:40,align:"center"},{title:"模板ID",key:"sms_tpl_id"},{title:"模板名称",key:"name"},{title:"短信内容",key:"content"},{title:"发送条件",key:"scene"},{title:"状态",key:"state",render:function(e,t){return 1==t.row.state?e("kdx-tag-label",{attrs:{type:"success"}},["应用中"]):e("kdx-tag-label",{attrs:{type:"disabled"}},["未应用"])}},{title:"创建时间",key:"created_at"},{title:"操作",key:"action",align:"right",render:function(t,a){return t("div",[t("Button",{attrs:{type:"text"},class:"rr-brand-color",on:{click:function(){return e.changeState(a.row)}}},[1==a.row.state?"禁用":"启用"]),t("Button",{attrs:{type:"text"},class:"rr-brand-color marginL-10",on:{click:function(){e.handleEdit(a.row.id,a.row.audit)}}},["编辑"]),t("Button",{attrs:{type:"text"},class:"rr-brand-color marginL-10",on:{click:function(){e.handleDelete(a.row.id)}}},["删除"])])}}],sendRule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机号错误",trigger:"blur"}]},recharge:{list:[]}}},computed:{selectDisabled:function(){return 0===this.selectRows.length},rechargeDisabled:function(){var e,t,a,n=null===(e=this.$store.state)||void 0===e||null===(t=e.config)||void 0===t||null===(a=t.apps)||void 0===a?void 0:a.notice;return 1!=(null===n||void 0===n?void 0:n.is_forever)&&1==(null===n||void 0===n?void 0:n.about_expire)&&1!==(null===n||void 0===n?void 0:n.is_free)&&0==(null===n||void 0===n?void 0:n.shop_app_status)}},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0;var t=(0,s.default)((0,s.default)({},this.search),{},{type:"all"==this.search.type?"":this.search.type,state:"all"==this.search.state?"":this.search.state,pagesize:this.page.pageSize,page:this.page.pageNumber,pager:1});this.$api.noticeApi.getSmsList(t).then((function(t){0==t.error&&(e.page.total=t.total,e.data=t.list,e.sms_template_quantity=t.sms_template_quantity),e.loading=!1}))},handlerAdd:function(){0!=this.sms_template_quantity?this.$router.push({path:"/notice/smsTemplate/add"}):this.$Message.error("您的短信模板数量已用完")},selectChange:function(e){this.selectRows=e,this.isSelectAll=this.selectRows.length===this.data.length},checkboxChange:function(e){this.$refs["table"].selectAll(e)},handleEdit:function(e,t){this.$router.push({path:"/notice/smsTemplate/edit",query:{id:e,disabled:0!=t}})},changeState:function(e){var t=this;this.$api.noticeApi.changeSmsState({id:e.id,state:0==e.state?1:0}).then((function(e){0==e.error&&(t.getList(),t.$Message.success("修改成功"))}))},bulkchangeState:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认批量修改",onOk:function(){var a=t.selectRows.map((function(e){return e.id}));t.$api.noticeApi.changeSmsState({id:a,state:e}).then((function(e){0==e.error&&(t.getList(),t.$Message.success("修改成功"))}))},onCancel:function(){}})},handleDelete:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认删除",onOk:function(){t.$api.noticeApi.deleteSms({id:e}).then((function(e){0==e.error&&(t.getList(),t.$Message.success("删除成功"))}))},onCancel:function(){}})},bulkDelete:function(){var e=this;this.$Modal.confirm({title:"提示",content:"确认批量删除",onOk:function(){var t=e.selectRows.map((function(e){return e.id}));e.$api.noticeApi.deleteSms({id:t}).then((function(t){0==t.error&&(e.getList(),e.$Message.success("删除成功"))}))},onCancel:function(){}})},reset:function(){this.$refs["page"].reset()},changePage:function(e){this.page=e,this.getList()},handleSearch:function(){this.getList()},handleCancel:function(){this.sendModal=!1},handleOk:function(){var e=this;this.$refs["sendModal"].validate((function(t){if(t){var a=e.sendData.data.every((function(e){return e.data_shop}));a?e.submitSend():e.$Message.error("请填写数据值")}}))},submitSend:function(){for(var e=this,t={id:this.sendData.id,mobile:this.submitSendData.mobile},a={},n=0;n<this.sendData.data.length;n++)a[this.sendData.data[n].data_temp]=this.sendData.data[n].data_shop;t.data=a,this.$api.noticeApi.setSendData(t).then((function(t){0==t.error&&e.$Message.success("发送成功"),e.sendModal=!1}))},handleRecharge:function(){this.getBuyList()},rechargeRefresh:function(){this.reset(),this.getList()},handleReset:function(){this.search={type:"all",state:"all",keyword:""},this.getList()},getBuyList:function(){var e=this;this.loading=!0,this.$api.noticeApi.getSmsPlan().then((function(t){var a;e.loading=!1;var n=[];null!==(a=t.template_plan)&&void 0!==a&&a.length?(t.template_plan.forEach((function(e){n.push({id:e.id,app_id:e.app_id,title:"".concat(e.duration,"条"),price:e.price,number:e.duration,priceItem:parseFloat(e.price/e.duration).toFixed(3),unit:"条"})})),e.recharge.list=n,e.$nextTick((function(){e.$refs["plan_recharge"].setValue()}))):e.$Modal.confirm({title:"提示",content:"还未配置短信模板购买套餐，请联系管理员进行配置",onOk:function(){}})}))}}};t.default=i},"4df8":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("d81d"),a("ac1f"),a("841c");var n={components:{},props:{},data:function(){var e=this;this.$createElement;return{loading:!1,isSelectAll:!1,selectRows:[],search:{keyword:""},data:[],industry:[],columns:[{type:"selection",width:40,align:"center"},{title:"模板名称",key:"title"},{title:"所属行业",key:"primary_industry",render:function(e,t){return e("div",[t.row.primary_industry+(t.row.deputy_industry?"/"+t.row.deputy_industry:"")])}},{title:"操作",key:"action",render:function(t,a){return t("div",[t("span",{class:"rr-brand-color pointer",on:{click:function(){e.handleEdit(a.row.template_id)}}},["查看"]),t("span",{class:"rr-brand-color marginL-10 pointer",on:{click:function(){e.handleDelete(a.row.template_id)}}},["删除"])])}}]}},computed:{selectDisabled:function(){return 0===this.selectRows.length}},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.$api.noticeApi.getWexinTemplate({}).then((function(t){e.loading=!1,0==t.error&&(e.data=t.template_list,e.industry=t.industry)}))},selectChange:function(e){this.selectRows=e,this.isSelectAll=this.selectRows.length===this.data.length},checkboxChange:function(e){this.$refs["table"].selectAll(e)},handleEdit:function(e){this.$router.push({path:"/notice/wxappTemplate/index",query:{id:e}})},handleDelete:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认删除该模板",onOk:function(){t.$api.noticeApi.deleteWexinTemplate({id:e}).then((function(e){0==e.error&&(t.getList(),t.$Message.success("删除成功"))}))},onCancel:function(){}})},bulkDelete:function(){var e=this;this.$Modal.confirm({title:"提示",content:"确认批量删除",onOk:function(){var t=e.selectRows.map((function(e){return e.template_id}));e.$api.noticeApi.bulkDeleteWexinTemplate({ids:t}).then((function(t){0==t.error&&(e.getList(),e.$Message.success("删除成功"))}))},onCancel:function(){}})},reset:function(){this.$refs["page"].reset()},add:function(){var e=this;this.search.keyword?this.$api.noticeApi.addWexinTemplate({id:this.search.keyword}).then((function(t){0==t.error&&(e.getList(),e.$Message.success("添加成功"))})):this.$Message.error("请输入模板编码")}}};t.default=n},"4e2b":function(e,t,a){"use strict";var n=a("8eb2");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"4eb9":function(e,t,a){"use strict";a.r(t);var n=a("acd9"),s=a("8878");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("9f83");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},"4ed1":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("25f0");var s=n(a("ade3")),i=n(a("c7eb")),r=n(a("1da1")),l=n(a("5530")),o=n(a("15fd")),c=["status","type"],d=["status","type"],u={name:"index",components:{},props:{},data:function(){return{loading:!0,submitLoading:!1,model:{status:0,type:"qq",host:"",port:"",username:"",shop_name:"",mailer_title:"",password:"",ssl:"0",test_address:""},cacheData:{},rules:{type:[{required:!0,message:"邮箱必选"}],host:[{required:!0,message:"SMTP服务器必填"}],port:[{required:!0,message:"SMTP端口必填"}],username:[{required:!0,message:"发件人邮件地址必填"}],shop_name:[{required:!0,message:"发件平台名称必填"}],password:[{required:!0,message:"SMTP身份验证码必填"}]}}},computed:{},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var e=this;this.$api.noticeApi.getMailer({}).then((function(t){if(0===t.error){var a=t.status,n=t.type,s=(0,o.default)(t,c);e.cacheData=s,e.model=(0,l.default)((0,l.default)({status:+a,type:n},s[n]),{},{ssl:s[n].ssl.toString()})}e.loading=!1}))},changeType:function(e){this.model=(0,l.default)((0,l.default)({status:1,type:e},this.cacheData[e]),{},{ssl:this.cacheData[e].ssl.toString()})},testSend:function(){var e=this,t=this.handleParams();this.$api.noticeApi.testSendMailer(t).then((function(t){0===t.error&&e.$Message.success("发送成功")}))},handleSave:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.submitLoading=!0,t.prev=1,1!=e.model.status){t.next=5;break}return t.next=5,e.validateForm();case 5:e.submit(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.submitLoading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},validateForm:function(){var e=this;return new Promise((function(t,a){e.$refs["form"].validate((function(e){e?t(e):a()}))}))},handleParams:function(){var e=this.model,t=e.status,a=e.type,n=(0,o.default)(e,d),i=(0,s.default)({status:t,type:a},a,n);return i},submit:function(){var e=this,t=this.handleParams();this.$api.noticeApi.setMailer(t).then((function(t){e.submitLoading=!1,0===t.error&&e.$Message.success("保存成功")}))}}};t.default=u},"4ed1b":function(e,t,a){"use strict";a.r(t);var n=a("0a3c"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},5470:function(e,t,a){"use strict";a("6e6c")},"5a61":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b64b");var s=n(a("579b")),i={name:"list",components:{},props:{type:{type:Object,default:function(){}},is_title:{type:Boolean,default:!0}},data:function(){return{loading:!1,templateCode:s.default,list:[],typeTitle:{basic:"基础通知",sale:"营销通知",verify_code:"验证码",buyer_notice:"买家通知",seller_notice:"卖家通知"}}},watch:{type:{handler:function(e){this.getList(e)},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{getList:function(e){var t=this;this.loading=!0,this.$api.noticeApi.getNoticeList(e).then((function(e){t.loading=!1,t.list=e.data}))},toDetail:function(e,t){var a={type_code:e,items:Object.keys(t)};this.$emit("toDetail",a)}}};t.default=i},"5cd6":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("9794")),i={name:"index",components:{noticeIndex:s.default},props:{},data:function(){return{}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=i},6585:function(e,t,a){"use strict";a("4195")},"68a8":function(e,t,a){"use strict";a.r(t);var n=a("4df8"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"6e6c":function(e,t,a){},"73b6":function(e,t,a){"use strict";var n=a("a30f");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},7402:function(e,t,a){"use strict";a("34b5")},"7ab2":function(e,t,a){"use strict";a.r(t);var n=a("5cd6"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"7b5a":function(e,t,a){"use strict";var n=a("2f9b");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"7b5d":function(e,t,a){},8294:function(e,t,a){"use strict";var n=a("8fec");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},8878:function(e,t,a){"use strict";a.r(t);var n=a("4b25"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"895b":function(e,t,a){},"8ddb":function(e,t,a){"use strict";a.r(t);var n=a("945a"),s=a("d762");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("fee2");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"dcec1c6a",null);t["default"]=l.exports},"8df4d":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("9794")),i={name:"index",components:{noticeIndex:s.default},props:{},data:function(){return{}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=i},"8eb2":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{loading:e.submitLoading},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"content"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":180}},[t("kdx-form-title",[e._v("基础信息")]),t("FormItem",{attrs:{label:"邮箱开启："}},[t("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[t("Radio",{attrs:{label:1}},[e._v("开启")]),t("Radio",{attrs:{label:0}},[e._v("关闭")])],1),t("kdx-hint-text",[e._v("开启邮箱后虚拟卡密商品可以通过邮件形式发送到用户。")])],1),1===e.model.status?t("div",[t("FormItem",{attrs:{label:"选择邮箱：",prop:"type"}},[t("div",{staticClass:"multi-select"},[t("RadioGroup",{on:{"on-change":e.changeType},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[t("Radio",{attrs:{border:"",label:"qq"}},[t("div",[t("img",{staticClass:"select-img",attrs:{src:a("de1e"),alt:""}})]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1),t("Radio",{attrs:{border:"",label:"wangyi"}},[t("div",[t("img",{staticClass:"select-img",attrs:{src:a("e403"),alt:""}})]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1),t("Radio",{attrs:{border:"",label:"customize"}},[t("div",{staticClass:"flex customize"},[t("i",{staticClass:"iconfont icon-youxiang"}),t("span",{staticStyle:{"font-size":"16px"}},[e._v("自定义")])]),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1)],1)],1)]),"customize"===e.model.type?t("FormItem",{key:"".concat(e.model.type,"host"),attrs:{label:"SMTP服务器：",prop:"host"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入SMTP服务器"},model:{value:e.model.host,callback:function(t){e.$set(e.model,"host",t)},expression:"model.host"}})],1):e._e(),"customize"===e.model.type?t("FormItem",{key:"".concat(e.model.type,"port"),attrs:{label:"SMTP端口：",prop:"port"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入SMTP端口"},model:{value:e.model.port,callback:function(t){e.$set(e.model,"port",t)},expression:"model.port"}})],1):e._e(),t("FormItem",{key:"".concat(e.model.type,"username"),attrs:{label:"发件人邮件地址：",prop:"username"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入发件人邮件地址"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}}),t("kdx-hint-text",[e._v("商城统一发送给用户的邮件地址")])],1),t("FormItem",{key:"".concat(e.model.type,"shop_name"),attrs:{label:"发件人名称：",prop:"shop_name"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入发件人名称"},model:{value:e.model.shop_name,callback:function(t){e.$set(e.model,"shop_name",t)},expression:"model.shop_name"}}),t("kdx-hint-text",[t("span",[e._v("发送邮件中发件人名称")]),t("kdx-hint-tooltip",{attrs:{width:"300px",type:"image",image:a("f62b")}})],1)],1),t("FormItem",{attrs:{label:"发送主题："}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入发送主题"},model:{value:e.model.mailer_title,callback:function(t){e.$set(e.model,"mailer_title",t)},expression:"model.mailer_title"}}),t("kdx-hint-text",[t("span",[e._v("发送邮件的主题内容")]),t("kdx-hint-tooltip",{attrs:{width:"300px",type:"image",image:a("bca7")}})],1)],1),t("FormItem",{key:"".concat(e.model.type,"password"),attrs:{label:"SMTP身份验证码：",prop:"password"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入SMTP身份验证码"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),t("kdx-hint-text",[t("span",[e._v("添加该邮箱的SMTP身份验证码")]),"qq"===e.model.type?t("Button",{staticClass:"marginL-10",attrs:{type:"text",to:"https://service.mail.qq.com/cgi-bin/help?subtype=1&&no=1001256&&id=28",target:"_blank"}},[e._v("点击查看如何获取")]):e._e(),"wangyi"===e.model.type?t("Button",{staticClass:"marginL-10",attrs:{type:"text",to:"https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cda80145a1742516",target:"_blank"}},[e._v("点击查看如何获取")]):e._e()],1)],1),t("FormItem",{attrs:{label:"是否使用安全链接："}},[t("RadioGroup",{model:{value:e.model.ssl,callback:function(t){e.$set(e.model,"ssl",t)},expression:"model.ssl"}},[t("Radio",{attrs:{label:"1"}},[e._v("开启")]),t("Radio",{attrs:{label:"0"}},[e._v("关闭")])],1),t("kdx-hint-text",[e._v("开启后发送邮件以加密形式发送，邮件更加安全可靠")])],1),t("FormItem",{attrs:{label:"测试接收邮件地址："}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入接收邮件地址"},model:{value:e.model.test_address,callback:function(t){e.$set(e.model,"test_address",t)},expression:"model.test_address"}}),t("Button",{staticClass:"marginL-10",attrs:{type:"text"},on:{click:e.testSend}},[e._v("测试发送")])],1)],1):e._e()],1)],1)])};t.render=n;var s=[];t.staticRenderFns=s},"8f03":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{value:"[订单类]",label:"订单类",children:[{value:"[订单信息]",label:"订单信息",children:[{value:"[商城名称]",label:"商城名称"},{value:"[商品名称]",label:"商品名称"},{value:"[会员昵称]",label:"会员昵称"},{value:"[订单编号]",label:"订单编号"},{value:"[支付金额]",label:"支付金额"},{value:"[运费]",label:"运费"},{value:"[商品详情]",label:"商品详情"},{value:"[快递公司]",label:"快递公司"},{value:"[快递单号]",label:"快递单号"},{value:"[买家姓名]",label:"买家姓名"},{value:"[买家电话]",label:"买家电话"},{value:"[收货地址]",label:"收货地址"},{value:"[下单时间]",label:"下单时间"},{value:"[支付时间]",label:"支付时间"},{value:"[发货时间]",label:"发货时间"},{value:"[收货时间]",label:"收货时间"},{value:"[积分变动]",label:"积分变动"},{value:"[积分余额]",label:"积分余额"},{value:"[订单状态]",label:"订单状态"},{value:"[买家备注]",label:"买家备注"}]},{label:"售后相关",value:"[售后相关]",children:[{value:"[订单编号]",label:"订单编号"},{value:"[售后类型]",label:"售后类型"},{value:"[申请时间]",label:"申请时间"},{value:"[退款金额]",label:"退款金额"},{value:"[退货地址]",label:"退货地址"},{value:"[换货快递公司]",label:"换货快递公司"},{value:"[换货快递单号]",label:"换货快递单号"},{value:"[退款状态]",label:"退款状态"}]}]},{value:"[账户变动类]",label:"账户变动类",children:[{value:"[变动账户]",label:"变动账户"},{value:"[变动时间]",label:"变动时间",children:[{value:"[充值时间]",label:"充值时间"},{value:"[退款时间]",label:"退款时间"},{value:"[提现时间]",label:"提现时间"}]},{value:"[变动金额]",label:"变动金额",children:[{value:"[充值金额]",label:"充值金额"},{value:"[退款金额]",label:"退款金额"},{value:"[提现金额]",label:"提现金额"}]},{value:"[账户余额]",label:"账户余额",children:[{value:"[账户余额]",label:"账户余额"},{value:"[账户积分]",label:"账户积分"},{value:"[变动类型]",label:"变动类型"}]},{value:"[优惠券类型]",label:"优惠券类型"},{value:"[发放状态]",label:"发放状态"},{value:"[发放时间]",label:"发放时间"}]},{value:"[注册登录类]",label:"注册登录类",children:[{value:"[验证码]",label:"验证码"}]},{value:"[分销类]",label:"分销类",children:[{value:"[分销身份变更]",label:"分销身份变更",children:[{value:"[商城名称]",label:"商城名称"},{value:"[用户昵称]",label:"用户昵称"},{value:"[手机号]",label:"手机号"},{value:"[变动时间]",label:"变动时间"},{value:"[下级昵称]",label:"下级昵称"},{value:"[下级等级]",label:"下级等级"},{value:"[旧等级]",label:"旧等级"},{value:"[新等级]",label:"新等级"}]},{value:"[分销订单]",label:"分销订单",children:[{value:"[订单编号]",label:"订单编号"},{value:"[订单金额]",label:"订单金额"},{value:"[佣金金额]",label:"佣金金额"},{value:"[商品名称]",label:"商品名称"},{value:"[付款时间]",label:"付款时间"},{value:"[下级层级]",label:"下级层级"}]},{value:"[佣金与提现]",label:"佣金与提现",children:[{value:"[提现时间]",label:"提现时间"},{value:"[提现金额]",label:"提现金额"},{value:"[审核结果]",label:"审核结果"}]}]}],n=a;t.default=n},"8fec":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("div",{staticClass:"notice-buyer-index"},[e.is_title?t("kdx-form-title",[e._v(e._s(e.typeTitle[e.type.group_item_name]))]):e._e(),t("div",{staticClass:"flex notice-buyer-index-box"},e._l(e.list,(function(a,n){return t("div",{key:n,staticClass:"notice-list-box",on:{click:function(t){return e.toDetail(a.scene_code,a.item)}}},[t("Card",{staticClass:"notice-list"},[t("div",{staticClass:"card-title flex space-between",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"flex align-center"},[t("i",{staticClass:"iconfont",class:e.templateCode[a.scene_code].icon}),t("span",{staticClass:"title-name"},[e._v(e._s(e.templateCode[a.scene_code].title))])]),t("div",[t("i",{staticClass:"iconfont icon-line-right"})])]),a.item?t("div",{staticClass:"list-card-content"},[a.item.wechat?t("div",{staticClass:"flex list-card-child"},[t("div",[e._v("微信模板消息")]),t("i",{staticClass:"iconfont",class:1==a.item.wechat.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):e._e(),a.item.sms?t("div",{staticClass:"flex list-card-child"},[t("div",[e._v(e._s("verify_code"==e.type.group_item_name?"短信验证":"短信通知"))]),t("i",{staticClass:"iconfont",class:1==a.item.sms.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):e._e(),a.item.wxapp?t("div",{staticClass:"flex list-card-child"},[t("div",[e._v("微信小程序订阅消息")]),t("i",{staticClass:"iconfont",class:1==a.item.wxapp.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):e._e(),a.item.subscribe?t("div",{staticClass:"flex list-card-child"},[t("div",[e._v("微信公众号订阅通知")]),t("i",{staticClass:"iconfont",class:1==a.item.subscribe.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):e._e()]):e._e()])],1)})),0)],1)])};t.render=a;var n=[];t.staticRenderFns=n},"945a":function(e,t,a){"use strict";var n=a("2b08f");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},9788:function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");var s=n(a("487f")),i={name:"index",components:{noticeList:s.default},props:{},data:function(){return{type:{group_name:"seller_notice",group_item_name:"seller_notice"}}},computed:{},created:function(){},mounted:function(){},methods:{toDetail:function(e){this.$router.push({path:"/notice/seller/seller_notice/index",query:{type_code:e.type_code,items:e.items}})}}};t.default=i},"97d7":function(e,t,a){"use strict";a.r(t);var n=a("3af6"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"994d":function(e,t,a){},"9f83":function(e,t,a){"use strict";a("cab0")},a30f:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sms-test"},[t("kdx-form-title",[e._v("短信测试")]),t("Form",{ref:"form",attrs:{"label-width":120,model:e.smsTest,rules:e.rules}},[t("FormItem",{attrs:{label:"手机号：",prop:"mobile"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入手机号码"},model:{value:e.smsTest.mobile,callback:function(t){e.$set(e.smsTest,"mobile",t)},expression:"smsTest.mobile"}})],1),t("FormItem",{attrs:{label:"测试数据："}},[e.tableData.length<1?t("div",[e._v(e._s(e.errors))]):e._e(),e._l(e.tableData,(function(a,n){return t("div",{key:n,staticClass:"flex var-box"},[t("Input",{staticClass:"width-300",attrs:{readonly:!0},model:{value:a.data_temp,callback:function(t){e.$set(a,"data_temp",t)},expression:"item.data_temp"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("短信模板变量")])]),t("Input",{staticClass:"width-300",model:{value:a.data_temp_test,callback:function(t){e.$set(a,"data_temp_test",t)},expression:"item.data_temp_test"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("短信模板变量值")])])],1)})),t("Button",{attrs:{type:"text"},on:{click:e.send}},[e._v("发送测试")])],2)],1)],1)};t.render=a;var n=[];t.staticRenderFns=n},a324:function(e,t,a){"use strict";a.r(t);var n=a("168d"),s=a("d22c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("5470");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},a3a4:function(e,t,a){"use strict";var n=a("44e74");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},a7f5:function(e,t,a){"use strict";a.r(t);var n=a("d564"),s=a("40bf");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},acd9:function(e,t,a){"use strict";var n=a("fc86");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},b71a:function(e,t,a){},bca7:function(e,t,a){e.exports=a.p+"static/dist/shop/img/send-theme.png"},bf22:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("a15b"),a("ac1f"),a("841c");var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wechat-list"},[t("div",{staticClass:"wechat-list-alert"},[t("kdx-hint-alert",{attrs:{"show-icon":!1}},[t("p",[e._v("注意：")]),t("p",[e._v("请将公众平台模板消息所在行业选择为："),t("span",{staticClass:"bold warning-color"},[e._v("IT科技 / 互联网|电子商务 / 其他/其他")]),e._v("，所选行业不一致将会导致模板消息不可用。")]),t("p",[e._v("您的公众平台模板消息目前所属行业为："),t("span",{staticClass:"bold warning-color"},[e._v(e._s(e.industry.join(" / ")))])]),t("p",[e._v("当前列表内的模板消息为您已申请的模板消息，您可以点击查看详情或者删除处理。")])])],1),t("kdx-header-bar",[t("Form",{ref:"form",attrs:{model:e.search,"label-width":30,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",[t("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入模板编码"},on:{"on-enter":e.add},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加微信模板")])],1)],1)],1),t("div",{staticClass:"weixin-template"},[t("Table",{ref:"table",attrs:{columns:e.columns,data:e.data},on:{"on-selection-change":e.selectChange}}),e.data.length>0?t("div",{staticClass:"footer-action"},[t("Checkbox",{on:{"on-change":e.checkboxChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}),t("Button",{attrs:{disabled:e.selectDisabled},on:{click:e.bulkDelete}},[e._v("删除")])],1):e._e()],1),e._t("default")],2)};t.render=n;var s=[];t.staticRenderFns=s},c069:function(e,t,a){"use strict";a.r(t);var n=a("7b5a"),s=a("97d7");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("6585");var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},c20b:function(e,t,a){"use strict";a.r(t);var n=a("5a61"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},cab0:function(e,t,a){},cba3:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={components:{},props:{},data:function(){return{id:"",templateData:{}}},computed:{},created:function(){},mounted:function(){this.id=this.$route.query.id,this.getData()},methods:{getData:function(){var e=this;this.$api.noticeApi.getWexinTemplateDetail({template_id:this.id}).then((function(t){e.templateData=t}))}}};t.default=a},d22c:function(e,t,a){"use strict";a.r(t);var n=a("3ac9"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d4d4:function(e,t,a){"use strict";var n=a("f2c3");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d564:function(e,t,a){"use strict";var n=a("d9f7");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d762:function(e,t,a){"use strict";a.r(t);var n=a("cba3"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d844:function(e,t,a){"use strict";var n=a("bf22");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d8e2:function(e,t,a){"use strict";a.r(t);var n=a("4ed1"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d9f7:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("notice-index")};t.render=a;var n=[];t.staticRenderFns=n},dbeb:function(e,t,a){"use strict";a.r(t);var n=a("a3a4"),s=a("7ab2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},de1e:function(e,t,a){e.exports=a.p+"static/dist/shop/img/qq.png"},e0d5:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7");var n={name:"SmsTest",components:{},props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{errors:"未找到任何变量",smsTest:{mobile:"",test_data:""},rules:{mobile:[{pattern:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,message:"请输入11位手机号"}]}}},computed:{},created:function(){},mounted:function(){},methods:{validateTestForm:function(){var e=this;return new Promise((function(t,a){e.$refs["form"].validate((function(n){if(n){for(var s={mobile:e.smsTest.mobile,data:{}},i=0;i<e.tableData.length;i++)s.data[e.tableData[i].data_temp]=e.tableData[i].data_temp_test;t(s)}else a()}))}))},send:function(){this.$emit("send")}}};t.default=n},e1f7:function(e,t,a){"use strict";a("7b5d")},e403:function(e,t,a){e.exports=a.p+"static/dist/shop/img/163.png"},f2c3:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{attrs:{loading:e.loading},scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"sms-set"},[t("div",{staticClass:"header"},[t("kdx-form-title",{attrs:{"has-margin":!1}},[e._v("短信接口")])],1),t("Form",{ref:"form",attrs:{"label-width":160,model:e.data,rules:e.rule}},[t("FormItem",{attrs:{label:"短信平台："}},[t("RadioGroup",{model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}},[t("Radio",{attrs:{label:"aliyun"}},[t("span",[e._v("阿里云短信")])])],1),t("div",{staticClass:"sms-set-block"},[t("FormItem",{attrs:{label:"Access Key ID：",prop:"aliyun.access_key_id"}},[t("Input",{staticClass:"width-330",model:{value:e.data.aliyun.access_key_id,callback:function(t){e.$set(e.data.aliyun,"access_key_id",t)},expression:"data.aliyun.access_key_id"}}),t("kdx-hint-text",[e._v("点击"),t("a",{staticClass:"brand-color",attrs:{target:"_blank",href:"https://home.console.aliyun.com/"}},[e._v("【立即申请】")]),e._v("，注册完毕后输入保存后生效。")])],1),t("FormItem",{attrs:{label:"Access Key Secret：",prop:"aliyun.access_key_secret"}},[t("Input",{staticClass:"width-330",model:{value:e.data.aliyun.access_key_secret,callback:function(t){e.$set(e.data.aliyun,"access_key_secret",t)},expression:"data.aliyun.access_key_secret"}})],1)],1),"juhe"==e.data.type?t("div",{staticClass:"sms-set-block"},[t("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"App Key：",prop:"juhe.app_key"}},[t("Input",{staticClass:"width-330",model:{value:e.data.juhe.app_key,callback:function(t){e.$set(e.data.juhe,"app_key",t)},expression:"data.juhe.app_key"}}),t("kdx-hint-text",[e._v("没有这个地址id请"),t("a",{staticClass:"brand-color",attrs:{target:"_blank",href:"http://www.juhe.cn"}},[e._v("【立即申请】")])])],1)],1):e._e()],1)],1)],1)])};t.render=a;var n=[];t.staticRenderFns=n},f62b:function(e,t,a){e.exports=a.p+"static/dist/shop/img/send-name.png"},fc21:function(e,t,a){"use strict";a.r(t);var n=a("73b6"),s=a("09e3");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),l=Object(r["a"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=l.exports},fc86:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("ac1f"),a("841c"),a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"notice-sms-list"},[t("kdx-header-bar",{scopedSlots:e._u([{key:"header",fn:function(){return[t("Button",{attrs:{type:"primary"},on:{click:e.handlerAdd}},[e._v("+添加模板")])]},proxy:!0}])},[t("Form",{ref:"form",attrs:{model:e.search,"label-width":120,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"模板名称："}},[t("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入关键字"},on:{"on-enter":e.handleSearch},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{staticClass:"mL-20",attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sms-list"},[t("Table",{ref:"table",attrs:{columns:e.columns,data:e.data},on:{"on-selection-change":e.selectChange}}),e.data.length>0?t("div",{staticClass:"footer-action"},[t("Checkbox",{on:{"on-change":e.checkboxChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}),t("Button",{attrs:{disabled:e.selectDisabled},on:{click:e.bulkDelete}},[e._v("删除")])],1):e._e(),t("div",{staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.page.total},on:{"on-change":e.changePage}})],1)],1),t("kdx-modal-frame",{attrs:{title:"测试发送"},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk},model:{value:e.sendModal,callback:function(t){e.sendModal=t},expression:"sendModal"}},[t("div",{staticClass:"send-modal"},[t("Form",{ref:"sendModal",attrs:{"label-width":120,model:e.submitSendData,rules:e.sendRule}},[t("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{label:"手机号：",prop:"mobile"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入被发送手机号"},model:{value:e.submitSendData.mobile,callback:function(t){e.$set(e.submitSendData,"mobile",t)},expression:"submitSendData.mobile"}})],1),t("FormItem",{attrs:{label:"数据值：",required:""}},e._l(e.sendData.data,(function(a,n){return t("div",{key:n,staticClass:"data-value",staticStyle:{"margin-bottom":"20px"}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"此处请填写变量"},model:{value:a.data_shop,callback:function(t){e.$set(a,"data_shop",t)},expression:"item.data_shop"}},[t("span",{staticStyle:{padding:"4px 32px"},attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(a.data_temp))])])],1)})),0)],1)],1)]),e._t("default")],2)};t.render=n;var s=[];t.staticRenderFns=s},fee2:function(e,t,a){"use strict";a("b71a")}}]);