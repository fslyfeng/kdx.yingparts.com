(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{"00c2":function(t,e,a){"use strict";var i=a("c2c0");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"0659":function(t,e,a){"use strict";a.r(e);var i=a("f859"),s=a("6da0");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("efdd");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"535a0aa6",null);e["default"]=r.exports},"0b7dd":function(t,e,a){"use strict";a.r(e);var i=a("5817"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"0e50":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{title:"修改商品信息",width:880},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"multi-specification"},[e("div",{staticClass:"batch-settings"},[e("div",{staticClass:"label"},[t._v("批量设置:")]),e("kdx-rr-input",{staticClass:"width-280",attrs:{placeholder:"价格",number:"",fixed:2,"min-value":0,"max-value":9999999.99,disabled:t.is_activity_goods},model:{value:t.batch_price,callback:function(e){t.batch_price=e},expression:"batch_price"}},[e("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),e("kdx-rr-input",{staticClass:"width-280",attrs:{placeholder:"库存",number:"",fixed:0,"min-value":0,"max-value":999999999,disabled:t.is_activity_goods||"2"==t.model_type},model:{value:t.batch_stock,callback:function(e){t.batch_stock=e},expression:"batch_stock"}},[e("span",{attrs:{slot:"append"},slot:"append"},[t._v("件")])]),e("Button",{attrs:{disabled:t.is_activity_goods},on:{click:t.fnBatchSet}},[t._v("应用")])],1),e("Table",{ref:"table",attrs:{border:"",columns:t.columns,data:t.data,loading:t.loading,"span-method":t.handleSpan}})],1)])};e.render=a;var i=[];e.staticRenderFns=i},"0e9f":function(t,e,a){},"1aee":function(t,e,a){"use strict";a.r(e);var i=a("98ab"),s=a("e8b56");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("f6a0");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"798540b4",null);e["default"]=r.exports},"1f5d":function(t,e,a){},"20e0":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{value:t.value,width:800,"footer-hide":""},on:{"on-cancel":t.handleCancel},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(" 自定义交易组件 ")]),e("div",{staticClass:"text",on:{click:t.handleCancel}},[t._v(" 不再提示 ")])])]},proxy:!0}])},[e("div",{staticClass:"hint-modal"},[e("div",{staticClass:"hint-item"},[e("div",{staticClass:"line"}),e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤一：商家前往微信后台的交易组件，申请自定义交易组件 ")]),e("div",{staticClass:"text"},[t._v(" • 选择自定义版交易组件，并申请开通功能，进入审核流程。 ")]),e("div",{staticClass:"text"},[t._v(" • 接入小程序的视频号要求是企业认证的视频号，且视频号认证主体 和微信小程序认证主体一致，或者视频号的管理员和小程序的管理员一致。 更多开通条件请前往微信官方文档进行 "),e("Button",{attrs:{type:"text",to:"https://developers.weixin.qq.com/miniprogram/dev/framework/ministore/minishopopencomponent2/m_guideline.html",target:"_blank"}},[t._v("查看 ")])],1),e("Button",{attrs:{type:"primary",to:"https://developers.weixin.qq.com/miniprogram/dev/framework/ministore/minishopopencomponent2/m_guideline.html",target:"_blank"}},[t._v("前往开通 ")])],1)]),e("div",{staticClass:"hint-item"},[e("div",{staticClass:"line"}),e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤二：完成开通后，进入后台自定义交易组件，进行商品上传 ")]),e("div",{staticClass:"text"},[t._v(" 选择商品进行上传提交至微信审核，上传时需关联微信方相关商品分类 ")]),e("div",{staticClass:"add-goods"},[e("Button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("上传商品")])],1)])]),e("div",{staticClass:"hint-item"},[e("div",{staticClass:"line"}),e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤三：生成一笔订单并付款成功（微信支付），进行订单发货，触发物流接口调用。 ")])])]),e("div",{staticClass:"hint-item"},[e("div",{staticClass:"line"}),e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤四：创建售后，后续会将售后信息实时同步至微信，否则将触发微信运营规范，将暂停交易组件的使用。 ")])])]),e("div",{staticClass:"hint-item"},[e("div",{staticClass:"line"}),e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤五：以上内容全部开通后且完成场景接入，相应小程序绑定着者可前往视频号主页-创作者中心-商品橱窗，进行商城小程序绑定进行小程序挂载 ")]),e("div",{staticClass:"text"},[t._v(" 进入视频号设置，用户通过点击视频号主页的商店，直接跳转至商城小程序。 "),e("kdx-hint-tooltip",{attrs:{type:"image",width:"450px","max-width":700,image:a("b6f7")}})],1),e("div",{staticClass:"text"},[t._v(" 前往微信公众平台中，进入“交易组件”>“场景接入”菜单中，查看并选择需要接入的场景， 微信官方默认所有场景均接入。 ")]),e("div",{staticClass:"text"},[t._v(" 支持添加推广员，添加后可在推广员的视频号中推广。 "),e("kdx-hint-tooltip",{attrs:{type:"image",width:"1100px","max-width":1200,image:a("6d32")}})],1)])]),e("div",{staticClass:"hint-item"},[e("div",{staticClass:"circle"}),e("div",{staticClass:"hint-content"},[e("div",{staticClass:"title"},[t._v(" 步骤六：视频号直播，直接关联商城商品进行直播卖货 ")]),e("div",{staticClass:"text"},[t._v(" 使用视频号直播时，点击商品，添加已审核通过的商品，用户观看直播时，可直接点击商品 进入商城小程序进行下单购买。 ")])])])])])};e.render=i;var s=[];e.staticRenderFns=s},2298:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{title:"商品详情",width:500,loading:t.loading},on:{"on-cancel":t.setValue,"on-ok":t.setValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"goods-detail"},[e("Form",{attrs:{"label-width":120}},[e("FormItem",{attrs:{label:"选择分类："}},[t._v(" "+t._s(t.data.category_name)+" ")]),e("FormItem",{attrs:{label:"商品资质："}},[e("div",{staticClass:"image"},t._l(t.data.goods_qualification,(function(a,i){return e("img",{key:i,attrs:{src:t.$utils.media(a),alt:""},on:{error:t.replaceImage}})})),0)]),e("FormItem",{attrs:{label:"商品："}},[e("Table",{attrs:{columns:t.columns,data:t.goodsList},scopedSlots:t._u([{key:"goods",fn:function(a){var i=a.row;return[e("div",{staticClass:"goods"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.$utils.media(i.thumb),alt:""},on:{error:t.replaceImage}})]),e("div",{staticClass:"content"},[e("span",{directives:[{name:"show",rawName:"v-show",value:1===+i.has_option,expression:"1 === +row.has_option"}],staticClass:"mark more"},[t._v("多")]),e("span",{staticClass:"mark",class:t.goodsType(i.type).goodsName},[t._v(t._s(t.goodsType(i.type).goodsText))]),t._v(" "+t._s(i.title)+" ")])])]}}])})],1)],1)],1)])};e.render=a;var i=[];e.staticRenderFns=i},"247c":function(t,e,a){"use strict";a.r(e);var i=a("5d30"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"2c28":function(t,e,a){"use strict";a.r(e);var i=a("82c7f"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"2e1d":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("2909")),n=i(a("5530")),o=i(a("b85c"));a("a9e3"),a("a434"),a("4de4"),a("d3b7"),a("14d9"),a("159b"),a("ac1f"),a("841c");var r={name:"goodsSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},value:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},limit:{type:Number},isStore:{type:Boolean,default:!1},params:{type:Object,default:function(){}},type:{type:String,default:""},flag:{type:String,default:""},status:{type:Number,default:5},show_activity:{type:[Number],default:0},is_shopping_reward:{type:[Number],default:0}},computed:{columns:function(){var t=this,e=(this.$createElement,[{title:"商品",key:"shop",minWidth:450,render:function(e,a){var i;switch(a.row.type){case"0":i={goodsText:"实"};break;case"1":i={goodsText:"虚"};break;case"2":i={goodsText:"密"};break;case"3":i={goodsText:"预"};break}return e("div",{class:{"shop-box":!0}},[e("div",{class:{image:!0}},[e("img",{attrs:{src:t.$media(a.row.thumb)},on:{error:function(e){t.replaceImage(e)}}})]),e("div",{class:{content:!0}},[e("div",{class:{"content-text":!0}},[e("span",{class:{mark:!0},style:{display:"1"===a.row.has_option?"inline-block":"none"}},"多"),e("span",{class:{mark:!0,real:"0"===a.row.type,virtual:"1"===a.row.type,secret:"2"===a.row.type}},i.goodsText),e("span",{class:{text:!0}},a.row.title)])])])}},{title:"价格",key:"price",minWidth:60,render:function(t,e){return"1"===e.row.has_option?t("div",{class:"price"},[t("span",["￥",e.row.min_price," ~ ￥",e.row.max_price])]):t("div",{class:"price"},[t("span",["￥",e.row[e.column.key]])])}},{title:"库存",key:"stock",width:60,render:function(t,e){var a=parseInt(e.row[e.column.key]);return"3"==e.row.type?t("div","-"):t("div",a||0===a?a<=999?a:"999+":"-")}},{title:"操作",key:"action",width:80,render:function(e,a){return e("div",{class:"action"},[e("Button",{class:"default-primary",attrs:{disabled:1===a.row.is_select},style:{display:a.row.checked?"none":"block"},on:{click:function(){t.setChecked(a.index,!0)}}},["选择"]),e("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){t.setChecked(a.index,!1)}}},["已选"])])}}]);return this.show_activity&&e.splice(-1,0,{title:"营销活动",key:"is_activity_goods",width:130,render:function(e,a){return e("div",{class:1===a.row.is_activity_goods?"brand-color pointer":"pointer",on:{click:function(){t.viewActivity(a.row)}}},[1===a.row.is_activity_goods?"查看参与的活动":"未参与活动"])}}),e}},data:function(){var t=this.$createElement;return{search:{keywords:"",group:""},goodsGroup:[],page:{pageSize:10,pageNumber:1},selectRows:[],selectRow:{},table:{data:[],loading:!1,total:0},activity:{show:!1,columns:[{title:"活动名称",key:"title"},{title:"活动状态",key:"status",slot:"status"},{title:"活动时间",key:"time",slot:"date"},{title:"活动类型",key:"type_text"},{title:"活动来源",key:"sub_shop_id",render:function(){return t("div",["平台"])}}],data:[]}}},created:function(){this.activity.columns=this.activity.columns.filter((function(t){return"sub_shop_id"!==t.key}))},methods:{handleSearch:function(){this.resetPage(),this.getShopList()},resetPage:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["page"])||void 0===t||t.reset()},handlePageChange:function(t){this.page=t,this.getShopList();try{this.$refs.scrollBox.scrollTop=0}catch(e){console.log(e)}},setChecked:function(t,e){var a=this;if(this.multiple){if(this.limit&&this.selectRows.length===this.limit&&e)return void this.$Message.error("已超出最大可选数量");this.$set(this.table.data[t],"checked",e),0===this.selectRows.length||e?this.selectRows.push(this.table.data[t]):this.selectRows=this.selectRows.filter((function(e){return e.id!==a.table.data[t].id}))}else e?(this.table.data.forEach((function(t,e){a.$set(a.table.data[e],"checked",!1)})),this.$set(this.table.data[t],"checked",!0),this.selectRow=this.table.data[t]):(this.$set(this.table.data[t],"checked",!1),this.selectRow={})},defaultChecked:function(){var t,e=this,a=this.isStore?"broadcast_goods_id":"id",i=this.isStore?"broadcast_goods_id":"id";this.multiple?this.table.data.forEach((function(t,s){var n,r=(0,o.default)(e.selectRows);try{for(r.s();!(n=r.n()).done;){var d=n.value;if(d[i]===t[a]){e.$set(e.table.data[s],"checked",!0);break}}}catch(l){r.e(l)}finally{r.f()}})):null===(t=this.table.data)||void 0===t||t.forEach((function(t,s){e.selectRow&&t[a]===e.selectRow[i]?e.$set(e.table.data[s],"checked",!0):e.$set(e.table.data[s],"checked",!1)}))},getShopList:function(){var t=this;if(this.isStore)this.getGoodsStore();else{this.table.loading=!0;var e=Object.assign((0,n.default)({page:this.page.pageNumber,pagesize:this.page.pageSize,status:-1===this.status?"":this.status,type:this.type,flag:this.flag,show_activity:this.show_activity,is_shopping_reward:this.is_shopping_reward},this.params),this.search);this.$api.goodsApi.goodsList(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.defaultChecked())})).catch()}},getGoodsStore:function(){var t=this;this.table.loading=!0;var e=Object.assign({page:this.page.pageNumber,pagesize:this.page.pageSize,bro_goods_status:2},{title:this.search.keywords});this.$api.liverApi.getGoodsStore(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.defaultChecked())})).catch()},goodGroupList:function(){var t=this;this.$api.goodsApi.goodGroupList({pager:0}).then((function(e){0===e.error?t.goodsGroup=e.list:t.$Message.error("商品组获取失败")}))},handleSave:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.handleCancel()},handleCancel:function(){this.$emit("on-cancel"),this.activity.show=!1},resetSearch:function(){this.search={keywords:"",group:""}},viewActivity:function(t){console.log(t,"data>>>>>>>>viewActivity"),t.is_activity_goods&&(this.activity.show=!0,this.activity.data=t.join_activity)},getTime:function(t){return"0000-00-00 00:00:00"===t?"-":t}},watch:{value:{handler:function(t){t&&(this.multiple?this.selectRows=(0,s.default)(this.currentList)||[]:this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getShopList())},immediate:!0}}};e.default=r},"2e49":function(t,e,a){"use strict";var i=a("7355");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"2f49":function(t,e,a){"use strict";var i=a("2298");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},3184:function(t,e,a){"use strict";a.r(e);var i=a("bcba"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"32c0":function(t,e,a){},"34ae":function(t,e,a){"use strict";a.r(e);var i=a("2f49"),s=a("3740");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("5877");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"3d0c4971",null);e["default"]=r.exports},3740:function(t,e,a){"use strict";a.r(e);var i=a("eaa3"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"38ee":function(t,e,a){},5817:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("5530")),n={name:"SearchHeader",data:function(){return{model:{keywords:"",start_time:"",end_time:"",goods_status:"all",wx_status:"all"},createTime:[],optionData:{status:[{field:"all",title:"全部"},{field:1,title:"出售中"},{field:2,title:"已售罄"},{field:3,title:"仓库中"},{field:4,title:"回收站"}],auditStatus:[{field:"all",title:"全部"},{field:20,title:"审核中"},{field:30,title:"审核成功"},{field:40,title:"审核失败"}]}}},computed:{noManagePerm:function(){return!this.$getPermMap("wxTransactionComponent.index.manage")}},methods:{handleSearch:function(){var t=(0,s.default)({},this.model);"all"===t.goods_status&&(t.goods_status=""),"all"===t.wx_status&&(t.wx_status=""),this.$emit("on-search",t)},changeDate:function(t){this.model.start_time=(null===t||void 0===t?void 0:t[0])||"",this.model.end_time=(null===t||void 0===t?void 0:t[1])||""},reset:function(){this.model={keywords:"",start_time:"",end_time:"",goods_status:"all",wx_status:"all"},this.createTime=[]},handleReset:function(){this.$emit("on-search",{}),this.reset()},handleAction:function(t){this.$emit("on-action",t)}}};e.default=n},5877:function(t,e,a){"use strict";a("eeb5")},"5d30":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"HintModal",data:function(){return{value:!1}},methods:{setValue:function(){this.value=!this.value},handleCancel:function(){this.setValue(),localStorage.setItem("transactionComponent",!0)},addGoods:function(){this.setValue(),this.$emit("on-add-goods")}}};e.default=a},"6d32":function(t,e,a){t.exports=a.p+"static/dist/shop/img/wechat-example.png"},"6da0":function(t,e,a){"use strict";a.r(e);var i=a("2e1d"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"72a5":function(t,e,a){},7355:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{title:"添加商品",width:800,loading:t.loading},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"add-goods"},[e("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":100},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"选择分类：",prop:"classify"}},[e("Cascader",{staticClass:"width-340",attrs:{value:t.Cascader,data:t.classifyData,transfer:"",filterable:""},on:{"on-change":t.changeClassify}}),e("kdx-hint-text",[t._v("分类必选，此分类为调取的微信分类内容")])],1),e("FormItem",{attrs:{label:"选择商品：",prop:"goodsList"}},[e("div",{staticClass:"btn"},[e("Button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("上传商品")]),e("kdx-hint-text",{staticClass:"marginB-10"},[t._v("请选择需要关联至视频号直播的商品")])],1),e("div",{staticClass:"goods-box"},[e("Table",{attrs:{columns:t.columns,data:t.goodsList,border:""},scopedSlots:t._u([{key:"goods",fn:function(a){var i=a.row;return[e("div",{staticClass:"goods"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.$utils.media(i.thumb),alt:""}})]),e("div",{staticClass:"content"},[e("span",{directives:[{name:"show",rawName:"v-show",value:1===+i.has_option,expression:"1 === +row.has_option"}],staticClass:"mark more"},[t._v("多")]),e("span",{staticClass:"mark",class:t.goodsType(i.type).goodsName},[t._v(t._s(t.goodsType(i.type).goodsText))]),t._v(" "+t._s(i.title)+" ")])])]}},{key:"action",fn:function(a){var i=a.row;return[e("Button",{attrs:{type:"text"},on:{click:function(e){return t.deleteGoods(i)}}},[t._v("删除")])]}}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>3,expression:"total > 3"}],staticClass:"footer-page"},[e("kdx-page-component",{ref:"page",attrs:{current:t.page.pageNumber,pageSize:t.page.pageSize,total:t.total,"show-sizer":!1},on:{"on-change":t.changePage}})],1)],1)]),e("FormItem",{attrs:{label:"商品资质："}},[e("kdx-image-video",{attrs:{"current-list":t.model.certification,multiple:"",limit:50,width:80,height:80},on:{"on-change":t.changeImage}}),e("kdx-hint-text",[t._v("请上传相应的商品资质")])],1)],1)],1),e("goods-selector",{attrs:{value:t.selector.value,type:"0",limit:10,multiple:"","current-list":t.model.goodsList},on:{"on-cancel":t.cancelSelector,"on-change":t.changeSelector}})],1)};e.render=a;var i=[];e.staticRenderFns=i},"7d09":function(t,e,a){"use strict";a.r(e);var i=a("cc96"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"7e26":function(t,e,a){},"82c7f":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var s=i(a("f7a4")),n=i(a("1aee")),o={name:"TableList",components:{EditInformation:s.default,MultiSpecification:n.default},props:{data:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:10},current:{type:Number,default:1},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){return{columns:[{title:"ID",width:60,key:"id"},{title:"商品",slot:"goods",minWidth:100},{title:"分类",key:"category_name"},{title:"价格",slot:"price"},{title:"库存",key:"stock"},{title:"商品状态",slot:"status"},{title:"提交时间",key:"create_time"},{title:"审核状态",slot:"audit_status"},{title:"操作",slot:"action"}],option:{status:{1:{title:"出售中",type:"success"},2:{title:"已售罄",type:"danger"},3:{title:"仓库中",type:"warning"},4:{title:"回收站",type:"disabled"}},auditStatus:{20:{title:"审核中",type:"warning"},30:{title:"审核成功",type:"success"},10:{title:"审核撤销",type:"info"},40:{title:"审核失败",type:"danger"}}},info:{modelType:"",price:"",stock:"",id:"",spec:"single"}}},computed:{noManagePerm:function(){return!this.$getPermMap("wxTransactionComponent.index.manage")}},methods:{changePage:function(t){this.$emit("on-page-change",t)},reset:function(t){var e;null===(e=this.$refs["page"])||void 0===e||e.reset(t)},submitAudit:function(t){var e=this;this.$api.wxTransactionComponentApi.submitAudit({id:t.id,category_id:t.category_id,category_name:t.category_name}).then((function(t){0===t.error&&(e.$Message.success("提交审核成功"),e.$emit("on-refresh"))}))},recallAudit:function(t){var e=this;this.$api.wxTransactionComponentApi.recallAudit({id:t.id}).then((function(t){0===t.error&&(e.$Message.success("撤销审核成功"),e.$emit("on-refresh"))}))},handleSold:function(t,e){var a=this;this.$api.wxTransactionComponentApi.updateStatus({id:t.id,status:e}).then((function(t){if(0===t.error){var i={1:"商品下架成功",2:"商品上架成功"};a.$Message.success(i[e]),a.$emit("on-refresh")}}))},handleUpdate:function(t){var e=this;this.info={modelType:t.type,price:t.price,stock:t.stock,id:t.id,goodsId:t.goods_id,spec:"single"},this.$nextTick((function(){0===+(null===t||void 0===t?void 0:t.has_option)?e.$refs["edit_information"].setValue():(e.info.spec="multiple",e.$refs["mult_spec"].setValue())}))},updateInfo:function(){var t=this;this.$api.wxTransactionComponentApi.updateExemption({id:this.info.id}).then((function(e){0===e.error&&(t.$Message.success("免审核更新成功"),"single"===t.info.spec?t.$refs["edit_information"].setValue():t.$refs["mult_spec"].setValue(),t.$emit("on-refresh"))}))},handleDelete:function(t){var e=this;this.$api.wxTransactionComponentApi.deleteGoods({id:t.id}).then((function(t){0===t.error&&(e.$Message.success("商品删除成功"),e.$emit("on-refresh"))}))},handleDetail:function(t){console.log("on-detata"),this.$emit("on-detail",t.id)},goodsType:function(t){var e={goodsName:"",goodsText:""};switch(t){case"0":e={goodsName:"real",goodsText:"实"};break;case"1":e={goodsName:"virtual",goodsText:"虚"};break;case"2":e={goodsName:"secret",goodsText:"密"};break;case"3":e={goodsName:"appoint",goodsText:"预"};break;case"5":e={goodsName:"verifyCount",goodsText:"次"};break;default:e={goodsName:"",goodsText:""};break}return e}}};e.default=o},"881dc":function(t,e,a){"use strict";a("ba3e")},"88c5":function(t,e,a){"use strict";a("1f5d")},"8da8":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("5530"));a("ac1f"),a("841c"),a("d3b7");var n=i(a("ba2b")),o=i(a("e3b7")),r=i(a("df52")),d=i(a("984a")),l=i(a("34ae")),c={name:"index",components:{SearchHeader:n.default,TableList:o.default,AddGoods:r.default,HintModal:d.default,GoodsDetail:l.default},data:function(){return{search:{},tableData:[],page:{pageSize:10,pageNumber:1},total:0,loading:!1,goods:{id:""}}},created:function(){this.handleRefresh()},methods:{handleSearch:function(t){this.search=t,this.handleRefresh()},changePage:function(t){this.page=t,this.getData()},getData:function(){var t=this;this.loading=!0;var e=(0,s.default)({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.$api.wxTransactionComponentApi.getList(e).then((function(e){var a;if(0===e.error&&(t.tableData=e.data.list,t.total=e.data.total,null===(a=e.data.list)||void 0===a||!a.length)){var i=localStorage.getItem("transactionComponent");i||t.$nextTick((function(){t.$refs["hint_modal"].setValue()}))}})).finally((function(){t.loading=!1}))},handleRefresh:function(){this.resetPage(),this.getData()},handleAction:function(t){switch(t){case"explain":this.$refs["hint_modal"].setValue();break;case"add":this.$refs["add_goods"].setValue();break;case"refresh":this.syncRefresh();break}},resetPage:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["table"])||void 0===t||t.reset()},syncRefresh:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$api.wxTransactionComponentApi.syncRefresh({page:e}).then((function(a){if(0===a.error){var i=a.data.total_num,s=void 0===i?10:i;s>10*e?t.syncRefresh(e+1):(t.loading=!1,t.handleRefresh())}}))},handleDetail:function(t){var e=this;console.log("edit"),this.goods.id=t,this.$nextTick((function(){e.$refs["goods_detail"].setValue()}))}}};e.default=c},"90a8":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,a("99af");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-list"},[e("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tab",attrs:{columns:t.columns,data:t.data},scopedSlots:t._u([{key:"goods",fn:function(a){var i=a.row;return[e("div",{staticClass:"goods"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.$utils.media(i.thumb),alt:""},on:{error:t.replaceImage}})]),e("div",{staticClass:"content"},[1===+i.has_option?e("span",{staticClass:"mark more"},[t._v("多")]):t._e(),e("span",{staticClass:"mark",class:t.goodsType(i.type).goodsName},[t._v(t._s(t.goodsType(i.type).goodsText))]),t._v(" "+t._s(i.title)+" ")])])]}},{key:"price",fn:function(a){var i=a.row;return[e("div",{staticClass:"price"},[t._v(" "+t._s(0===+i.has_option?"￥".concat(i.price):"￥".concat(i.min_price," ~ ￥").concat(i.max_price))+" ")])]}},{key:"status",fn:function(a){var i=a.row;return[e("kdx-tag-label",{attrs:{type:t.option.status[i.goods_status].type}},[t._v(t._s(t.option.status[i.goods_status].title))])]}},{key:"audit_status",fn:function(a){var i=a.row;return[e("kdx-status-text",{attrs:{type:t.option.auditStatus[i.wx_status].type}},[t._v(t._s(t.option.auditStatus[i.wx_status].title)+" ")])]}},{key:"action",fn:function(a){var i=a.row;return[e("div",{staticClass:"action"},[20!==+i.wx_status?e("Button",{attrs:{type:"text","data-type":"submit",disabled:t.noManagePerm},on:{click:function(e){return t.submitAudit(i)}}},[t._v("提交审核 ")]):t._e(),"30"==i.wx_status?[2===+i.wx_remote_status?e("Button",{attrs:{type:"text","data-type":"sold",disabled:t.noManagePerm},on:{click:function(e){return t.handleSold(i,1)}}},[t._v("视频号中下架")]):1===+i.wx_remote_status?e("Button",{attrs:{type:"text","data-type":"sold",disabled:t.noManagePerm},on:{click:function(e){return t.handleSold(i,2)}}},[t._v("视频号中上架")]):t._e(),e("Button",{attrs:{type:"text","data-type":"update",disabled:t.noManagePerm},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("免审核更新")])]:t._e(),e("Button",{attrs:{type:"text","data-type":"delete",disabled:t.noManagePerm},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")]),e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleDetail(i)}}},[t._v("查看")])],2)]}}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total > 10"}],staticClass:"footer-page"},[e("kdx-page-component",{ref:"page",attrs:{current:t.current,pageSize:t.pageSize,total:t.total},on:{"on-change":t.changePage}})],1),e("edit-information",{ref:"edit_information",attrs:{model_type:t.info.modelType,price:t.info.price,stock:t.info.stock,id:t.info.goodsId,"is-external":""},on:{"on-refresh":t.updateInfo}}),e("multi-specification",{ref:"mult_spec",attrs:{"is-external":"",model_type:t.info.modelType,id:t.info.goodsId},on:{"on-refresh":t.updateInfo}})],1)};e.render=i;var s=[];e.staticRenderFns=s},9481:function(t,e,a){"use strict";a.r(e);var i=a("fa77"),s=a("f862");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("e980");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"49e6002b",null);e["default"]=r.exports},"984a":function(t,e,a){"use strict";a.r(e);var i=a("f1726"),s=a("247c");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("88c5");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"5bba4472",null);e["default"]=r.exports},"98ab":function(t,e,a){"use strict";var i=a("0e50");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},a1fe:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("b85c")),n=i(a("ade3")),o=i(a("5530")),r=i(a("2909"));a("a9e3"),a("d81d"),a("99af"),a("4e82"),a("d3b7"),a("159b"),a("14d9"),a("b680");var d={name:"MultiSpecification",props:{model_type:{type:[Number,String]},id:{type:[Number,String]},is_activity_goods:{type:Boolean},isExternal:{type:Boolean,default:!1}},data:function(){var t=this;this.$createElement;return{value:!1,columns:[],data:[],fixColumn:[{title:"价格（元）",key:"price",render:function(e,a){return e("kdx-rr-input",{attrs:{type:"text",value:a.row[a.column.key],number:!0,fixed:2,"max-value":9999999.99,disabled:t.is_activity_goods},on:{"on-blur":function(e){t.setMultiplePrice(a.index,a.column.key,e.target.value)}}})}},{title:"库存（件）",key:"stock",render:function(e,a){return e("kdx-rr-input",{attrs:{type:"text",value:a.row[a.column.key],number:!0,fixed:0,"max-value":999999999,disabled:t.is_activity_goods||"2"==t.model_type},on:{"on-blur":function(e){t.setMultipleStock(a.index,a.column.key,e.target.value)}}})}}],specs:[],options:[],colspan:{0:1,1:1,2:1},loading:!1,batch_price:0,batch_stock:0}},methods:{setValue:function(){this.value=!this.value,this.batch_price=0,this.batch_stock=0,this.value&&this.getGoodsData()},getGoodsData:function(){var t=this;this.loading=!0,this.$api.goodsApi.getGoodInformation({id:this.id}).then((function(e){t.loading=!1,0===e.error&&(t.specs=e.data.spec,t.initColumns(),t.initTable(e.data.options),t.initColspan())}))},initColumns:function(){this.$createElement;var t=this.specs.map((function(t,e){return{title:t.title,key:"",render:function(t,a){return t("div",[a.row.childSpecVal[e]])}}}));this.columns=[].concat((0,r.default)(t),(0,r.default)(this.fixColumn))},initTable:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>1?this.data=e.sort((function(t,e){for(var a=t.specs.split(",").map((function(t){return parseInt(t)})),i=e.specs.split(",").map((function(t){return parseInt(t)})),s=Math.min(a.length,i.length),n=0;n<s;n++)if(a[n]!==i[n])return a[n]-i[n]})):this.data=e,this.data.forEach((function(e){var a=[];t.specs.forEach((function(t){t.items.forEach((function(t){e.specs.indexOf(t.id)>-1&&a.push(t.title)}))})),e.childSpecVal=a}))},initColspan:function(){for(var t=this,e={0:0,1:0,2:0},a=function(a){for(var i=1,s=t.specs.length-1;s>a;s--)i*=t.specs[s].items.length;e=(0,o.default)((0,o.default)({},e),{},(0,n.default)({},a,i))},i=0;i<this.specs.length;i++)a(i);this.colspan=e},setMultiplePrice:function(t,e,a){var i=this;this.data[t][e]="";var s="";parseFloat(a)&&(s=parseFloat(a).toFixed(2)),this.$nextTick((function(){i.data[t][e]=s}))},setMultipleStock:function(t,e,a){var i=this;this.$nextTick((function(){i.data[t][e]=a}))},fnBatchSet:function(){var t=this;(parseFloat(this.batch_price)||0===parseFloat(this.batch_price))&&this.data.forEach((function(e){e.price=parseFloat(t.batch_price)})),!parseFloat(this.batch_stock)&&0!==parseFloat(this.batch_stock)||2==this.model_type||this.data.forEach((function(e){e.stock=parseFloat(t.batch_stock)}))},handleCancel:function(){this.setValue()},handleOk:function(){var t=this;this.validate()&&(this.loading=!0,this.$api.goodsApi.editInformation(this.getParams()).then((function(e){t.loading=!1,0===e.error&&(t.isExternal||(t.$Message.success("保存成功"),t.setValue()),t.$emit("on-refresh"))})))},validate:function(){var t,e=!0,a=(0,s.default)(this.data);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!i.price&&0!=i.price||!i.stock&&"0"!=i.stock){this.$Message.error("请填写完整的价格和库存"),e=!1;break}}}catch(n){a.e(n)}finally{a.f()}return e},getParams:function(){var t=this.data.map((function(t){return{id:t.id,price:t.price||0,stock:t.stock||0}}));return{goods_id:this.id,options:t}},handleSpan:function(t){var e=t.rowIndex,a=t.columnIndex,i={rowspan:0,colspan:1};return a<this.specs.length?(e%this.colspan[a]==0&&(i={rowspan:this.colspan[a],colspan:1}),i):[1,1]}}};e.default=d},aef4:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wx-transaction"},[e("search-header",{on:{"on-search":t.handleSearch,"on-action":t.handleAction}}),e("table-list",{ref:"table",attrs:{data:t.tableData,"page-size":t.page.pageSize,current:t.page.pageNumber,total:t.total,loading:t.loading},on:{"on-page-change":t.changePage,"on-refresh":t.handleRefresh,"on-detail":t.handleDetail}}),e("add-goods",{ref:"add_goods",on:{"on-refresh":t.handleRefresh}}),e("hint-modal",{ref:"hint_modal",on:{"on-add-goods":function(e){return t.handleAction("add")}}}),e("goods-detail",{ref:"goods_detail",attrs:{id:t.goods.id}}),t._t("default")],2)};e.render=a;var i=[];e.staticRenderFns=i},af1f:function(t,e,a){"use strict";var i=a("b4ba");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},b4ba:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{title:"修改商品信息",width:450},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("Form",{ref:"form_info",staticClass:"edit-information-modal",attrs:{model:t.model,rules:t.rules,"label-width":120}},[e("FormItem",{attrs:{label:"价格：",prop:"price"}},[e("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:2,"max-value":9999999.99,type:"text",disabled:t.is_activity_goods,placeholder:"商品价格"},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",e)},expression:"model.price"}},[e("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),e("FormItem",{attrs:{label:"库存：",prop:"stock"}},[e("kdx-rr-input",{staticClass:"width-250",attrs:{type:"text",number:"",fixed:0,"max-value":999999999,disabled:t.is_activity_goods||"2"==t.model_type,placeholder:"商品库存"},model:{value:t.model.stock,callback:function(e){t.$set(t.model,"stock",e)},expression:"model.stock"}},[e("span",{attrs:{slot:"append"},slot:"append"},[t._v("件")])])],1)],1)],1)};e.render=a;var i=[];e.staticRenderFns=i},b590:function(t,e,a){"use strict";var i=a("90a8");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},b655:function(t,e,a){},b6f7:function(t,e,a){t.exports=a.p+"static/dist/shop/img/example.png"},b950:function(t,e,a){"use strict";a("b655")},ba2b:function(t,e,a){"use strict";a.r(e);var i=a("00c2"),s=a("0b7dd");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("dd84");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"0a8f487e",null);e["default"]=r.exports},ba3e:function(t,e,a){},bcba:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d9e2"),a("d81d"),a("d3b7"),a("159b"),a("14d9"),a("4de4"),a("fb6a");var s=i(a("0659")),n={name:"AddGoods",components:{GoodsSelector:s.default},data:function(){return{value:!1,model:{classify:"",classifyName:"",goodsList:[],certification:[]},Cascader:[],rules:{classify:[{required:!0,message:"分类必填"}],goodsList:[{required:!0,validator:function(t,e,a){(null===e||void 0===e?void 0:e.length)>0&&a(),a(new Error("请选择要上传的商品"))}}]},columns:[{title:"商品",slot:"goods"},{title:"操作",slot:"action",width:100}],selector:{value:!1},loading:!1,classifyData:[],goodsList:[],page:{pageSize:3,pageNumber:1}}},computed:{total:function(){return this.model.goodsList.length}},methods:{setValue:function(){var t;(this.value=!this.value,this.value)&&(this.resetModel(),(null===(t=this.classifyData)||void 0===t||!t.length)&&this.getCategory(),this.model.goodsList=[],this.resetPage(),this.getGoodsList())},getCategory:function(){var t=this;this.$api.wxTransactionComponentApi.getCategory().then((function(e){0===e.error&&(t.classifyData=e.data||[])}))},handleOk:function(){var t=this;this.$refs["form"].validate((function(e){if(e){var a;t.loading=!0;var i={goods_id:t.model.goodsList.map((function(t){return t.id})),category_id:t.model.classify,category_name:t.model.classifyName,goods_qualification:null!==(a=t.model.certification)&&void 0!==a&&a.length?t.model.certification:""};t.$api.wxTransactionComponentApi.addGoods(i).then((function(e){0===e.error&&(t.$Message.success("商品添加成功"),t.setValue(),t.$emit("on-refresh"))})).finally((function(){t.loading=!1}))}}))},handleCancel:function(){this.setValue()},addGoods:function(){this.selector.value=!0},cancelSelector:function(){this.selector.value=!1},changeSelector:function(t){this.model.goodsList=t,this.cancelSelector(),this.resetPage(),this.getGoodsList()},changeClassify:function(t,e){var a;e=null!==(a=e)&&void 0!==a&&a.length?e:this.getSelectClassify(t,this.classifyData);var i=e[e.length-1];this.model.classify=i.value,this.model.classifyName=i.label,this.Cascader=t.map((function(t){return parseInt(t)}))},getSelectClassify:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((function(e){var s;e.value===+t[(null===i||void 0===i?void 0:i.length)||0]&&(i.push(e),(null===(s=e.children)||void 0===s?void 0:s.length)&&a.getSelectClassify(t,e.children,i))})),i},resetModel:function(){this.model={classify:"",classifyName:"",goodsList:[],certification:[]},this.Cascader=[]},changeImage:function(t){this.model.certification=t},resetPage:function(){this.page={pageSize:3,pageNumber:1},this.$refs["page"].reset(this.page)},changePage:function(t){this.page=t,this.getGoodsList()},deleteGoods:function(t){this.model.goodsList=this.model.goodsList.filter((function(e){return e.id!==t.id})),this.resetPage(),this.getGoodsList()},getGoodsList:function(){var t=(this.page.pageNumber-1)*this.page.pageSize,e=this.page.pageNumber*this.page.pageSize;this.goodsList=this.model.goodsList.slice(t,e)},goodsType:function(t){var e={goodsName:"",goodsText:""};switch(t){case"0":e={goodsName:"real",goodsText:"实"};break;case"1":e={goodsName:"virtual",goodsText:"虚"};break;case"2":e={goodsName:"secret",goodsText:"密"};break;case"3":e={goodsName:"appoint",goodsText:"预"};break;case"5":e={goodsName:"verifyCount",goodsText:"次"};break;default:e={goodsName:"",goodsText:""};break}return e}}};e.default=n},c2c0:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-header"},[e("kdx-header-bar",{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"header-btn"},[e("Button",{attrs:{type:"primary",disabled:t.noManagePerm},on:{click:function(e){return t.handleAction("add")}}},[t._v("+添加商品")]),e("Button",{staticClass:"primary-border",attrs:{disabled:t.noManagePerm},on:{click:function(e){return t.handleAction("refresh")}}},[t._v("同步刷新")]),e("Button",{attrs:{type:"text"},on:{click:function(e){return t.handleAction("explain")}}},[t._v("自定义交易组件说明")])],1)]},proxy:!0}])},[e("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"商品名称："}},[e("Input",{staticClass:"width-172",attrs:{type:"text",placeholder:"请输入商品名称"},on:{"on-enter":t.handleSearch},model:{value:t.model.keywords,callback:function(e){t.$set(t.model,"keywords",e)},expression:"model.keywords"}})],1),e("FormItem",{attrs:{label:"商品状态："}},[e("Select",{staticClass:"width-160",model:{value:t.model.goods_status,callback:function(e){t.$set(t.model,"goods_status",e)},expression:"model.goods_status"}},t._l(t.optionData.status,(function(a){return e("Option",{key:a.field,attrs:{value:a.field}},[t._v(t._s(a.title)+" ")])})),1)],1),e("FormItem",{attrs:{label:"审核状态："}},[e("Select",{staticClass:"width-160",model:{value:t.model.wx_status,callback:function(e){t.$set(t.model,"wx_status",e)},expression:"model.wx_status"}},t._l(t.optionData.auditStatus,(function(a){return e("Option",{key:a.field,attrs:{value:a.field}},[t._v(t._s(a.title)+" ")])})),1)],1),e("FormItem",{attrs:{label:"提交时间："}},[e("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"提交时间"},on:{"on-change":t.changeDate},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1),e("div",{staticClass:"ivu-form-item-btn"},[e("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),e("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)],1)};e.render=a;var i=[];e.staticRenderFns=i},cc96:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"EditInformation",props:{model_type:{type:[Number,String]},price:{type:[Number,String]},stock:{type:[Number,String]},id:{type:[Number,String]},is_activity_goods:{type:Boolean},isExternal:{type:Boolean,default:!1}},data:function(){return{value:!1,model:{price:"",stock:""},rules:{price:[{required:!0,message:"价格必填"}],stock:[{required:!0,message:"库存必填"}]}}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.model={price:this.price,stock:this.stock})},handleCancel:function(){this.setValue()},handleOk:function(){var t=this;this.$refs["form_info"].validate((function(e){if(e){var a=Object.assign({goods_id:t.id},t.model);t.$api.goodsApi.editInformation(a).then((function(e){0===e.error&&(!t.isExternal&&t.setValue(),t.$emit("on-refresh"))}))}}))}}};e.default=i},dc90:function(t,e,a){"use strict";a("7e26")},dd84:function(t,e,a){"use strict";a("38ee")},df52:function(t,e,a){"use strict";a.r(e);var i=a("2e49"),s=a("3184");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("881dc");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"f6761ad4",null);e["default"]=r.exports},e3b7:function(t,e,a){"use strict";a.r(e);var i=a("b590"),s=a("2c28");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("b950");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"07fa29e4",null);e["default"]=r.exports},e8b56:function(t,e,a){"use strict";a.r(e);var i=a("a1fe"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},e980:function(t,e,a){"use strict";a("0e9f")},eaa3:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("15fd"));a("a9e3"),a("d3b7");var n=["goods_info"],o={name:"GoodsDetail",props:{id:[String,Number]},data:function(){return{columns:[{title:"商品",slot:"goods"}],value:!1,goodsList:[],data:{},loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&this.getData()},getData:function(){var t=this;this.loading=!1,this.$api.wxTransactionComponentApi.getAuditGoodsDetail({id:this.id}).then((function(e){if(0===e.error){var a=e.data,i=a.goods_info,o=(0,s.default)(a,n);console.log("res",e),t.data=o,t.goodsList=i?[i]:[]}})).finally((function(){t.loading=!1}))},goodsType:function(t){var e={goodsName:"",goodsText:""};switch(t){case"0":e={goodsName:"real",goodsText:"实"};break;case"1":e={goodsName:"virtual",goodsText:"虚"};break;case"2":e={goodsName:"secret",goodsText:"密"};break;case"3":e={goodsName:"appoint",goodsText:"预"};break;case"5":e={goodsName:"verifyCount",goodsText:"次"};break;default:e={goodsName:"",goodsText:""};break}return e}}};e.default=o},eeb5:function(t,e,a){},efdd:function(t,e,a){"use strict";a("32c0")},f1726:function(t,e,a){"use strict";var i=a("20e0");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},f6a0:function(t,e,a){"use strict";a("72a5")},f7a4:function(t,e,a){"use strict";a.r(e);var i=a("af1f"),s=a("7d09");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("dc90");var o=a("2877"),r=Object(o["a"])(s["default"],i["render"],i["staticRenderFns"],!1,null,"4a11ad90",null);e["default"]=r.exports},f859:function(t,e,a){"use strict";var i=a("fc6b");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},f862:function(t,e,a){"use strict";a.r(e);var i=a("8da8"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},fa77:function(t,e,a){"use strict";var i=a("aef4");a.o(i,"render")&&a.d(e,"render",(function(){return i["render"]})),a.o(i,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]}))},fc6b:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("kdx-modal-frame",{attrs:{value:t.value,title:"商品选择器",width:"1000","ok-text":"保存"},on:{"on-ok":t.handleSave,"on-cancel":t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[t.activity.show?e("div",{staticClass:"btn-group"},[e("Button",{attrs:{type:"primary"},on:{click:function(e){t.activity.show=!1}}},[t._v("返回选择商品")])],1):t._e()]},proxy:!0}])},[e("div",{staticClass:"goods-preview"},[e("div",{ref:"scrollBox",staticClass:"goods-preview-content"},[t.activity.show?t._e():e("div",{staticClass:"search"},[e("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":t.handleSearch,"on-enter":t.handleSearch},model:{value:t.search.keywords,callback:function(e){t.$set(t.search,"keywords",e)},expression:"search.keywords"}})],1),t.activity.show?t._e():e("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],ref:"table",attrs:{columns:t.columns,data:t.table.data}}),t.activity.show?e("Table",{ref:"activityTable",attrs:{columns:t.activity.columns,data:t.activity.data},scopedSlots:t._u([{key:"status",fn:function(a){var i=a.row;return[1===+i.status?e("kdx-status-text",{attrs:{type:"success"}},[t._v("进行中")]):t._e(),-1===+i.status?e("kdx-status-text",{attrs:{type:"danger"}},[t._v("已停止")]):t._e(),-2===+i.status?e("kdx-status-text",{attrs:{type:"danger"}},[t._v("手动停止")]):t._e(),0===+i.status?e("kdx-status-text",{attrs:{type:"warning"}},[t._v("未开始")]):t._e()]}},{key:"date",fn:function(a){var i=a.row;return[e("div",{staticClass:"time"},[t._v("起："+t._s(t.getTime(i.start_time)))]),e("div",{staticClass:"time"},[t._v("止："+t._s(t.getTime(i.end_time)))])]}}],null,!1,940490386)}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.table.total>10&&!t.activity.show,expression:"table.total > 10&&!activity.show"}],staticClass:"footer-page"},[e("kdx-page-component",{ref:"page",attrs:{total:t.table.total},on:{"on-change":t.handlePageChange}})],1)])])};e.render=i;var s=[];e.staticRenderFns=s}}]);