(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"01e8":function(e,t,n){"use strict";var a=n("2a6f");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"01f7":function(e,t,n){"use strict";n.r(t);var a=n("6449"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"024b":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.styleA5=t.styleA4=void 0,n("99af"),n("d81d"),n("d3b7"),n("b0c0"),n("a15b");var r=a(n("87b5")),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a="\n        ".concat(r.default.getHtmlHeader(),"\n         ").concat(r.default.getCss(),'\n    <div class="direction-vertical">\n        ').concat(s(e,t,n),"\n        ").concat(r.default.getFooter(t,n),"\n    </div>\n     ").concat(r.default.getHtmlFooter(),"\n    ");return a};t.styleA4=i;var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a="\n        ".concat(r.default.getHtmlHeader(),"\n         ").concat(r.default.getCss(),'\n    <div class="direction-horizontal">\n       ').concat(s(e,t,n),"\n        ").concat(r.default.getFooter(t,n),"\n    </div>\n        ").concat(r.default.getHtmlFooter(),"\n    ");return a};function s(e,t,n){var a=e.map((function(e){var a=e.children.some((function(e){return e.checked}));if((a||e.logo)&&"send_message"===e.key)return"\n                ".concat(r.default.getHeader(e.children,t,n),"\n            ");if(a&&"order_message"===e.key)return"\n                ".concat(0==t.type?r.default.getFormInfo(e.name):"","\n                ").concat(r.default.getOrder(e.children,t,n),"\n            ");if(a&&"consignee_message"===e.key)return"\n                ".concat(0==t.type?r.default.getFormInfo(e.name):"","\n                ").concat(r.default.userInfo(e.children,t,n),"\n            ");if(a&&"goods_message"===e.key)return"\n                ".concat(0==t.type?r.default.getFormInfo(e.name):"","\n                ").concat(r.default.getGoods(e.children,t,n),"\n            ");if(a&&"price_message"===e.key){var i="";return 0==t.type&&n.order_goods.length>=10&&n.order_goods.length<13&&(i="page-break-before:always;padding-top: 80px;"),'\n            <div style="'.concat(i,'">\n                ').concat(0==t.type?r.default.getFormInfo(e.name):"","\n                ").concat(0==t.type?r.default.getCharge(e.children,t,n):r.default.getChargeHorizontal(e.children,t,n),"\n            </div>\n            ")}return" "}));return a.join(" ")}t.styleA5=o},"054c":function(e,t,n){"use strict";n.r(t);var a=n("ee17"),r=n("58b1");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("ee22");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"77f3311a",null);t["default"]=s.exports},"07ac":function(e,t,n){var a=n("23e7"),r=n("6f53").values;a({target:"Object",stat:!0},{values:function(e){return r(e)}})},"07df":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("3c7c"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,n){return e+t*(3-n%2*2)}),0);return 10*Math.ceil(t/10)-t},u=function(e){function t(e,n){return s(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=d(e)),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===d(this.data)}}]),t}(i.default);t.default=u},"0943":function(e,t,n){"use strict";n.r(t);var a=n("c4ac"),r=n("380b");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("5a29");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"3b8598f9",null);t["default"]=s.exports},"0c11":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("841c"),n("14d9"),n("d81d");var r=a(n("5530")),i=a(n("a789")),o=!1,s={components:{SearchHeader:i.default},data:function(){return{loading:!1,page:{pageSize:10,pageNumber:1},search:{name:"",express_company:"",type:""},columns:[{type:"selection",width:40,align:"center"},{title:"模板名称",slot:"name"},{title:"模板类型",slot:"type"},{title:"快递公司",key:"express_company_text"},{title:"操作",slot:"action"}],data:[],selectRows:[],total:0}},computed:{isSelectAll:function(){return this.selectRows.length===this.data.length},selectDisabled:function(){return 0===this.selectRows.length},noManagePerm:function(){return!this.$getPermMap("expressHelper.express_template.manage")}},created:function(){this.getExpressTempList()},methods:{getExpressTempList:function(){var e=this;this.loading=!0;var t=(0,r.default)((0,r.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});this.$api.eOrderApi.getExpressTempList(t).then((function(t){e.loading=!1,0===t.error&&(e.data=t.list,e.total=t.total)}))},handleSearch:function(e){this.search=(0,r.default)((0,r.default)({},this.search),e),this.refreshTable()},changePage:function(e){this.page=e,this.getExpressTempList()},handleDefault:function(e){var t=this;this.$api.eOrderApi.switchExpressTempDefault({id:e.id,is_default:"0"===e.is_default?"1":"0"}).then((function(e){0===e.error&&(t.refreshTable(),t.$Message.success("电子面单默认模板变更成功"))}))},handleEdit:function(e){this.$router.push({path:"/eOrder/templateManagement/eOrder/edit",query:{id:e}})},handleDelete:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认彻底删除电子面单模板？",onOk:function(){if(o=!1,e)"1"===e.is_default&&(o=!0),t.deleteExpressTemp(e.id);else{var n=t.selectRows.map((function(e){return"1"===e.is_default&&(o=!0),e.id}));t.deleteExpressTemp(n)}},onCancel:function(){}})},handleBatchDelete:function(){this.handleDelete()},deleteExpressTemp:function(e){var t=this;this.$api.eOrderApi.deleteExpressTemp({id:e}).then((function(e){0===e.error&&(t.refreshTable(),t.$Message.success("删除成功"),o&&setTimeout((function(){t.$Message.success("电子面单默认模板变更成功")}),2e3))}))},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["page"].reset(),this.getExpressTempList()},handleSelectionChange:function(e){this.selectRows=e},handleCheckboxChange:function(e){this.$refs["table"].selectAll(e)}}};t.default=s},"0e04":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("5319"),n("b0c0");var r=a(n("5530")),i={data:function(){return{model:{name:"",consigner_company:"",consigner_name:"",consigner_mobile:"",consigner_province:"",consigner_city:"",consigner_area:"",consigner_addr:[],consigner_address:"",postcode:""},rule:{name:[{required:!0,message:"模板名称必填"},{whitespace:!0,message:"模板名称必填"}],consigner_name:[{required:!0,message:"发件人名称必填"},{whitespace:!0,message:"发件人名称必填"}],consigner_mobile:[{required:!0,message:"发件人手机必填"},{whitespace:!0,message:"发件人手机必填"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机号格式不正确"}],consigner_addr:[{required:!0,message:"发件人城市必选"}],consigner_address:[{required:!0,message:"详细地址必填"},{whitespace:!0,message:"详细地址必填"}],postcode:[{max:10,message:"邮编长度不能大于10位"}]},loading:!1,id:"",type:""}},computed:{addressList:function(){var e;return(null===(e=this.$store.state.config)||void 0===e?void 0:e.address)||[]}},created:function(){this.$store.dispatch("config/getAddress");var e=this.$route.query.id,t=this.$route.params.type;this.id=e,this.type=t,"edit"===this.type&&this.id&&this.getSenderTempDetail()},methods:{getSenderTempDetail:function(){var e=this;this.$api.eOrderApi.getSenderTempDetail({id:this.id}).then((function(t){0==t.error&&(e.model=(0,r.default)((0,r.default)((0,r.default)({},e.model),t.data),{},{consigner_addr:[t.data.consigner_province,t.data.consigner_city,t.data.consigner_area]}))}))},handleSave:function(){var e=this;this.$refs["form"].validate().then((function(t){t&&(e.loading=!0,"edit"===e.type?e.editSenderTemp():e.addSenderTemp())}))},addSenderTemp:function(){var e=this,t=this.formatParams();this.$api.eOrderApi.addSenderTemp((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&(e.$Message.success("保存成功"),e.$router.replace({path:"/eOrder/templateManagement/sender/index"}))}))},editSenderTemp:function(){var e=this,t=this.formatParams();t=(0,r.default)((0,r.default)({},t),{},{id:this.id}),this.$api.eOrderApi.editSenderTemp((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&(e.$Message.success("保存成功"),e.$router.replace({path:"/eOrder/templateManagement/sender/index"}))}))},formatParams:function(){var e=this.model,t=e.name,n=e.consigner_company,a=e.consigner_name,r=e.consigner_mobile,i=e.consigner_addr,o=e.consigner_address,s=e.postcode,l={name:t,consigner_company:n,consigner_name:a,consigner_mobile:r,consigner_address:o,postcode:s};return l["consigner_province"]=i[0],l["consigner_city"]=i[1],l["consigner_area"]=i[2],s||(l["postcode"]="000000"),l}}};t.default=i},"0fb9":function(e,t,n){},"10ae":function(e,t,n){},"124f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),a(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]),a=n.toString(2);a=u(a,4-a.length);for(var r=0;r<a.length;r++)e+="0"==a[r]?"100":"110"}return e+="1001",{data:e,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}(i.default);function u(e,t){for(var n=0;n<t;n++)e="0"+e;return e}t.default=d},"148b":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0");var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSave}},[e._v(" 保存 ")]),t("Button",{staticClass:"default-long",attrs:{to:"/eOrder/templateManagement/eOrder/index"}},[e._v(" 取消 ")]),t("Button",{staticClass:"default-long",attrs:{loading:e.loading},on:{click:e.handleTest}},[e._v(" 参数校验 ")])]},proxy:!0}])},[t("div",{staticClass:"content"},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":160,rules:e.rule}},[t("kdx-form-title",[e._v("模板设置")]),t("FormItem",{attrs:{label:"电子面单模板名称：",prop:"name"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:"20"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{attrs:{label:"模板类型：",prop:"type"}},[t("RadioGroup",{model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[t("Radio",{attrs:{label:"0"}},[e._v(" 快递鸟 ")])],1)],1),t("FormItem",{attrs:{label:"快递公司：",prop:"express_company"}},[t("Select",{staticClass:"width-340",attrs:{filterable:""},on:{"on-change":e.changeExpressCompany},model:{value:e.model.express_company,callback:function(t){e.$set(e.model,"express_company",t)},expression:"model.express_company"}},e._l(e.expressList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),new Set(["SF","JD"]).has(e.model.express_company)?t("FormItem",{attrs:{label:"面单类型：",prop:"is_sub"}},[t("RadioGroup",{on:{"on-change":e.changeIsSub},model:{value:e.model.is_sub,callback:function(t){e.$set(e.model,"is_sub",t)},expression:"model.is_sub"}},[t("Radio",{attrs:{label:"0"}},[e._v("常规单")]),t("Radio",{attrs:{label:"1"}},[e._v("子母单")])],1),t("kdx-hint-text",[e._v("子母单一般用于一笔订单分包裹同时发货，仅支持单个订单打印")])],1):e._e(),new Set(["SF","YZBK","YZPY"]).has(e.model.express_company)?e._e():t("FormItem",{attrs:{label:"电子面单客户账号：",prop:"template_account"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"与快递网点申请",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.template_account,callback:function(t){e.$set(e.model,"template_account",t)},expression:"model.template_account"}})],1),new Set(["SF","YZBK","YZPY"]).has(e.model.express_company)?e._e():t("FormItem",{attrs:{label:"电子面单密码：",prop:"template_password"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"与快递网点申请",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.template_password,callback:function(t){e.$set(e.model,"template_password",t)},expression:"model.template_password"}})],1),t("FormItem",{attrs:{label:"月结编码：",prop:"monthly_code"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"快递公司提供",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.monthly_code,callback:function(t){e.$set(e.model,"monthly_code",t)},expression:"model.monthly_code"}})],1),t("FormItem",{attrs:{label:"网点名称：",prop:"branch_name"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"快递公司提供",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.branch_name,callback:function(t){e.$set(e.model,"branch_name",t)},expression:"model.branch_name"}})],1),t("FormItem",{attrs:{label:"网点编码：",prop:"branch_code"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"快递公司提供",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.branch_code,callback:function(t){e.$set(e.model,"branch_code",t)},expression:"model.branch_code"}})],1),t("FormItem",{attrs:{label:"模板样式：",prop:"template_style"}},[t("Select",{staticClass:"width-340",model:{value:e.model.template_style,callback:function(t){e.$set(e.model,"template_style",t)},expression:"model.template_style"}},e._l(e.tempStyleList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("FormItem",{attrs:{label:"邮费支付方式：",prop:"pay_type"}},[t("Select",{staticClass:"width-340",model:{value:e.model.pay_type,callback:function(t){e.$set(e.model,"pay_type",t)},expression:"model.pay_type"}},e._l(e.payTypeList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("FormItem",{attrs:{label:"快递员上门揽件：",prop:"pick_type"}},[t("RadioGroup",{model:{value:e.model.is_notice,callback:function(t){e.$set(e.model,"is_notice",t)},expression:"model.is_notice"}},[t("Radio",{attrs:{label:"0"}},[e._v("是")]),t("Radio",{attrs:{label:"1"}},[e._v("否")])],1)],1),t("FormItem",{attrs:{label:"自动修改发货状态：",prop:"pick_type"}},[t("RadioGroup",{model:{value:e.model.auto_send,callback:function(t){e.$set(e.model,"auto_send",t)},expression:"model.auto_send"}},[t("Radio",{attrs:{label:"1",disabled:1==e.model.is_sub}},[e._v("是")]),t("Radio",{attrs:{label:"0",disabled:1==e.model.is_sub}},[e._v("否")])],1),1==e.model.is_sub?t("kdx-hint-text",[e._v("子母单无法自动分配子母单号，不支持自动修改发货状态，请手动处理订单发货")]):e._e()],1)],1)],1)])};t.render=a;var r=[];t.staticRenderFns=r},"166a":function(e,t,n){"use strict";var a=n("c23d");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},1985:function(e,t,n){"use strict";n.r(t);var a=n("2b10"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"1ba5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=n("bdfe"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){var t=e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+t:e+3*t}),0);return(10-t%10)%10},f=function(e){function t(e,n){return l(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=u(e)),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return d(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(o.default);t.default=f},"1e09":function(e,t,n){"use strict";var a=n("c2fae");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"232a":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLodop=c,t.needCLodop=s,n("ac1f"),n("466d"),n("d9e2");var a,r,i,o=n("f825");function s(){try{var e=navigator.userAgent;if(e.match(/Windows\sPhone/i))return!0;if(e.match(/iPhone|iPod|iPad/i))return!0;if(e.match(/Android/i))return!0;if(e.match(/Edge\D?\d+/i))return!0;var t=e.match(/Trident\D?\d+/i),n=e.match(/MSIE\D?\d+/i),a=e.match(/OPR\D?\d+/i),r=e.match(/Firefox\D?\d+/i),i=e.match(/x64/i);if(!t&&!n&&i)return!0;if(r){if(r=r[0].match(/\d+/),r[0]>=41||i)return!0}else if(a){if(a=a[0].match(/\d+/),a[0]>=32)return!0}else if(!t&&!n){var o=e.match(/Chrome\D?\d+/i);if(o&&(o=o[0].match(/\d+/),o[0]>=41))return!0}return!1}catch(s){return!0}}function l(){if("loading"!=i&&"complete"!=i){i="loading";var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script"),n=document.createElement("script");t.src="http://localhost:8000/CLodopfuncs.js?priority=1",n.src="http://localhost:18000/CLodopfuncs.js",t.onload=n.onload=function(){i="complete"},t.onerror=n.onerror=function(){i="complete"},e.insertBefore(t,e.firstChild),e.insertBefore(n,e.firstChild),r=!!(t.src+n.src).match(/\/\/localho|\/\/127.0.0./i)}}function c(e,t){var n;try{var l=navigator.userAgent,c=!!l.match(/MSIE/i)||!!l.match(/Trident/i);if(s()){try{n=window.getCLodop()}catch(v){throw new Error(v)}if(!n&&"complete"!==i){var d="";return d="loading"==i?"网页还没下载完毕，请稍等一下再操作。":"没有加载CLodop的主js，请先调用loadCLodop过程。",void o.Modal.confirm({title:"提示",content:d})}if(!n){var u="Web打印服务CLodop未安装启动（CLodop_Setup_for_Win32NT.exe）";return r&&(u="".concat(u,"（若此前已安装过，请先启动）")),u="".concat(u,"，成功后请刷新本页面。"),void o.Modal.confirm({title:"提示",content:u,okText:"前往下载",onOk:function(){window.open("http://www.lodop.net/download.html")}})}if(window.CLODOP.CVERSION<"4.0.9.9"){var f="Web打印服务CLodop需升级!请下载安装最新 CLodop_Setup_for_Win32NT.exe，升级后请刷新页面。";o.Modal.confirm({title:"提示",content:f,okText:"前往下载",onOk:function(){window.open("http://www.lodop.net/download.html")}})}t&&t.parentNode&&t.parentNode.removeChild(t),e&&e.parentNode&&e.parentNode.removeChild(e)}else{var p=c&&!!l.match(/x64/i);if(e||t?n=c?e:t:a?n=a:(n=document.createElement("object"),n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),c?n.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):n.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(n),a=n),!n||!n.VERSION){var h="";return l.indexOf("Chrome")>=0&&(h="(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）打印控件未安装!请下载安装"),l.indexOf("Firefox")>=0&&(h="（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）打印控件未安装!"),h="".concat(h,p?" install_lodop64.exe,安装后请刷新页面或重新进入。":" install_lodop32.exe,安装后请刷新页面或重新进入。"),o.Modal.confirm({title:"提示",content:h,okText:"前往下载",onOk:function(){window.open("http://www.lodop.net/download.html")}}),n}}if(n.VERSION<"6.2.2.6"&&!s()){var m=p?"打印控件需要升级!请下载安装 install_lodop64.exe 完成升级,升级后请重新进入。":"打印控件需要升级!请下载安装 install_lodop32.exe 完成升级,升级后请重新进入。";o.Modal.confirm({title:"提示",content:m,okText:"前往下载",onOk:function(){window.open("http://www.lodop.net/download.html")}})}return n}catch(v){o.Modal.confirm({title:"提示",content:"检测到您尚未安装打印控件Lodop，是否前去下载安装?安装后请刷新页面或重新进入。",okText:"前往下载",onOk:function(){window.open("http://www.lodop.net/download.html")}})}}s()&&l()},"241e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var a=n("89a2"),r=m(a),i=n("1ba5"),o=m(i),s=n("583f5"),l=m(s),c=n("a5d2"),d=m(c),u=n("e8b2a"),f=m(u),p=n("be98"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}t.EAN13=r.default,t.EAN8=o.default,t.EAN5=l.default,t.EAN2=d.default,t.UPC=f.default,t.UPCE=h.default},"25e3":function(e,t,n){"use strict";n.r(t);var a=n("47945"),r=n("a2b9");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("f67d");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"2532024b",null);t["default"]=s.exports},"262e":function(e,t,n){},"266e":function(e,t,n){"use strict";n("fa18")},"289d":function(e,t,n){"use strict";n.r(t);var a=n("c859"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"2a4a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},"2a6f":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activity-wrap"},[t("search-header",{ref:"search_header",on:{"on-search":e.handleSearch}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-list"},[t("Table",{ref:"table",attrs:{columns:e.columns,data:e.data},on:{"on-selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"name",fn:function(n){var a=n.row;return[t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text"},[e._v(e._s(a.name))]),"1"===a.is_default?t("kdx-tag-label",{attrs:{type:"info"}},[e._v(" 默认 ")]):e._e()],1)]}},{key:"consigner_address",fn:function(n){var a=n.row;return[t("div",[e._v(" "+e._s(a.consigner_province)+" "+e._s(a.consigner_city)+" "+e._s(a.consigner_area)+" ")]),t("div",[e._v(e._s(a.consigner_address))])]}},{key:"action",fn:function(n){var a=n.row;return[t("div",{staticClass:"btn-box"},["0"===a.is_default?t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDefault(a)}}},[e._v(" 设为默认 ")]):e._e(),"1"===a.is_default?t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDefault(a)}}},[e._v(" 取消默认 ")]):e._e(),t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleEdit(a.id)}}},[e._v(" 编辑 ")]),t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDelete(a)}}},[e._v(" 删除 ")])],1)]}}])}),e.data.length>0?t("div",{staticClass:"footer-action"},[t("Checkbox",{attrs:{value:e.isSelectAll},on:{"on-change":e.handleCheckboxChange}}),t("Button",{attrs:{disabled:e.selectDisabled||e.noManagePerm},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.changePage}})],1)],1),e._t("default")],2)};t.render=a;var r=[];t.staticRenderFns=r},"2b10":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("841c");var r=a(n("5530")),i=a(n("3574")),o=a(n("3c28")),s={components:{SearchHeader:i.default,TableList:o.default},data:function(){return{loading:!1,page:{pageSize:10,pageNumber:1},search:{},table:{data:[],total:0,loading:!1}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.table.loading=!0;var t=(0,r.default)((0,r.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});this.$api.eOrderApi.getInvoiceList(t).then((function(t){e.table.loading=!1,0===t.error&&(e.table.data=t.list,e.table.total=t.total)}))},handleSearch:function(e){this.search=e,this.refreshTable()},changePage:function(e){this.page=e,this.getList()},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["table_list"].reset(),this.getList()}}};t.default=s},"2b78":function(e,t,n){"use strict";n.r(t);var a=n("a6a0"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"349c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),e=e.toUpperCase(),n.mod43&&(e+=m(_(e))),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),a(t,[{key:"encode",value:function(){for(var e=p("*"),t=0;t<this.data.length;t++)e+=p(this.data[t])+"0";return e+=p("*"),{data:e,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(i.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],f=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function p(e){return h(v(e))}function h(e){return f[e].toString(2)}function m(e){return u[e]}function v(e){return u.indexOf(e)}function _(e){for(var t=0,n=0;n<e.length;n++)t+=v(e[n]);return t%=43,t}t.CODE39=d},3574:function(e,t,n){"use strict";n.r(t);var a=n("fe45"),r=n("76d2");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"723f5fbb",null);t["default"]=s.exports},"380b":function(e,t,n){"use strict";n.r(t);var a=n("0e04"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"3c28":function(e,t,n){"use strict";n.r(t);var a=n("9897"),r=n("f4b2");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("f7b6");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"1c6bf7db",null);t["default"]=s.exports},"3c7c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("2a4a"),i=n("e762"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:r.START_BIN+t+r.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=r.BINARIES[e[1]];return r.BINARIES[e[0]].split("").map((function(e,n){return("1"===e?"111":"1")+("1"===t[n]?"000":"0")})).join("")}}]),t}(o.default);t.default=u},"3c7d":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-checkbox-data"},[t("ul",[e._l(e.list,(function(n,a){return[t("li",{key:a,class:{action:e.checkedKey===n.key}},[t("div",{staticClass:"title"},[t("Checkbox",{attrs:{value:n.checked,indeterminate:n.indeterminate,disabled:n.disabled},on:{"on-change":function(t){return e.changeItem(a)}}},[t("span",[e._v(e._s(n.name))])])],1),n.children?t("ul",e._l(n.children,(function(n,r){return t("li",{key:r},[t("Checkbox",{attrs:{value:n.checked,disabled:n.disabled},on:{"on-change":function(t){return e.changeChildItem(a,r)}}},[t("span",[e._v(e._s(n.name))])])],1)})),0):e._e()])]}))],2)])};t.render=a;var r=[];t.staticRenderFns=r},"3f4c":function(e,t,n){"use strict";n.r(t);var a=n("44ed"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"41ac":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("841c"),n("14d9"),n("d81d");var r=a(n("5530")),i=a(n("d4ec9")),o=!1,s={components:{SearchHeader:i.default},data:function(){return{loading:!1,page:{pageSize:10,pageNumber:1},search:{name:""},columns:[{type:"selection",width:40,align:"center"},{title:"模板名称",slot:"name"},{title:"发件公司",key:"consigner_company"},{title:"发件人名称",key:"consigner_name"},{title:"发件人手机号",key:"consigner_mobile"},{title:"发件地址",slot:"consigner_address",minWidth:150},{title:"操作",slot:"action"}],data:[],selectRows:[],total:0}},computed:{isSelectAll:function(){return this.selectRows.length===this.data.length},selectDisabled:function(){return 0===this.selectRows.length},noManagePerm:function(){return!this.$getPermMap("expressHelper.consigner_template.manage")}},created:function(){this.getSenderTempList()},methods:{getSenderTempList:function(){var e=this;this.loading=!0;var t=(0,r.default)((0,r.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});this.$api.eOrderApi.getSenderTempList(t).then((function(t){e.loading=!1,0===t.error&&(e.data=t.list,e.total=t.total)}))},handleSearch:function(e){this.search=(0,r.default)((0,r.default)({},this.search),e),this.refreshTable()},changePage:function(e){this.page=e,this.getSenderTempList()},handleDefault:function(e){var t=this;this.$api.eOrderApi.switchSenderTempDefault({id:e.id,is_default:"0"===e.is_default?"1":"0"}).then((function(e){0===e.error&&(t.refreshTable(),t.$Message.success("发件人默认模板变更成功"))}))},handleEdit:function(e){this.$router.push({path:"/eOrder/templateManagement/sender/edit",query:{id:e}})},handleDelete:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认彻底删除此发件人模板？",onOk:function(){if(o=!1,e)"1"===e.is_default&&(o=!0),t.deleteSenderTemp(e.id);else{var n=t.selectRows.map((function(e){return"1"===e.is_default&&(o=!0),e.id}));t.deleteSenderTemp(n)}},onCancel:function(){}})},deleteSenderTemp:function(e){var t=this;this.$api.eOrderApi.deleteSenderTemp({id:e}).then((function(e){0===e.error&&(t.refreshTable(),t.$Message.success("删除成功"),o&&setTimeout((function(){t.$Message.success("发件人默认模板变更成功")}),2e3))}))},handleBatchDelete:function(){this.handleDelete()},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["page"].reset(),this.getSenderTempList()},handleSelectionChange:function(e){this.selectRows=e},handleCheckboxChange:function(e){this.$refs["table"].selectAll(e)}}};t.default=s},4263:function(e,t,n){},4461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("124f"),r=o(a),i=n("6e53");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod11)(e),n))}return c(t,e),t}(r.default);t.default=d},4470:function(e,t,n){"use strict";n.r(t);var a=n("6455"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"44ed":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7"),n("159b"),n("4de4");var a={name:"CheckboxData",props:{list:{type:Array,default:function(){return[]}},checkedKey:{type:String}},methods:{changeItem:function(e){var t=this.list[e];t.checked=!t.checked,t.indeterminate=!1,t.children.forEach((function(e){e.checked=t.checked})),this.changeKey(t.key),this.refreshList()},changeChildItem:function(e,t){var n=this.list[e],a=n.children[t];a.checked=!a.checked,this.changeKey(n.key),this.setChecked(n),this.refreshList()},setChecked:function(e){var t=e.children.filter((function(e){return e.checked}));t.length===e.children.length?(e.checked=!0,e.indeterminate=!1):(e.checked=!1,e.indeterminate=!!t.length)},setDefault:function(e){var t=this;e.forEach((function(e){t.changeChildItem(e)})),this.list=e},refreshList:function(){this.$emit("on-change",this.list)},changeKey:function(e){this.$emit("on-change-key",e)}}};t.default=a},4727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("124f"),r=o(a),i=n("6e53");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod10)(e),n))}return c(t,e),t}(r.default);t.default=d},47945:function(e,t,n){"use strict";var a=n("776e");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"4b23":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=s(r),o=n("f08e");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e,n){l(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),n));return a.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),a}return d(t,e),a(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,n=e.shift()-105,a=o.SET_BY_CODE[n];if(void 0===a)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(o.FNC1);var r=t.next(e,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(n)+r.result+t.getBar((r.checksum+n)%o.MODULO)+t.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"===typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return o.BARS[e]?o.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===o.SET_A){var n=e.shift();return n<32?n+64:n-32}return t===o.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,n,a){if(!e.length)return{result:"",checksum:0};var r=void 0,i=void 0;if(e[0]>=200){i=e.shift()-105;var s=o.SWAP[i];void 0!==s?r=t.next(e,n+1,s):(a!==o.SET_A&&a!==o.SET_B||i!==o.SHIFT||(e[0]=a===o.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),r=t.next(e,n+1,a))}else i=t.correctIndex(e,a),r=t.next(e,n+1,a);var l=t.getBar(i),c=i*n;return{result:l+r.result,checksum:c+r.checksum}}}]),t}(i.default);t.default=u},"4bb1":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{type:"primary",loading:e.loading,disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v(" 保存 ")])]},proxy:!0}])},[t("div",{staticClass:"content"},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":120,rules:e.rule}},[t("kdx-form-title",[e._v("基础设置")]),t("kdx-hint-alert",{staticStyle:{"margin-bottom":"30px"},attrs:{showIcon:!1}},[t("div",{staticClass:"text"},[e._v("1、请前往注册快递鸟账号。")]),t("div",{staticClass:"text"},[e._v(" 2、快递鸟返回的均是快递公司官方认可的电子面单模板。 ")]),t("div",{staticClass:"text"},[e._v(" 3、打印前请先设置默认电子面单模板。 ")])]),t("FormItem",{attrs:{label:"接口类型选择：",prop:"type"}},[t("RadioGroup",{staticClass:"radio-group",model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[t("Radio",{attrs:{label:"0",border:""}},[t("img",{attrs:{src:n("abfd"),alt:""}}),t("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-yes1"}})],1)],1)],1),t("FormItem",{attrs:{label:"用户ID：",prop:"appid"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.appid,callback:function(t){e.$set(e.model,"appid",t)},expression:"model.appid"}}),t("kdx-hint-text",[e._v(" 没有"),t("span",[e._v(e._s("0"===e.model.type?"快递鸟":"菜鸟"))]),e._v("账号？点击这里"),t("span",{staticClass:"link",on:{click:e.openNewWindow}},[e._v(" "+e._s("0"===e.model.type?"快递鸟":"菜鸟")+" ")]),e._v("前往注册 ")])],1),t("FormItem",{attrs:{label:"API Key",prop:"key"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.key,callback:function(t){e.$set(e.model,"key",t)},expression:"model.key"}})],1)],1)],1)])};t.render=a;var r=[];t.staticRenderFns=r},"4ced":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n,a){r(this,e),this.object=t,this.encodings=n,this.options=a}return a(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=i},5095:function(e,t,n){"use strict";n.r(t);var a=n("65f1"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},5261:function(e,t,n){"use strict";function a(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],"string"===typeof e[n]&&(e[n]=parseInt(e[n],10)));return"string"===typeof e["displayValue"]&&(e["displayValue"]="false"!=e["displayValue"]),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"528e":function(e,t,n){"use strict";var a=n("f1bc");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},5726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("c243"),r=function(e,t,n){var r=e.split("").map((function(e,n){return a.BINARIES[t[n]]})).map((function(t,n){return t?t[e[n]]:""}));if(n){var i=e.length-1;r=r.map((function(e,t){return t<i?e+n:e}))}return r.join("")};t.default=r},"583f5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("c243"),i=n("5726"),o=c(i),s=n("e762"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){var t=e.split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+9*t:e+3*t}),0);return t%10},h=function(e){function t(e,n){return d(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return f(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e=r.EAN5_STRUCTURE[p(this.data)];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),t}(l.default);t.default=h},"58b1":function(e,t,n){"use strict";n.r(t);var a=n("be0c"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"5a29":function(e,t,n){"use strict";n("0fb9")},"5a62":function(e,t,n){"use strict";var a=n("5e56");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"5c6c8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{ref:"note_box",staticClass:"invoice-note-box",attrs:{id:"note_box"}},[t("div",{ref:"note",staticClass:"invoice-note"},[e.note.send_message&&e.note.send_message.children?t("div",{staticClass:"note-header",class:{"note-header-no-long":e.getType,action:"send_message"===e.checkedKey},on:{click:function(t){return e.changeKey("send_message")}}},[t("div",{staticClass:"title-box"},[e.note.send_message.children.send_title?t("div",{staticClass:"title"},[e._v(" "+e._s(e.data.send_title)+" ")]):e._e(),e.note.send_message.children.print_time?t("div",{staticClass:"time"},[e._v(" "+e._s(e.dataBase.print_time)+" ")]):e._e()]),e.data.logo?t("div",{staticClass:"logo"},[t("img",{attrs:{src:e.$media(e.data.logo),alt:""}})]):e._e(),e.note.send_message.children.send_code?t("div",{staticClass:"bar-code"},[e._m(0),t("div",{staticClass:"code"},[e._v(" 发货单编号："+e._s(e.dataBase.send_code)+" ")])]):e._e()]):e._e(),t("div",{staticClass:"note-content",class:{"note-content-no-long":e.getType}},[t("ul",[e.note.order_message&&(e.note.order_message.checked||e.note.order_message.indeterminate)?t("li",{on:{click:function(t){return e.changeKey("order_message")}}},[e.getType?e._e():t("div",{staticClass:"item-title"},[e._v(" "+e._s(e.note.order_message.name)+" ")]),e.note.order_message.children?t("div",{staticClass:"item-info-box order-info",class:{action:"order_message"===e.checkedKey}},[t("ul",[e._l(e.note.order_message.children,(function(n){return[n.checked?t("li",{key:n.key},[t("span",{staticClass:"label"},[e._v(" "+e._s(n.name)+"： ")]),t("span",{staticClass:"content"},[e._v(" "+e._s(e.dataBase[n.key])+" ")])]):e._e()]}))],2)]):e._e()]):e._e(),e.note.consignee_message&&(e.note.consignee_message.checked||e.note.consignee_message.indeterminate)?t("li",{on:{click:function(t){return e.changeKey("consignee_message")}}},[e.getType?e._e():t("div",{staticClass:"item-title"},[e._v(" "+e._s(e.note.consignee_message.name)+" ")]),e.note.consignee_message.children?t("div",{staticClass:"item-info-box user-info",class:{action:"consignee_message"===e.checkedKey}},[t("ul",[e.note.consignee_message.children.buyer_name?t("li",{staticClass:"name"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.note.consignee_message.children.buyer_name.name)+"： ")]),t("span",{staticClass:"content"},[e._v(" "+e._s(e.dataBase.buyer_name)+" ")])]):e._e(),e.note.consignee_message.children.buyer_mobile?t("li",{staticClass:"contact-way"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.note.consignee_message.children.buyer_mobile.name)+"： ")]),t("span",{staticClass:"content"},[e._v(" "+e._s(e.dataBase.buyer_mobile)+" ")])]):e._e(),e.note.consignee_message.children.address_code?t("li",{staticClass:"address"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.note.consignee_message.children.address_code.name)+"： ")]),t("span",{staticClass:"content"},[e._v(" "+e._s(e.dataBase.address_code)+" ")])]):e._e()]),e.note.consignee_message.children.buyer_remark?t("div",{staticClass:"leave-message"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.note.consignee_message.children.buyer_remark.name)+"： ")]),t("span",{staticClass:"content"},[e._v(" "+e._s(e.dataBase.buyer_remark)+" ")])]):e._e()]):e._e()]):e._e(),e.note.goods_message&&(e.note.goods_message.checked||e.note.goods_message.indeterminate)?t("li",{on:{click:function(t){return e.changeKey("goods_message")}}},[e.getType?e._e():t("div",{staticClass:"item-title"},[e._v(" "+e._s(e.note.goods_message.name)+" ")]),e.note.goods_message.children?t("div",{staticClass:"shop-table-list",class:{action:"goods_message"===e.checkedKey}},[t("table",{attrs:{width:"100%"}},[t("thead",{staticClass:"table-header"},[t("tr",[e._l(e.note.goods_message.children,(function(n){return[n.checked?t("th",{key:n.id,class:n.key},[e._v(" "+e._s(n.name)+" ")]):e._e()]}))],2)]),t("tbody",{staticClass:"table-content"},[e._l(e.dataBase.order_goods,(function(n,a){return[t("tr",{key:a},[e._l(e.note.goods_message.children,(function(a){return[a.checked?t("td",{key:a.id,class:a.key},[t("div",[t("div",{class:{"goods-two-line-hide":"title"===a.key||"option_title"===a.key}},[e._v(" "+e._s("price_unit"===a.key||"price"===a.key?"￥":"")+e._s(n[a.key]||"-"))])])]):e._e()]}))],2)]}))],2)])]):e._e()]):e._e(),e.note.price_message&&(e.note.price_message.checked||e.note.price_message.indeterminate)?t("li",{on:{click:function(t){return e.changeKey("price_message")}}},[e.getType?e._e():t("div",{staticClass:"item-title"},[e._v(" "+e._s(e.note.price_message.name)+" ")]),e.note.price_message.children?t("div",{staticClass:"item-info-box recharge-info-box",class:{action:"price_message"===e.checkedKey}},[e.getType?t("ul",{staticClass:"recharge-info-no-long"},[e.note.price_message.children.goods_count?t("li",{staticClass:"goods-number"},[t("div",[e._v(" 商品件数合计："+e._s(e.dataBase.goods_count)+" ")])]):e._e(),t("li",{staticClass:"payment"},[t("div",{staticClass:"left"},[e.note.price_message.children.goods_price?t("div",{staticClass:"left-item"},[e._v(" "+e._s(e.note.price_message.children.goods_price.name)+"：¥"+e._s(e.dataBase.goods_price)+" ")]):e._e(),e.note.price_message.children.dispatch_price?t("div",{staticClass:"left-item"},[e._v(" "+e._s(e.note.price_message.children.dispatch_price.name)+"：¥"+e._s(e.dataBase.dispatch_price)+" ")]):e._e(),e.note.price_message.children.discount_price?t("div",{staticClass:"left-item"},[e._v(" "+e._s(e.note.price_message.children.discount_price.name)+"：-¥"+e._s(e.dataBase.discount_price)+" ")]):e._e()]),e.note.price_message.children.pay_price?t("div",{staticClass:"right"},[t("span",{staticClass:"label"},[e._v(e._s(e.note.price_message.children.pay_price.name)+"：")]),t("span",{staticClass:"content"},[t("span",{staticStyle:{"font-size":"14px"}},[e._v("¥")]),e._v(e._s(e.dataBase.pay_price))])]):e._e()])]):t("ul",{staticClass:"recharge-info"},[e.note.price_message.children.goods_count?t("li",{staticClass:"goods-total-li"},[t("div",{staticClass:"goods-total"},[e._v("商品件数合计："+e._s(e.dataBase.goods_count))])]):e._e(),t("li",[t("ul",[e.note.price_message.children.goods_price?t("li",[t("div",{staticClass:"label"},[e._v(" "+e._s(e.note.price_message.children.goods_price.name)+"： ")]),t("div",{staticClass:"content"},[e._v(" ¥"+e._s(e.dataBase.goods_price)+" ")])]):e._e(),e.note.price_message.children.dispatch_price?t("li",[t("div",{staticClass:"label"},[e._v(" "+e._s(e.note.price_message.children.dispatch_price.name)+"： ")]),t("div",{staticClass:"content"},[e._v(" ¥"+e._s(e.dataBase.dispatch_price)+" ")])]):e._e(),e.note.price_message.children.discount_price?t("li",[t("div",{staticClass:"label"},[e._v(" "+e._s(e.note.price_message.children.discount_price.name)+"： ")]),t("div",{staticClass:"content"},[e._v(" -¥"+e._s(e.dataBase.discount_price)+" ")])]):e._e(),e.note.price_message.children.pay_price?t("li",{staticClass:"payment"},[t("div",{staticClass:"label"},[e._v(e._s(e.note.price_message.children.pay_price.name)+"：")]),t("div",{staticClass:"content"},[t("span",{staticStyle:{"font-size":"14px"}},[e._v("¥")]),e._v(e._s(e.dataBase.pay_price))])]):e._e()])])])]):e._e()]):e._e()])]),e.data.qr_code||e.data.footer?t("div",{staticClass:"note-footer",class:{"note-footer-no-long":e.getType}},[e.data.qr_code?t("div",{staticClass:"qr-code"},[t("qr-code",{attrs:{url:e.data.qr_code,size:1==e.getType?60:124}})],1):e._e(),e.data.footer?t("div",{staticClass:"name"},[e._v(" "+e._s(e.data.footer)+" ")]):e._e()]):e._e()])])};t.render=a;var r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"code-image"},[t("img",{attrs:{src:n("dd04"),alt:""}})])}];t.staticRenderFns=r},"5e56":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-add-form-info"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("div",{staticClass:"form-item"},[t("kdx-form-title",[e._v("基本信息")]),t("FormItem",{attrs:{label:"模板名称：",prop:"name"}},[t("Input",{staticClass:"width-340",attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入模板名称"},on:{"on-blur":function(t){return e.handleChange("name",e.model.name)}},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{attrs:{label:"快递公司：",prop:"express_code"}},[t("Select",{staticClass:"width-340",on:{"on-change":function(t){return e.handleChange("express_code",t)}},model:{value:e.model.express_code,callback:function(t){e.$set(e.model,"express_code",t)},expression:"model.express_code"}},e._l(e.expressList,(function(n){return t("Option",{key:n.code,attrs:{value:n.code}},[e._v(" "+e._s(n.name)+" ")])})),1)],1),t("FormItem",{attrs:{label:"选择样式："}},[t("RadioGroup",{on:{"on-change":function(t){return e.handleChange("type",t)}},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[t("Radio",{attrs:{label:0}},[t("span",[e._v("竖版")])]),t("Radio",{attrs:{label:1}},[t("span",[e._v("横版")])])],1),0==e.model.type?t("kdx-hint-text",[e._v("尺寸为210*290mm(A4)")]):t("kdx-hint-text",[e._v("尺寸为210*140mm(A5)")])],1)],1),t("div",{staticClass:"form-item"},[t("kdx-form-title",[e._v("展示内容")]),t("FormItem",{attrs:{label:"发货单标题：",prop:"send_title"}},[t("Input",{staticClass:"width-340",attrs:{maxlength:"10","show-word-limit":"",placeholder:"请输入模板名称"},on:{"on-blur":function(t){return e.handleChange("title",e.model.title)}},model:{value:e.model.send_title,callback:function(t){e.$set(e.model,"send_title",t)},expression:"model.send_title"}})],1),t("FormItem",{attrs:{label:"发货单LOGO："}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.logo},on:{"on-change":function(t){return e.handleChange("logo",t)}}})],1),t("div",{staticClass:"checkbox-data"},[t("checkbox-data",{attrs:{list:e.list,"checked-key":e.checkedKey},on:{"on-change":e.changeList,"on-change-key":e.changeKey}})],1),t("FormItem",{attrs:{label:"二维码链接："}},[t("Input",{staticClass:"width-340",attrs:{placeholder:"请输入二维码链接"},on:{"on-blur":function(t){return e.handleChange("qr_code",e.model.qr_code)}},model:{value:e.model.qr_code,callback:function(t){e.$set(e.model,"qr_code",t)},expression:"model.qr_code"}})],1),t("FormItem",{attrs:{label:"底部信息："}},[t("Input",{staticClass:"width-340",attrs:{type:"textarea",rows:2,maxlength:"40","show-word-limit":"",placeholder:"请输入"},on:{"on-blur":function(t){return e.handleChange("footer",e.model.footer)}},model:{value:e.model.footer,callback:function(t){e.$set(e.model,"footer",t)},expression:"model.footer"}})],1)],1)])],1)};t.render=a;var r=[];t.staticRenderFns=r},"5f92":function(e,t,n){"use strict";n.r(t);var a=n("dbe7"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"5ff5":function(e,t,n){"use strict";n("10ae")},"62c5":function(e,t,n){"use strict";var a=n("ff84"),r=y(a),i=n("fd7c9"),o=y(i),s=n("a2b0"),l=y(s),c=n("79f1"),d=y(c),u=n("b1d8"),f=y(u),p=n("5261"),h=y(p),m=n("bd8a"),v=y(m),_=n("dca2"),g=n("ca32"),b=y(g);function y(e){return e&&e.__esModule?e:{default:e}}var x=function(){},w=function(e,t,n){var a=new x;if("undefined"===typeof e)throw Error("No element to render on was provided.");return a._renderProperties=(0,f.default)(e),a._encodings=[],a._options=b.default,a._errorHandler=new v.default(a),"undefined"!==typeof t&&(n=n||{},n.format||(n.format=E()),a.options(n)[n.format](t,n).render()),a};for(var O in w.getModule=function(e){return r.default[e]},r.default)r.default.hasOwnProperty(O)&&k(r.default,O);function k(e,t){x.prototype[t]=x.prototype[t.toUpperCase()]=x.prototype[t.toLowerCase()]=function(n,a){var r=this;return r._errorHandler.wrapBarcodeCall((function(){a.text="undefined"===typeof a.text?void 0:""+a.text;var i=(0,o.default)(r._options,a);i=(0,h.default)(i);var s=e[t],l=C(n,s,i);return r._encodings.push(l),r}))}}function C(e,t,n){e=""+e;var a=new t(e,n);if(!a.valid())throw new _.InvalidInputException(a.constructor.name,e);var r=a.encode();r=(0,l.default)(r);for(var i=0;i<r.length;i++)r[i].options=(0,o.default)(n,r[i].options);return r}function E(){return r.default["CODE128"]?"CODE128":Object.keys(r.default)[0]}function P(e,t,n){t=(0,l.default)(t);for(var a=0;a<t.length;a++)t[a].options=(0,o.default)(n,t[a].options),(0,d.default)(t[a].options);(0,d.default)(n);var r=e.renderer,i=new r(e.element,t,n);i.render(),e.afterRender&&e.afterRender()}x.prototype.options=function(e){return this._options=(0,o.default)(this._options,e),this},x.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},x.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){e=this._renderProperties[t];var n=(0,o.default)(this._options,e.options);"auto"==n.format&&(n.format=E()),this._errorHandler.wrapBarcodeCall((function(){var t=n.value,a=r.default[n.format.toUpperCase()],i=C(t,a,n);P(e,i,n)}))}},x.prototype.render=function(){if(!this._renderProperties)throw new _.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)P(this._renderProperties[e],this._encodings,this._options);else P(this._renderProperties,this._encodings,this._options);return this},x.prototype._defaults=b.default,"undefined"!==typeof window&&(window.JsBarcode=w),"undefined"!==typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each((function(){n.push(this)})),w(n,e,t)}),e.exports=w},6449:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("5530")),i={data:function(){return{model:{type:"0",appid:"",key:""},rule:{type:[{required:!0,message:"接口类型必选"}],appid:[{required:!0,message:"用户ID必填"},{whitespace:!0,message:"用户ID必填"}],key:[{required:!0,message:"API Key必填"},{whitespace:!0,message:"API Key必填"}]},loading:!1}},computed:{noManagePerm:function(){return!this.$getPermMap("expressHelper.manage")}},created:function(){this.getBasicSetting()},methods:{getBasicSetting:function(){var e=this;this.$api.eOrderApi.getBasicSetting().then((function(t){0==t.error&&(console.log(t),e.model=(0,r.default)((0,r.default)({},e.model),t))}))},handleSave:function(){var e=this;this.$refs["form"].validate().then((function(t){t&&(e.loading=!0,e.setBasicSetting())}))},setBasicSetting:function(){var e=this,t=this.formatParams();this.$api.eOrderApi.setBasicSetting((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&e.$Message.success("保存成功")}))},formatParams:function(){var e=this.model,t=e.type,n=e.appid,a=e.key,r={type:t,appid:n,key:a};return r},openNewWindow:function(){var e="http://www.kdniao.com";"1"===this.model.type&&(e="https://fahuo.cainiao.com/consigns/user/waybillPrinterSetting.htm"),window.open(e)}}};t.default=i},6455:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7");var r=a(n("5530")),i=a(n("2909")),o={props:["order_no"],data:function(){return{model:{order_no:"",created_at:[],title:"",buyer_name:"",is_print:"all",is_bill_print:"all",status:"all",activity_type:"all"},date:[],printStatusList:[{value:"all",label:"全部"},{value:"1",label:"已打印"},{value:"0",label:"未打印"}],orderStatusList:[{value:"all",label:"全部"},{value:"10",label:"待发货"},{value:"11",label:"部分发货"},{value:"20",label:"待收货"},{value:"30",label:"已完成"}],orderTypes:[]}},mounted:function(){this.getOrderType()},methods:{changeDate:function(e){this.model.created_at=(0,i.default)(e)},getOrderType:function(){var e=this;this.$api.orderApi.getOrderType({}).then((function(t){0===t.error&&(e.orderTypes=t.activity_type)}))},handleSearch:function(){var e=this,t=(0,r.default)({},this.model),n=["is_print","status","activity_type","is_bill_print"];n.forEach((function(n){"all"===e.model[n]&&(t[n]="")})),this.$emit("on-search",t)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={order_no:"",created_at:[],title:"",buyer_name:"",is_print:"all",status:"all",activity_type:"all",is_bill_print:"all"},this.date=[]}},watch:{order_no:{handler:function(e){this.model.order_no=e},immediate:!0}}};t.default=o},"651b":function(e,t,n){"use strict";n("cb34")},"65f1":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("15fd"));n("d3b7"),n("159b"),n("4de4"),n("e9c4"),n("14d9"),n("b0c0");var i=a(n("054c")),o=a(n("a3bd")),s=["data"],l={name:"index",components:{InvoiceNote:i.default,FormInfo:o.default},data:function(){return{data:{},expressList:[],checkedList:[],note:{},id:"",checkedKey:"",loading:!1}},mounted:function(){this.id=this.$route.query.id||0,this.getExpressList(),this.getData()},methods:{getExpressList:function(){var e,t=this;(null===(e=this.expressList)||void 0===e||!e.length)&&this.$api.settingApi.getExpressList().then((function(e){0==e.error&&(t.expressList=e.list)}))},getData:function(){var e=this;this.loading=!0,this.resetModel(),this.id?this.$api.eOrderApi.getInvoice({id:this.id}).then((function(t){if(0===t.error){var n=t.data,a=n.data,i=(0,r.default)(n,s);Object.assign(e.data,i),e.defaultList(JSON.parse(a))}})).finally((function(){e.loading=!1})):this.$api.eOrderApi.getInvoiceCheckedList().then((function(t){0===t.error&&e.defaultList(t.list)})).finally((function(){e.loading=!1}))},defaultList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){var t=e.children?e.children.filter((function(e){return e.checked})):[];t.length===e.children.length?(e.indeterminate=!1,e.checked=!0):(null===t||void 0===t?void 0:t.length)>0?(e.indeterminate=!0,e.checked=!1):(e.indeterminate=!1,e.checked=!1)})),this.checkedList=e,this.delayList()},resetModel:function(){var e;this.data={name:"",express_code:"",type:0,send_title:"发货单",logo:(null===(e=this.$store.state.config.baseSetting)||void 0===e?void 0:e.logo)||"",qr_code:"",footer:""}},handleSave:function(){var e=this;this.$refs["form"].validate().then((function(t){if(t){e.loading=!0,console.log("invoice",t);var n=Object.assign(e.data,{data:JSON.stringify(e.checkedList)});e.id?e.editInvoice(n):e.addInvoice(n)}}))},addInvoice:function(e){var t=this;this.$api.eOrderApi.addInvoice(e).then((function(e){0===e.error&&(t.$Message.success("发货单模板新增成功"),t.$router.push({path:"/eOrder/templateManagement/invoice/index"}))})).finally((function(){t.loading=!1}))},editInvoice:function(e){var t=this;this.$api.eOrderApi.editInvoice(e).then((function(e){0===e.error&&(t.$Message.success("发货单模板修改成功"),t.$router.push({path:"/eOrder/templateManagement/invoice/index"}))})).finally((function(){t.loading=!1}))},changeData:function(e){this.data=e},changeType:function(e){console.log("change-type",e)},changeList:function(e){this.checkedList=e,this.delayList()},delayList:function(){var e={},t=["send_message","consignee_message","price_message"];this.checkedList.forEach((function(n){if(e[n.key]={name:n.name,checked:n.checked,indeterminate:n.indeterminate},t.indexOf(n.key)>-1){var a={};n.children.forEach((function(e){e.checked&&(a[e.key]={name:e.name})})),e[n.key].children=a}else e[n.key].children=n.children})),this.note=e},changeKey:function(e){this.checkedKey=e}}};t.default=l},"66b3":function(e,t,n){"use strict";var a=n("f81a");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"68be":function(e,t,n){"use strict";n("8228")},6947:function(e,t,n){},"6e53":function(e,t,n){"use strict";function a(e){for(var t=0,n=0;n<e.length;n++){var a=parseInt(e[n]);(n+e.length)%2===0?t+=a:t+=2*a%10+Math.floor(2*a/10)}return(10-t%10)%10}function r(e){for(var t=0,n=[2,3,4,5,6,7],a=0;a<e.length;a++){var r=parseInt(e[e.length-1-a]);t+=n[a%n.length]*r}return(11-t%11)%11}Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=a,t.mod11=r},"6f18":function(e,t,n){"use strict";n.r(t);var a=n("bd36"),r=n("5095");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("d918");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"70e376a8",null);t["default"]=s.exports},"6f24":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4b23"),r=s(a),i=n("bb5d8"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e,n){if(l(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,o.default)(e),n));else a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(a)}return d(t,e),t}(r.default);t.default=u},"6f53":function(e,t,n){var a=n("83ab"),r=n("e330"),i=n("df75"),o=n("fc6a"),s=n("d1e7").f,l=r(s),c=r([].push),d=function(e){return function(t){var n,r=o(t),s=i(r),d=s.length,u=0,f=[];while(d>u)n=s[u++],a&&!l(r,n)||c(f,e?[n,r[n]]:r[n]);return f}};e.exports={entries:d(!0),values:d(!1)}},"6fa1":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("kdx-header-bar",{attrs:{type:"little"},scopedSlots:e._u([{key:"header",fn:function(){return[t("Button",{attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.addTemp}},[e._v(" +添加模板 ")])]},proxy:!0}])},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"模板名称："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"模板名称"},on:{"on-enter":e.handleSearch},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{attrs:{label:"快递公司："}},[t("Select",{staticClass:"width-160",model:{value:e.model.express_code,callback:function(t){e.$set(e.model,"express_code",t)},expression:"model.express_code"}},e._l(e.expressList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)};t.render=a;var r=[];t.staticRenderFns=r},"70b0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("4b23"),i=s(r),o=n("f08e");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e,n){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.B_START_CHAR+e,n))}return d(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=u},"721a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("fd7c9"),i=s(r),o=n("ab5b");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,a){l(this,e),this.canvas=t,this.encodings=n,this.options=a}return a(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,i.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),n=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n,a=this.canvas.getContext("2d"),r=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,a.fillStyle=e.lineColor;for(var i=0;i<r.length;i++){var o=i*e.width+t.barcodePadding;"1"===r[i]?a.fillRect(o,n,e.width,e.height):r[i]&&a.fillRect(o,n,e.width,e.height*r[i])}}},{key:"drawCanvasText",value:function(e,t){var n,a,r=this.canvas.getContext("2d"),i=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(a="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,r.font=i,"left"==e.textAlign||t.barcodePadding>0?(n=0,r.textAlign="left"):"right"==e.textAlign?(n=t.width-1,r.textAlign="right"):(n=t.width/2,r.textAlign="center"),r.fillText(t.text,n,a))}},{key:"moveCanvasDrawing",value:function(e){var t=this.canvas.getContext("2d");t.translate(e.width,0)}},{key:"restoreCanvas",value:function(){var e=this.canvas.getContext("2d");e.restore()}}]),e}();t.default=c},"73c4":function(e,t,n){},"752b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("721a"),r=c(a),i=n("be5e"),o=c(i),s=n("4ced"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:r.default,SVGRenderer:o.default,ObjectRenderer:l.default}},"76d2":function(e,t,n){"use strict";n.r(t);var a=n("9c14"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"776e":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("div",{staticClass:"thead"},[t("div",{staticClass:"tr"},[t("div",{staticClass:"th"},[t("Checkbox",{attrs:{indeterminate:e.indeterminate,disabled:e.disabled},on:{"on-change":e.changeAllSelected},model:{value:e.allSelectedFlag,callback:function(t){e.allSelectedFlag=t},expression:"allSelectedFlag"}}),t("div",{staticClass:"text"},[e._v("订单编号")])],1),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8)])]),e.list.length?t("div",{staticClass:"tbody"},e._l(e.list,(function(n,a){return t("div",{key:n.id,staticClass:"tr"},[t("div",{staticClass:"td"},[t("div",{staticClass:"flex align-center pl20 pr20"},[t("Checkbox",{attrs:{indeterminate:n.indeterminate,disabled:n.disabled},on:{"on-change":function(t){return e.changeChecked(a,t)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"item.checked"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"no"},[e._v(e._s(n.order_no))]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.order_no,expression:"item.order_no",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}],staticClass:"copy brand"},[e._v(" 复制 ")])])],1)]),t("div",{staticClass:"td"},[t("div",e._l(n.order_goods,(function(n,r){return t("div",{key:n.id,staticClass:"item pl20"},[t("Checkbox",{on:{"on-change":function(t){return e.changeSecChecked(a,r,t)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"subItem.checked"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"name"},["0"!==n.option_id?t("span",{staticClass:"mark"},[e._v("多")]):e._e(),e._v(e._s(n.title)+" ")]),n.option_title?t("div",{staticClass:"spec"},[e._v(" "+e._s(n.option_title)+" ")]):e._e()])],1)})),0)]),t("div",{staticClass:"td"},[t("div",e._l(n.order_goods,(function(n){return t("div",{key:n.id,staticClass:"item pl20"},[t("div",{staticClass:"text"},[t("div",{staticClass:"price"},[e._v("¥"+e._s(n.price_unit))]),t("div",{staticClass:"num"},[e._v("x"+e._s(n.total))])])])})),0)]),t("div",{staticClass:"td"},[t("div",e._l(n.order_goods,(function(n){return t("div",{key:n.id,staticClass:"item pl20"},[t("div",{staticClass:"text",class:{warning:0===parseInt(n.print_num)}},[0===parseInt(n.print_num)?[e._v(" 未打印 ")]:[e._v(" 已打印"),t("span",{staticClass:"success"},[e._v(" "+e._s(n.print_num)+" ")]),e._v(" 次 ")]],2)])})),0)]),t("div",{staticClass:"td"},[t("div",{staticClass:"text pl20",class:{warning:"0"===n.is_bill_print}},["0"===n.is_bill_print?[e._v(" 未打印 ")]:[e._v(" 已打印"),t("span",{staticClass:"success"},[e._v(" "+e._s(n.bill_print_num)+" ")]),e._v(" 次 ")]],2)]),t("div",{staticClass:"td"},[t("div",{staticClass:"box pl20"},["10"===n.status?t("div",{staticClass:"text fwb warning"},[e._v(" 待发货 ")]):e._e(),"11"===n.status?t("div",{staticClass:"text fwb warning"},[e._v(" 部分发货 ")]):e._e(),"20"===n.status?t("div",{staticClass:"text fwb brand"},[e._v(" 待收货 ")]):e._e(),"30"===n.status?t("div",{staticClass:"text fwb success"},[e._v(" 已完成 ")]):e._e()])]),t("div",{staticClass:"td"},[t("div",{staticClass:"box pl20"},[t("div",{staticClass:"text brand"},[e._v(e._s(n.member_nickname))])])]),t("div",{staticClass:"td"},[t("div",{staticClass:"box pl20"},[t("div",{staticClass:"text"},[e._v(e._s(n.buyer_name))]),t("div",{staticClass:"text"},[e._v(e._s(n.buyer_mobile))])])]),t("div",{staticClass:"td"},[t("div",{staticClass:"box pl20"},[t("div",{staticClass:"text normal"},[e._v(e._s(n.created_at))])])]),t("div",{staticClass:"td"},[t("div",{staticClass:"box pl20"},[t("div",{staticClass:"text fwb"},[e._v("￥"+e._s(n.pay_price))])])])])})),0):t("div",{staticClass:"nodata"},[e._v("暂无数据")])])};t.render=n;var a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("商品")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("单价/数量")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("电子面单打印状态")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("发货单打印状态")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("订单状态")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("会员")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("收件人")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("下单时间")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"th"},[t("div",{staticClass:"text"},[e._v("订单金额")])])}];t.staticRenderFns=a},"79f1":function(e,t,n){"use strict";function a(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"7a8b":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-list"},[t("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.getTableData},on:{"on-selection-change":e.selectChange}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.getTableData.length>0,expression:"getTableData.length > 0"}],staticClass:"footer-action"},[t("Checkbox",{attrs:{disabled:e.noManagePerm},on:{"on-change":e.checkboxChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}),t("Button",{attrs:{disabled:e.selectDisabled},on:{click:function(t){return e.handleDelete("multiple")}}},[e._v("批量删除")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.getTableData.length>0,expression:"getTableData.length > 0"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.changePage}})],1)],1)};t.render=n;var a=[];t.staticRenderFns=a},"7bba":function(e,t,n){},"7cb9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){s(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.number=parseInt(e,10),a}return c(t,e),a(t,[{key:"encode",value:function(){var e=this.number,t="";while(!isNaN(e)&&0!=e)e%2===0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return t=t.slice(0,-2),{data:t,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(i.default);t.pharmacode=d},"7dd8":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("2909"));n("4de4"),n("d3b7"),n("159b"),n("6062"),n("3ca3"),n("ddb0"),n("fb6a"),n("d81d");var i={props:["data"],data:function(){return{list:[],allSelectedFlag:!1,indeterminate:!1,disabled:!1}},methods:{changeAllSelected:function(e){var t=this,n=this.list.filter((function(e){return e.order_goods.some((function(e){return 0===parseInt(e.print_num)&&!e.checked}))}));n.length>0?this.list.forEach((function(n,a){t.changeChecked(a,e);var r=n.order_goods.some((function(e){return 0===parseInt(e.print_num)&&!e.checked}));r&&t.changeChecked(a,e)})):this.list.forEach((function(n,a){t.changeChecked(a,e)}))},changeChecked:function(e,t){var n=t,a=this.list[e].order_goods.filter((function(e){return 0===parseInt(e.print_num)})),r=a.some((function(e){return!1===e.checked}));n=!!r,this.list[e].order_goods.forEach((function(e){0===parseInt(e.print_num)?e.checked=n:r||(e.checked=n)})),this.updateTable(e)},changeSecChecked:function(e,t,n){var a=this,r=n,i=0!==parseInt(this.list[e].order_goods[t].print_num);if(i&&r)this.$Modal.confirm({title:"提示",content:"您要打印的订单中包含已打印状态订单，是否继续？",onOk:function(){var n=a.list[e].order_goods[t].print_relation;a.list[e].order_goods.forEach((function(e){new Set(n).has(e.id)&&(e.checked=!0)})),a.updateTable(e)},onCancel:function(){a.list[e].order_goods[t].checked=!1,a.updateTable(e)}});else if(i&&!r){var o=this.list[e].order_goods[t].print_relation;this.list[e].order_goods.forEach((function(e){new Set(o).has(e.id)&&(e.checked=!1)})),this.updateTable(e)}this.updateTable(e)},updateTable:function(e){var t=this,n=this.list[e].order_goods.some((function(e){return!1===e.checked})),a=this.list[e].order_goods.some((function(e){return!0===e.checked})),r=this.list[e].order_goods.some((function(e){return 0===parseInt(e.print_num)}));this.$nextTick((function(){t.list[e].checked=!n,t.list[e].indeterminate=n&&a,t.list[e].disabled=!a&&!r,t.list=t.list.slice(0);var i=t.getSelectedData();t.$emit("on-change",i)})),this.list=this.list.slice(0)},getSelectedData:function(){var e=this.list.filter((function(e){return e.checked||e.indeterminate}));e.forEach((function(e){e.selectedGoods=e.order_goods.filter((function(e){return e.checked}))}));var t=e.map((function(e){return{order_id:e.id,order_goods_id:e.selectedGoods.map((function(e){return e.id}))}}));if(0===e.length)this.allSelectedFlag=!1,this.indeterminate=!1,this.disabled=!this.list.some((function(e){return!1===e.disabled}));else if(this.disabled=!1,e.length!==this.list.length)this.allSelectedFlag=!1,this.indeterminate=!0;else{var n=e.some((function(e){return e.indeterminate}));this.allSelectedFlag=!n,this.indeterminate=n}return t},fnConfirm:function(e){var t=this,n=e||"您要打印的订单中包含已打印状态订单，是否继续？";return new Promise((function(e){t.$Modal.confirm({title:"提示",content:n,onOk:function(){e("ok")},onCancel:function(){e("cancel")}})}))},onCopySuccess:function(){this.$Message.success("内容已复制到剪切板！")},onCopyError:function(){this.$Message.error("抱歉，复制失败！")}},watch:{data:{handler:function(e){var t=this;this.list=(0,r.default)(e),this.list.forEach((function(e){e.indeterminate=!1,e.checked=!1,e.order_goods&&e.order_goods.length?(e.order_goods.forEach((function(e){e.checked=!1})),e.disabled=!e.order_goods.some((function(e){return 0===parseInt(e.print_num)}))):e.disabled=!0})),this.$nextTick((function(){t.allSelectedFlag=!1,t.indeterminate=!1,t.disabled=!t.list.some((function(e){return!1===e.disabled}))}))},deep:!0}}};t.default=i},"805f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("124f"),r=o(a),i=n("6e53");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),e+=(0,i.mod11)(e),e+=(0,i.mod10)(e),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),t}(r.default);t.default=d},8228:function(e,t,n){},"87b5":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d81d"),n("99af"),n("b0c0"),n("a15b"),n("d3b7"),n("159b"),n("14d9");var r=n("d1be"),i=a(n("c4a7")),o=a(n("62c5")),s={getHeader:function(e,t,n){function a(e,t){return e.map((function(e){if("send_title"===e.key&&e.checked)return'\n                        <div class="title">\n                            '.concat(t[e.key],"\n                        </div> \n                    ");if("print_time"===e.key&&e.checked)return'\n                        <div class="time">\n                            '.concat((0,r.formatDate)(new Date,"yyyy-MM-dd hh:mm:ss"),"\n                        </div> \n                    ");if("send_code"===e.key&&e.checked){var a=document.createElement("img");(0,o.default)(a,n[e.key],{format:"CODE39",lineColor:"#000",background:"#ffffff",width:2,height:100,displayValue:!1});var i=a.src;return'\n                       <div class="js-barcode">\n                         <div class="image">\n                            <img src="'.concat(i,'" alt="">\n                        </div>\n                        <div class="text item-text">\n                            ').concat(e.name,"：").concat(n[e.key],"\n                        </div>\n                        </div>\n                    ")}}))}var i=" ";if(t.logo){var s=(0,r.media)(t.logo);i=' <div class="logo">\n                        <img src="'.concat(s,'" alt="">\n                    </div>')}return'\n    <div class="header-info" style="position: relative">\n       '.concat(a(e,t).join(" "),"\n       ").concat(i,"\n    </div>\n    ")},getOrder:function(e,t,n){var a=" ";return a=e.map((function(e){return e.checked?'\n                <div class="item-text">\n                    '.concat(e.name,"：").concat(n[e.key]||"-","\n                </div>\n                "):" "})).join(" "),a?'\n                <div class="border-box">\n                    <div class="order-info">\n                        '.concat(a,"\n                    </div>\n                </div>\n            "):" "},userInfo:function(e,t,n){var a=[],r=" ";return e.forEach((function(e){e.checked&&("buyer_remark"!==e.key?a.push('<div class="item-text '.concat("address_code"===e.key?"item-address":"",'">\n                        ').concat(e.name,"：").concat(n[e.key]||"-","\n                    </div>\n                        ")):r='\n                     <div class="user-info-bottom">\n                       <div class="item-text">\n                        '.concat(e.name,"：").concat(n[e.key]||"-","\n                    </div>\n                    </div>\n                    "))})),'\n        <div class="border-box">\n            <div class="user-info">\n              <div class="user-info-top">\n                '.concat(a.join(" "),"\n              </div>\n                ").concat(r,"\n            </div>\n        </div>\n      ")},getGoods:function(e,t,n){var a=[],r=[];return a=e.map((function(e){return e.checked?'\n             <th class="'.concat(e.key,'">\n                ').concat(e.name,"\n            </th>\n            "):" "})),r=n.order_goods.map((function(t,n){var a=e.map((function(e){if(e.checked){var a=" ";return a="title"===e.key||"option_title"===e.key||"short_name"===e.key?'\n                                <div class="goods-two-line-hide">'.concat(t[e.key]||"-","</div>\n                        "):"".concat("price_unit"===e.key||"price"===e.key?"￥":"").concat("number"===e.key?n+1:t[e.key]||"-"),'\n                 <td class="'.concat(e.key,'">\n                    <div>\n                        ').concat(a,"\n                    </div>\n                </td>\n                ")}return" "}));return"\n                <tr>".concat(a.join(" "),"</tr>\n            ")})),'\n        <div class="border-box">\n          <div class="table-info">\n            <div class="shop-table-list">\n                <table width="100%">\n                    <thead class="table-header">\n                        <tr>\n                        '.concat(a.join(" "),'\n                        </tr>\n                    </thead>\n                    <tbody class="table-content">\n                        ').concat(r.join(" "),"\n                    </tbody>\n                </table>\n            </div>\n           </div>\n        </div>\n        ")},getCharge:function(e,t,n){var a=[],r=" ";return e.forEach((function(e){e.checked&&("goods_price"===e.key||"dispatch_price"===e.key?a.push('\n                    <div class="item">\n                         <div class="label">\n                            '.concat(e.name,'：\n                        </div>\n                        <div class="content">\n                            ￥').concat(n[e.key]||"-","\n                        </div>\n                    </div>\n                    ")):"discount_price"===e.key&&n[e.key]?a.push('\n                    <div class="item">\n                         <div class="label">\n                            '.concat(e.name,'：\n                        </div>\n                        <div class="content">\n                            -￥').concat(n[e.key],"\n                        </div>\n                    </div>\n                    ")):"pay_price"===e.key?a.push('\n                    <div class="item payment">\n                        <div class="label">\n                            '.concat(e.name,'：\n                        </div>\n                        <div class="content">\n                            <span style="font-size: 12px;line-height: 17px;">￥</span>').concat(n[e.key],"\n                        </div>\n                    </div>\n                    ")):"goods_count"===e.key&&(r='\n                 <div class="left">\n                    商品件数合计：'.concat(n.goods_count,"\n                </div>\n            ")))})),'\n        <div class="border-box">\n            <div class="charge-info">\n               '.concat(r,'\n                <div class="right">\n                    <div class="item-box">\n                        ').concat(a.join(" "),"\n                    </div>\n                </div>\n            </div>\n        </div>\n      ")},getChargeHorizontal:function(e,t,n){var a=[],r=" ",i="right";return e.forEach((function(e){e.checked&&("goods_price"===e.key||"dispatch_price"===e.key?a.push('\n                    <div class="item-text">\n                         <span class="label">\n                                '.concat(e.name,'：\n                        </span>\n                        <span class="content">\n                            ￥').concat(n[e.key],"\n                        </span>\n                    </div>\n                    ")):"discount_price"===e.key&&n[e.key]?a.push('\n                    <div class="item-text">\n                         <span class="label">\n                             '.concat(e.name,'：\n                        </span>\n                        <span class="content">\n                            -￥').concat(n[e.key],"\n                        </span>\n                    </div>\n                    ")):"pay_price"===e.key?(n[e.key].length>10&&(i="right-long right"),a.push('\n                    <div class="payment-horizontal">\n                        <div class="label">'.concat(e.name,'：</div>\n                        <div class="content">\n                            <span style="font-size: 12px;line-height: 17px;display: inline-block">￥</span>').concat(n[e.key],"\n                        </div>\n                    </div>\n                "))):"goods_count"===e.key&&(r='\n                 <div class="left">\n                    商品件数合计：'.concat(n.goods_count,"\n                </div>\n            ")))})),'\n        <div class="border-box">\n            <div class="charge-info">\n               '.concat(r,'\n                <div class="').concat(i,'">\n                    <div class="item-box-horizontal">\n                        ').concat(a.join(" "),"\n                    </div>\n                </div>\n            </div>\n        </div>\n      ")},getFooter:function(e,t){if(!e.qr_code&&!e.footer)return"";var n,a;if(e.qr_code){var r=0==e.type?300:150,o=new i.default({value:e.qr_code,background:"#fff",level:"H",size:r}),s=o.toDataURL();n='\n                <div class="footer-qr-code">\n                    <img src="'.concat(s,'" alt="">\n                </div>\n                ')}e.footer&&(a=' \n                <div class="footer-text">\n                    '.concat(e.footer,"\n                </div>\n                "));var l="";return 0==e.type&&n&&t.order_goods.length>=6&&n&&t.order_goods.length<=10&&(l="page-break-before:always;padding-top: 80px;"),'\n            <div class="footer-info" id="qr_code" style="'.concat(l,'">\n                ').concat(n||" ","\n             ").concat(a||" ","\n            </div>\n        ")},getFormInfo:function(e){return'\n            <div class="form-info">\n                '.concat(e,"\n            </div>\n        ")},borderBox:function(){return'\n       <div style="border: 1px solid #636669"></div>  \n        '},getHtmlHeader:function(){return'\n            <!DOCTYPE html>\n                <html lang="en">\n                <head>\n                    <meta charset="UTF-8">\n                    <title>Title</title>\n                </head>\n                <body>\n        '},getHtmlFooter:function(){return"\n            </body>\n        </html>\n      "},getCss:function(){return'\n        <style>\n            body {\n                color: #000000;\n                font-family: "PingFang SC", "SimHei", "黑体", "Helvetica Neue", Helvetica, "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;\n            }\n            .border-box {\n                border: 1px solid #636669;\n                width: 100%;\n            }\n            .item-text {\n                font-size: 12px;\n                line-height: 17px;\n            }\n            .goods-two-line-hide {\n                word-break:break-all;\n                overflow: hidden;\n                box-sizing: border-box;\n            }\n            .direction-horizontal,\n            .direction-vertical {\n                position: relative;\n                padding: 30px 20px;\n                box-sizing: border-box;\n                width: 760px;\n                /*page-break-before:always;*/\n            }\n            .direction-vertical {\n                /*height: 3425px;*/\n            }\n            .form-info {\n                font-size: 16px;\n                line-height: 22px;\n                font-weight: 500;\n                padding-top: 20px;\n                padding-bottom: 10px;\n                font-weight: bold;\n            }\n            .header-info {\n                position: relative;\n                min-height: 56px;\n            }\n            .header-info .title {\n                font-size: 28px;\n                line-height: 39px;\n                font-weight: 600;\n                text-align: center\n            }\n            .header-info .time {\n                font-size: 12px;\n                line-height: 17px;\n                text-align: center\n            }\n            .header-info .logo {\n                position: absolute;\n                top: 0;\n                left: 0;\n                height: 50px;\n                max-width: 100%;\n                overflow: hidden;\n            }\n            .header-info .logo img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n            .header-info .js-barcode {\n                position: absolute;\n                top: 0;\n                right: 0;\n                /*max-width: 500px;*/\n            }\n            .header-info .js-barcode .image {\n                max-width: 100%;\n                height: 36px;\n            }\n            .header-info .js-barcode .image img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n            .header-info .js-barcode .text {\n                text-align: right;\n            }\n            .order-info {\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                padding: 12px 12px 6px 12px;\n            }\n            .order-info .item-text {\n                padding-bottom: 6px;\n                width: 33.3%;\n            }\n            .user-info-top {\n                display: flex;\n                align-items: center;\n                padding: 12px 12px 6px 12px;\n                flex-wrap: wrap;\n            }\n            .user-info-top .item-text {\n                padding-bottom: 6px;\n                width: 33.3%;\n            }\n            .user-info-top .item-text.item-address {\n                padding-bottom: 6px;\n                width: 100%;\n            }\n            .user-info-bottom {\n                border-top: 1px solid #636669;\n                padding: 12px;\n            }\n            .table-info .shop-table-list {\n                border-collapse:collapse\n            }\n            .table-info .shop-table-list thead {\n                background-color: #f4f6fb;\n                width: 100%;\n            }\n            .table-info .shop-table-list table {\n                border-collapse:collapse;\n            }\n            table tr {\n                /*display: flex;*/\n            }\n            table tr th,\n            table tr td >div {\n                /*flex: 1;*/\n                padding: 10px 20px 10px 0;\n                text-align: left;\n                font-size: 12px;\n                line-height: 17px;\n            }\n            table tr td >div {\n                 padding: 4px 20px 4px 0;\n            }\n            table tr th:first-child,\n            table tr td:first-child{\n                padding-left: 12px;\n            } \n            table tr th:last-child,\n            table tr td:last-child div{\n                padding-right: 12px;\n            }\n            table tbody th {\n                font-weight: normal;\n            }\n            table tbody td {\n                border-top: 1px solid #636669;\n            }\n            table tbody td.number div,\n            table thead th.number {\n                padding-right: 12px;\n            }\n            table .number {\n                width: 30px;\n            }\n            table .title{\n                min-width: 100px;\n            }\n            table .title .goods-two-line-hide {\n                max-height: 32px;\n            }\n            table .short_name {\n                min-width: 60px;\n            }\n             table .short_name .goods-two-line-hide {\n                max-height: 32px;\n            }\n            table .goods_sku {\n                min-width: 80px;\n                /*max-width: 150px;*/\n            }\n            table .option_title{\n                min-width: 100px;\n            }\n            table .option_title .goods-two-line-hide {\n                max-height: 32px;\n            }\n            table .price_unit {\n                min-width: 70px;\n            }\n            table .total {\n                min-width: 30px;\n            }\n            table .price {\n                min-width: 70px;\n            }\n            /*费用统计*/\n            .charge-info {\n                display: flex;\n                align-items: center;\n            }\n            .charge-info .left {\n                width: 40%;\n                flex-shrink: 0;\n                text-align: center;\n                font-size: 18px;\n                line-height: 25px;\n            }\n            .charge-info .right {\n                flex: 1;\n                display: flex;\n                justify-content: flex-end;\n                padding: 12px 12px 6px 12px;\n                border-left: 1px solid #636669;\n            }\n            .charge-info .right .item {\n                display: flex;\n                align-items: center;\n                font-size: 12px;\n                line-height: 17px;\n                padding-bottom: 6px;\n            }\n            .charge-info .right .item .label {\n                width: 80px;\n                text-align: right;\n            }\n            .charge-info .right .item .content {\n                min-width: 80px;\n            }\n            .charge-info .right .payment .label {\n                font-size: 14px;\n                line-height: 20px;\n            }\n            .charge-info .right .payment .content {\n                font-size: 20px;\n                line-height: 28px;\n                font-weight: 600;\n            }\n            /*footer*/\n            .footer-info {\n                padding-top: 70px;\n            }\n            .footer-info .footer-qr-code {\n                width: 108px;\n                height: 108px;\n                margin: 0 auto;\n            }\n            .footer-info .footer-qr-code img{\n                max-width: 100%;\n                max-height: 100%;\n            }\n            .footer-info .footer-text {\n                padding-top: 6px;\n                font-size: 12px;\n                line-height: 17px;\n                text-align: center;\n            }\n            /*横版*/\n            .direction-horizontal .border-box {\n                border-bottom: none;\n            }\n            /*.direction-horizontal .border-box:last-child {*/\n            /*    border-bottom: 1px solid #636669;*/\n            /*}*/\n            .direction-horizontal .header-info {\n                padding-bottom: 30px;\n            }\n            .direction-horizontal .user-info {\n                display: flex;\n            }\n            .direction-horizontal .user-info .user-info-top {\n                display: flex;\n                flex-wrap: wrap;\n            }\n            .direction-horizontal .user-info .user-info-top .item-text {\n                width: 48.4%;\n            } \n            .direction-horizontal .user-info .user-info-top .item-text.item-address {\n                width: 100%;\n            }\n            .direction-horizontal .user-info .user-info-top {\n                width: 70%;\n            }\n            .direction-horizontal .user-info .user-info-bottom {\n                width: 30%;\n                border-top: none;\n                border-left: 1px solid #636669;\n            }\n            .direction-horizontal .charge-info {\n                border-bottom: 1px solid #636669;\n            }\n            .direction-horizontal .charge-info .left {\n                width: 25%;\n            }\n            .direction-horizontal .charge-info .right{\n                display: flex;\n                justify-content: flex-end;\n                align-items: center;\n                /*height: 41px;*/\n                box-sizing: border-box;\n                width: 70%;\n                padding: 0 12px 0 12px;\n            }\n            .direction-horizontal .charge-info .right.right-long .item-box-horizontal .item-text {\n                padding-bottom: 0;\n            } \n            .direction-horizontal .charge-info .right.right-long .item-box-horizontal div::nth-last-child(2) {\n                padding-right: 0;\n            }\n            .direction-horizontal .charge-info .item-box-horizontal{\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                flex-wrap: wrap;\n            }\n            .direction-horizontal .charge-info .item-box-horizontal .item-text{\n                padding: 12px 20px 12px 0;\n               /*padding-right: 20px;*/\n               display: flex;\n            }\n            .direction-horizontal .charge-info .payment-horizontal {\n                display: flex;\n                align-items: center;\n                 padding: 6px 0;\n            }\n            .direction-horizontal .charge-info .payment-horizontal .label{\n               font-size: 14px;\n                line-height: 20px;\n            }\n             .direction-horizontal .charge-info .payment-horizontal .content{\n                   font-size: 20px;\n                    line-height: 28px;\n                    font-weight: bold;\n                }\n            .direction-horizontal .footer-info {\n                padding-top: 20px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            .direction-horizontal .footer-info .footer-qr-code {\n                margin: 0;\n                width: 45px;\n                height: 45px;\n            }\n            .direction-horizontal .footer-info .footer-text {\n                padding-top: 0;\n                padding-left: 10px;\n            }\n        </style>\n        '}};t.default=s},8861:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("124f"),r=o(a),i=n("6e53");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),e+=(0,i.mod10)(e),e+=(0,i.mod10)(e),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),t}(r.default);t.default=d},"888e":function(e,t,n){"use strict";var a=n("4bb1");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},8951:function(e,t,n){"use strict";var a=n("bec8");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"89a2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=n("c243"),o=n("bdfe"),s=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){var t=e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+3*t:e+t}),0);return(10-t%10)%10},p=function(e){function t(e,n){c(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=f(e));var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.lastChar=n.lastChar,a}return u(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===f(this.data)}},{key:"leftText",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),n=i.EAN13_STRUCTURE[this.data[0]];return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,n)}},{key:"rightText",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(s.default);t.default=p},"8e513":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var a=n("124f"),r=p(a),i=n("4727"),o=p(i),s=n("4461"),l=p(s),c=n("8861"),d=p(c),u=n("805f"),f=p(u);function p(e){return e&&e.__esModule?e:{default:e}}t.MSI=r.default,t.MSI10=o.default,t.MSI11=l.default,t.MSI1010=d.default,t.MSI1110=f.default},"90a4":function(e,t,n){},"93c6":function(e,t,n){"use strict";n.r(t);var a=n("8951"),r=n("2b78");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("a156");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"79837842",null);t["default"]=s.exports},"97b8":function(e,t,n){"use strict";n("90a4")},9897:function(e,t,n){"use strict";var a=n("7a8b");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},9947:function(e,t,n){"use strict";n("7bba")},"9a9f":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7"),n("d81d"),n("07ac"),n("b0c0"),n("ac1f"),n("5319"),n("6062"),n("3ca3"),n("ddb0"),n("caad"),n("159b");var r=a(n("5530")),i=a(n("c7eb")),o=a(n("1da1")),s={data:function(){return{model:{name:"",type:"0",express_company:"",template_account:"",template_password:"",monthly_code:"",branch_name:"",branch_code:"",template_style:"",pay_type:"",is_notice:"0",auto_send:"1",is_sub:"0"},rule:{name:[{required:!0,message:"电子面单模板名称必填"},{whitespace:!0,message:"电子面单模板名称必填"}],type:[{required:!0,message:"模板类型必选"}],express_company:[{required:!0,message:"快递公司必选"}],template_account:[{required:!0,message:"电子面单客户账号必填"},{whitespace:!0,message:"电子面单客户账号必填"}],template_password:[{required:!0,message:"电子面单密码必填"},{whitespace:!0,message:"电子面单密码必填"}],template_style:[{required:!0,message:"模板样式必选"}],pay_type:[{required:!0,message:"邮费支付方式必选"}]},loading:!1,id:"",type:"",expressList:[],template_format:{},tempStyleList:[],payTypeList:[{value:"1",label:"现付"},{value:"2",label:"到付"},{value:"3",label:"月结"}]}},created:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){var n,a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getExpressTempStyle();case 2:n=e.$route.params.type,e.type=n,a=e.$route.query.id,e.id=a,"edit"===e.type&&e.id&&e.getExpressTempDetail();case 7:case"end":return t.stop()}}),t)})))()},methods:{getExpressTempStyle:function(){var e=this;return new Promise((function(t){e.$api.eOrderApi.getExpressTempStyle().then((function(n){0==n.error&&(e.expressList=Object.values(n.express).map((function(e){return{value:e.key,label:e.name}})),e.template_format=(0,r.default)({},n.template_format)),t()}))}))},getExpressTempDetail:function(){var e=this;this.$api.eOrderApi.getExpressTempDetail({id:this.id}).then((function(t){0==t.error&&(e.model=(0,r.default)((0,r.default)((0,r.default)({},e.model),t.data),{},{type:t.data.type+"",template_style:t.data.template_style||"default",pay_type:t.data.pay_type+"",is_notice:t.data.is_notice+"",auto_send:t.data.auto_send+"",is_sub:t.data.is_sub?t.data.is_sub+"":"0"}))}))},handleSave:function(){var e=this;this.$refs["form"].validate().then((function(t){t&&(e.loading=!0,"edit"===e.type?e.editExpressTemp():e.addExpressTemp())}))},handleTest:function(){var e=this;this.$refs["form"].validate().then((function(t){t&&(e.loading=!0,e.testPrint())}))},addExpressTemp:function(){var e=this,t=this.formatParams();this.$api.eOrderApi.addExpressTemp((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&(e.$Message.success("保存成功"),e.$router.replace({path:"/eOrder/templateManagement/eOrder/index"}))}))},editExpressTemp:function(){var e=this,t=this.formatParams();t=(0,r.default)((0,r.default)({},t),{},{id:this.id}),this.$api.eOrderApi.editExpressTemp((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&(e.$Message.success("保存成功"),e.$router.replace({path:"/eOrder/templateManagement/eOrder/index"}))}))},testPrint:function(){var e=this,t=this.formatParams("test");t=(0,r.default)({},t),this.$api.eOrderApi.testPrint((0,r.default)({},t)).then((function(t){e.loading=!1,0==t.error&&e.$Message.success("当前电子面单模版参数校验成功")}))},formatParams:function(e){var t=this.model,n=t.name,a=t.type,i=t.express_company,o=t.template_account,s=t.template_password,l=t.monthly_code,c=t.branch_name,d=t.branch_code,u=t.template_style,f=t.pay_type,p=t.is_notice,h=t.auto_send,m=t.is_sub,v={type:a,express_company:i,template_account:new Set(["SF","YZBK","YZPY"]).has(i)?"":o,template_password:new Set(["SF","YZBK","YZPY"]).has(i)?"":s,monthly_code:l,branch_name:c,branch_code:d,template_style:"default"===u?"":u,pay_type:f,is_sub:m};return e||(v=(0,r.default)((0,r.default)({},v),{},{name:n,is_notice:p,auto_send:h})),v},changeExpressCompany:function(){this.model.template_style="",["SF","JD"].includes(this.model.express_company)||(this.model.is_sub="0")},changeIsSub:function(e){1===+e&&(this.model.auto_send="0")}},watch:{"model.express_company":{handler:function(e){e?(this.tempStyleList=this.template_format[e]||[],this.tempStyleList.forEach((function(e){e.value||(e.value="default")}))):this.tempStyleList=[]}}}};t.default=s},"9c14":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("5530"));n("d81d"),n("b0c0"),n("3c65"),n("14d9");var i={data:function(){return{model:{name:"",express_code:"all"},expressList:[]}},computed:{noManagePerm:function(){return!this.$getPermMap("expressHelper.express_template.manage")}},created:function(){this.getExpressList()},methods:{getExpressList:function(){var e,t=this;(null===(e=this.expressList)||void 0===e||!e.length)&&this.$api.settingApi.getExpressList().then((function(e){0==e.error&&(t.expressList=e.list.map((function(e){return{value:e.code,label:e.name}})),t.expressList.unshift({value:"all",label:"全部"}))}))},addTemp:function(){this.$router.push({path:"/eOrder/templateManagement/invoice/add",query:{}})},handleSearch:function(){var e=(0,r.default)({},this.model);e.express_code="all"===e.express_code?"":e.express_code,this.$emit("on-search",e)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={name:"",express_code:"all"}}}};t.default=i},"9e94":function(e,t,n){"use strict";n.r(t);var a=n("9a9f"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"9f14":function(e,t,n){},"9f2a":function(e,t,n){"use strict";n.r(t);var a=n("b9ad"),r=n("1985");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("68be");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"43767bc5",null);t["default"]=s.exports},"9ffa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var a=n("3c7c"),r=s(a),i=n("07df"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.ITF=r.default,t.ITF14=o.default},a025:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("5530"));n("14d9");var i={data:function(){return{model:{name:""}}},computed:{noManagePerm:function(){return!this.$getPermMap("expressHelper.consigner_template.manage")}},methods:{addTemp:function(){this.$router.push({path:"/eOrder/templateManagement/sender/add",query:{}})},handleSearch:function(){var e=(0,r.default)({},this.model);this.$emit("on-search",e)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={name:""}}}};t.default=i},a156:function(e,t,n){"use strict";n("9f14")},a2b0:function(e,t,n){"use strict";function a(e){var t=[];function n(e){if(Array.isArray(e))for(var a=0;a<e.length;a++)n(e[a]);else e.text=e.text||"",e.data=e.data||"",t.push(e)}return n(e),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},a2b9:function(e,t,n){"use strict";n.r(t);var a=n("7dd8"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},a3bd:function(e,t,n){"use strict";n.r(t);var a=n("5a62"),r=n("5f92");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("9947");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"6dc95385",null);t["default"]=s.exports},a5d2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("c243"),i=n("5726"),o=c(i),s=n("e762"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){return d(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return f(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),t}(l.default);t.default=p},a6a0:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("15fd")),i=a(n("c7eb")),o=a(n("1da1")),s=a(n("b85c"));n("d3b7"),n("14d9");var l=n("024b"),c=n("b1be"),d=["data","error"],u={name:"InvoiceModal",props:{selectedData:{type:Array,default:function(){return[]}},LODOP:{type:Object}},data:function(){return{value:!1,loading:!1,list:[],model:{template_id:""},disabledCancel:!1,disabledOk:!1,closable:!1,rules:{template_id:[{required:!0,message:"发货单模板必选"}]},template:{data:[],info:{}},express_log_id:[]}},methods:{setValue:function(){this.value=!this.value,this.value&&this.getData()},getData:function(){var e=this;this.loading=!0,this.model.template_id="",this.$api.eOrderApi.getInvoiceTemplateList().then((function(t){if(0===t.error){e.list=t.list;var n,a=(0,s.default)(e.list);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(1==r.is_default){e.model.template_id=r.id;break}}}catch(i){a.e(i)}finally{a.f()}}})).finally((function(){e.loading=!1}))},handleOk:function(){var e=this;this.$refs["form"].validate().then(function(){var t=(0,o.default)((0,i.default)().mark((function t(n){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return e.loading=!0,e.disabledCancel=!0,e.disabledOk=!0,t.next=6,e.getTemplateData();case 6:e.getHtmlData();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getHtmlData:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){var n,a,r,o,l;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],e.express_log_id=[],a=(0,s.default)(e.selectedData),t.prev=3,a.s();case 5:if((r=a.n()).done){t.next=13;break}return o=r.value,t.next=9,e.getOrderData(o);case 9:l=t.sent,n.push(l);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:e.handlePreview(n);case 22:case"end":return t.stop()}}),t,null,[[3,15,18,21]])})))()},getTemplateData:function(){var e=this;return new Promise((function(t,n){e.$api.eOrderApi.getInvoiceTemplate({send_bill_template_id:e.model.template_id}).then((function(a){var i=a.data,o=a.error,s=(0,r.default)(a,d);0===o?(e.template.data=JSON.parse(i),e.template.info=s,t()):n()}))}))},getOrderData:function(e){var t=this;return new Promise((function(n){t.$api.eOrderApi.invoicePrint(e).then((function(e){0===e.error&&(t.express_log_id.push(e.express_log_id),0==t.template.info.type?n((0,l.styleA4)(t.template.data,t.template.info,e)):n((0,l.styleA5)(t.template.data,t.template.info,e)))}))}))},handlePreview:function(e){var t=this;(0,c.preview)(e,this.LODOP,{ADD_PRINT_HTM:!0}).then((function(e){e&&"cancle"===e?(t.loading=!1,t.disabledCancel=!1,t.disabledOk=!1,t.setValue(),t.$emit("on-change-preview")):(console.log("打印完成啦！"),t.loading=!1,t.disabledCancel=!1,t.disabledOk=!1,t.setValue(),t.handleCallback())})).catch((function(){t.loading=!1,t.disabledCancel=!1,t.disabledOk=!1,t.setValue()}))},handleCallback:function(){var e=this;this.$api.eOrderApi.printSendCallback({express_log_id:this.express_log_id}).then((function(t){console.log("请求成功",t),e.$emit("on-change-preview")}))},handleCancel:function(){this.setValue()}}};t.default=u},a789:function(e,t,n){"use strict";n.r(t);var a=n("1e09"),r=n("289d");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"57e082be",null);t["default"]=s.exports},aab3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("5261"),r=s(a),i=n("ca32"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t={};for(var n in o.default)o.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t["value"]=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,r.default)(t),t}t.default=l},ab5b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var a=n("fd7c9"),r=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function s(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function l(e,t,n){for(var a=0;a<e.length;a++){var i,l=e[a],c=(0,r.default)(t,l.options);i=c.displayValue?u(l.text,c,n):0;var d=l.data.length*c.width;l.width=Math.ceil(Math.max(i,d)),l.height=o(l,c),l.barcodePadding=s(i,d,c)}}function c(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function d(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function u(e,t,n){var a;if(n)a=n;else{if("undefined"===typeof document)return 0;a=document.createElement("canvas").getContext("2d")}a.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var r=a.measureText(e);if(!r)return 0;var i=r.width;return i}t.getMaximumHeightOfEncodings=d,t.getEncodingHeight=o,t.getBarcodePadding=s,t.calculateEncodingAttributes=l,t.getTotalWidthOfEncodings=c},ab98:function(e,t,n){"use strict";var a=n("f267");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},abfd:function(e,t,n){e.exports=n.p+"static/dist/shop/img/kdn.png"},ad28:function(e,t,n){"use strict";n.r(t);var a=n("01e8"),r=n("e1f1");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("651b");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"6952cdb9",null);t["default"]=s.exports},aea5:function(e,t,n){"use strict";n.r(t);var a=n("b8ed"),r=n("9e94");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("5ff5");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"6376a51d",null);t["default"]=s.exports},b1be:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.preview=void 0,n("d3b7"),n("159b");var a,r,i,o,s=n("f825"),l=n("232a"),c="",d=0,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r){a=t||(0,l.getLodop)(),a&&(a.PRINT_INIT(""),a.SET_PRINT_PAGESIZE(0),e.forEach((function(e){a.NewPageA(),console.log("options?.ADD_PRINT_HTM",n,null===n||void 0===n?void 0:n.ADD_PRINT_HTM),null!==n&&void 0!==n&&n.ADD_PRINT_HTM?a.ADD_PRINT_HTM("0","0","100%","100%",e):a.ADD_PRINT_HTML("0","0","100%","100%",e)})),a.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",!0),a.SET_PRINT_MODE("CATCH_PRINT_STATUS",!0),(null===n||void 0===n?void 0:n.PRINT_PAGE_PERCENT)&&a.SET_PRINT_MODE("PRINT_PAGE_PERCENT",null===n||void 0===n?void 0:n.PRINT_PAGE_PERCENT.value),a.CVERSION?(a.On_Return=function(e,t){c=t,console.log("该任务走的是c-lodop方式，job代码为"+c),""!==c?(d=0,f((function(){r()}))):r("cancle")},a.PREVIEW()):s.Message.error("打印控件出现问题，重新安装"))}))};function f(e){d+=1,console.log("正等待(JOB代码是"+c+")打印结果："+d+"秒"),o=setTimeout(f,1e3,e),a.On_Return_Remain=!0,a.On_Return=function(t,n){t==r?1==n&&(clearTimeout(o),console.log("走的c-lodop方式：PRINT_STATUS_OK判断为打印成功"),d=0,s.Message.success("打印成功"),e()):t==i&&0==n&&(clearTimeout(o),console.log("走的c-lodop方式：判断该该任务已经不在队列，已成功或删除任务"),d=0,s.Message.success("打印成功"),e())},r=a.GET_VALUE("PRINT_STATUS_OK",c),i=a.GET_VALUE("PRINT_STATUS_EXIST",c),d>50&&(clearTimeout(o),console.log("打印超过50秒没捕获到成功状态！"),d=0,s.Message.error("打印超过50秒没捕获到成功状态！"))}t.preview=u},b1d8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n("aab3"),i=c(r),o=n("752b"),s=c(o),l=n("dca2");function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("string"===typeof e)return u(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(d(e[n]));return t}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return f(e);if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!==typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,i.default)(e),renderer:s.default.SVGRenderer};if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,i.default)(e),renderer:s.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:s.default.CanvasRenderer};if(e&&"object"===("undefined"===typeof e?"undefined":a(e))&&!e.nodeName)return{element:e,renderer:s.default.ObjectRenderer};throw new l.InvalidElementException}function u(e){var t=document.querySelectorAll(e);if(0!==t.length){for(var n=[],a=0;a<t.length;a++)n.push(d(t[a]));return n}}function f(e){var t=document.createElement("canvas");return{element:t,options:(0,i.default)(e),renderer:s.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}t.default=d},b32c:function(e,t,n){"use strict";n("73c4")},b499:function(e,t,n){"use strict";var a=n("3c7d");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},b8ed:function(e,t,n){"use strict";var a=n("148b");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},b9ad:function(e,t,n){"use strict";var a=n("e7ec");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},bb31:function(e,t,n){"use strict";n.r(t);var a=n("66b3"),r=n("4470");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"f1a77312",null);t["default"]=s.exports},bb5d8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("f08e"),r=function(e){return e.match(new RegExp("^"+a.A_CHARS+"*"))[0].length},i=function(e){return e.match(new RegExp("^"+a.B_CHARS+"*"))[0].length},o=function(e){return e.match(new RegExp("^"+a.C_CHARS+"*"))[0]};function s(e,t){var n=t?a.A_CHARS:a.B_CHARS,r=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+l(e.substring(r[1].length));var i=e.match(new RegExp("^"+n+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+s(e.substring(i.length),!t)}function l(e){var t=o(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var a=r(e)>=i(e);return t+String.fromCharCode(a?206:205)+s(e,a)}t.default=function(e){var t=void 0,n=o(e).length;if(n>=2)t=a.C_START_CHAR+l(e);else{var c=r(e)>i(e);t=(c?a.A_START_CHAR:a.B_START_CHAR)+s(e,c)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},bd36:function(e,t,n){"use strict";var a=n("fb16");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},bd8a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t){r(this,e),this.api=t}return a(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(n){return this.handleCatch(n),this.api}}}]),e}();t.default=i},bdfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("c243"),i=n("5726"),o=c(i),s=n("e762"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){d(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return f(t,e),a(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:r.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:r.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:r.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){var e=[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN];return{data:e.join(""),text:this.text}}}]),t}(l.default);t.default=p},be0c:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("d858")),i={send_title:"发货单",send_code:"202012354789",order_no:"SH20191123102338822883",order_code:"SH20191123102338822883",member_nickname:"Authur",member_level:"白金会员",pay_type:"微信",print_time:"2020-08-16 10:10:10",created_at:"2020-08-15 10:12:20",pay_time:"2020-08-16 10:20:10",dispatch_type:"普通快递",buyer_name:"王五",buyer_mobile:"15210530729",address_code:"山东省济南市天桥区",buyer_remark:"麻烦请发顺丰，不然邮寄不到",order_goods:[{number:"1",title:"美威 智利原味三文鱼排（大西洋 鲑）240g/袋 4片 含Ω3 BAP认证",short_name:"小核蜜丁香小",option_title:"智利原味三文鱼排（大西洋鲑） 240g/袋 4片 含Ω3 BAP认证",goods_sku:"1234567899625566",price_unit:"1234567.74",price:"123456.789",total:"2"}],goods_price:"12346.00",dispatch_price:"10",discount_price:"120",pay_price:"199",goods_count:"1"},o={name:"InvoiceNote",components:{QrCode:r.default},props:{data:{type:Object},note:{type:Object,default:function(){}},checkedKey:{type:String,default:""}},data:function(){return{style:{A4:{width:1143,height:1579,rate:1.38},A5:{width:2480,height:1654,rate:.67}},width:1143,dataBase:i,type:"A4"}},computed:{getType:function(){var e;return 1==(null===(e=this.data)||void 0===e?void 0:e.type)}},methods:{changeKey:function(e){this.$emit("on-change-key",e)}}};t.default=o},be5e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("fd7c9"),i=s(r),o=n("ab5b");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",d=function(){function e(t,n,a){l(this,e),this.svg=t,this.encodings=n,this.options=a,this.document=a.xmlDocument||document}return a(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],a=(0,i.default)(this.options,n.options),r=this.createGroup(e,a.marginTop,this.svg);this.setGroupOptions(r,a),this.drawSvgBarcode(r,a,n),this.drawSVGText(r,a,n),e+=n.width}}},{key:"prepareSVG",value:function(){while(this.svg.firstChild)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),t=(0,o.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&this.drawRect(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,n){var a,r=n.data;a="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var i=0,o=0,s=0;s<r.length;s++)o=s*t.width+n.barcodePadding,"1"===r[s]?i++:i>0&&(this.drawRect(o-t.width*i,a,t.width*i,t.height,e),i=0);i>0&&this.drawRect(o-t.width*(i-1),a,t.width*i,t.height,e)}},{key:"drawSVGText",value:function(e,t,n){var a,r,i=this.document.createElementNS(c,"text");t.displayValue&&(i.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),r="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(a=0,i.setAttribute("text-anchor","start")):"right"==t.textAlign?(a=n.width-1,i.setAttribute("text-anchor","end")):(a=n.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",a),i.setAttribute("y",r),i.appendChild(this.document.createTextNode(n.text)),e.appendChild(i))}},{key:"setSvgAttributes",value:function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",c),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,n){var a=this.document.createElementNS(c,"g");return a.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(a),a}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,n,a,r){var i=this.document.createElementNS(c,"rect");return i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",n),i.setAttribute("height",a),r.appendChild(i),i}}]),e}();t.default=d},be98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("5726"),i=c(r),o=n("e762"),s=c(o),l=n("e8b2a");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=function(e){function t(e,n){d(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(a.isValid=!1,-1!==e.search(/^[0-9]{6}$/))a.middleDigits=e,a.upcA=v(e,"0"),a.text=n.text||""+a.upcA[0]+e+a.upcA[a.upcA.length-1],a.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return u(a);if(a.middleDigits=e.substring(1,e.length-1),a.upcA=v(a.middleDigits,e[0]),a.upcA[a.upcA.length-1]!==e[e.length-1])return u(a);a.isValid=!0}return a.displayValue=n.displayValue,n.fontSize>10*n.width?a.fontSize=10*n.width:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return f(t,e),a(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),e+="010101",{data:e,text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=this.upcA[this.upcA.length-1],n=h[parseInt(t)][parseInt(e)];return(0,i.default)(this.middleDigits,n)}}]),t}(s.default);function v(e,t){for(var n=parseInt(e[e.length-1]),a=p[n],r="",i=0,o=0;o<a.length;o++){var s=a[o];r+="X"===s?e[i++]:s}return r=""+t+r,""+r+(0,l.checksum)(r)}t.default=m},bec8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("kdx-modal-frame",{attrs:{value:e.value,title:"发货单打印提示（打印过程中请勿操作）",okText:"打印",width:450,loading:e.loading,disabledCancel:e.disabledCancel,disabledOk:e.disabledOk,closable:e.closable},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk}},[t("div",{staticClass:"modal-content"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{attrs:{label:"发货单模板：",prop:"template_id"}},[t("Select",{staticClass:"width-250",model:{value:e.model.template_id,callback:function(t){e.$set(e.model,"template_id",t)},expression:"model.template_id"}},e._l(e.list,(function(n){return t("Option",{key:n.id,attrs:{value:n.id}},[e._v(" "+e._s(n.name)+" ")])})),1)],1)],1)],1)])};t.render=a;var r=[];t.staticRenderFns=r},c07c:function(e,t,n){"use strict";n.r(t);var a=n("888e"),r=n("01f7");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("c1e8");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"5f7e4b1d",null);t["default"]=s.exports},c17b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){s(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return c(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(i.default);t.codabar=d},c1e8:function(e,t,n){"use strict";n("4263")},c23d:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("ac1f"),n("841c");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("search-header",{ref:"search_header",attrs:{order_no:e.search.order_no},on:{"on-search":e.handleSearch}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-list-wrap"},[t("div",{staticClass:"btn-wrap"},[t("Button",{attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.handlePrint}},[e._v(" 打印电子面单 ")]),t("Button",{staticClass:"marginL-10",attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.handleInvoicePrint}},[e._v(" 打印发货单 ")]),t("Button",{staticClass:"marginL-10",attrs:{type:"error",disabled:e.noManagePerm},on:{click:e.handleEachPrint}},[e._v(" 同时打印 ")])],1),t("table-list",{ref:"tableList",attrs:{data:e.data},on:{"on-change":e.change}}),e.data.length?t("div",{staticClass:"operate"},[t("Checkbox",{attrs:{indeterminate:e.indeterminate,disabled:e.disabled},on:{"on-change":e.changeAllSelected},model:{value:e.allSelectedFlag,callback:function(t){e.allSelectedFlag=t},expression:"allSelectedFlag"}}),t("Button",{attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.handlePrint}},[e._v(" 打印电子面单 ")]),t("Button",{staticClass:"marginL-10",attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.handleInvoicePrint}},[e._v(" 打印发货单 ")]),t("Button",{staticClass:"marginL-10",attrs:{type:"error",disabled:e.noManagePerm},on:{click:e.handleEachPrint}},[e._v(" 同时打印 ")])],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{showSizer:!1,pageSize:20,total:e.total},on:{"on-change":e.changePage}})],1)],1),t("kdx-modal-frame",{attrs:{title:"打印提示（打印过程中请勿操作）",okText:"打印",width:500,loading:e.modalLoading,disabledCancel:e.disabledCancel,disabledOk:e.disabledOk,closable:e.closable},on:{"on-cancel":e.handleCancel,"on-ok":e.handleOk},model:{value:e.modalShowFlag,callback:function(t){e.modalShowFlag=t},expression:"modalShowFlag"}},[t("div",{staticClass:"modal-content"},[t("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[t("FormItem",{attrs:{label:"电子面单模板：",prop:"express_template_id"}},[t("Select",{staticClass:"width-250",on:{"on-change":e.changeExpressTemplate},model:{value:e.model.express_template_id,callback:function(t){e.$set(e.model,"express_template_id",t)},expression:"model.express_template_id"}},e._l(e.eOrderTempList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value,disabled:e.isTemplateDisabled(n)}},[e._v(" "+e._s(n.label)+" ")])})),1),t("kdx-hint-text",[e._v("如果订单通过子母模板进行过打印则不再支持非子母单模板")])],1),t("FormItem",{attrs:{label:"发件人模板：",prop:"consigner_template_id"}},[t("Select",{staticClass:"width-250",model:{value:e.model.consigner_template_id,callback:function(t){e.$set(e.model,"consigner_template_id",t)},expression:"model.consigner_template_id"}},e._l(e.senderTempList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),"1"==e.expressTemplate.is_sub?t("FormItem",{attrs:{label:"票单数量：",prop:"number"}},[t("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:0,"min-value":1,placeholder:"请输入数量"},model:{value:e.model.number,callback:function(t){e.$set(e.model,"number",t)},expression:"model.number"}}),t("kdx-hint-text",[e._v("票单数量即一个订单要拆分的子母单包裹数量，不可为0")])],1):e._e()],1)],1)]),t("invoice-modal",{ref:"invoice_modal",attrs:{LODOP:e.LODOP,"selected-data":e.selectedData},on:{"on-change-preview":e.handleInvoicePreview}}),e._t("default")],2)};t.render=a;var r=[];t.staticRenderFns=r},c243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},c2fae:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("kdx-header-bar",{scopedSlots:e._u([{key:"header",fn:function(){return[t("Button",{attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.addTemp}},[e._v(" +添加模板 ")])]},proxy:!0}])},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"模板名称："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"模板名称"},on:{"on-enter":e.handleSearch},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{attrs:{label:"快递公司："}},[t("Select",{staticClass:"width-160",model:{value:e.model.express_company,callback:function(t){e.$set(e.model,"express_company",t)},expression:"model.express_company"}},e._l(e.expressList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("FormItem",{attrs:{label:"模板类型："}},[t("Select",{staticClass:"width-160",model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.typeist,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)};t.render=a;var r=[];t.staticRenderFns=r},c3b7:function(e,t,n){"use strict";n.r(t);var a=n("a025"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},c4ac:function(e,t,n){"use strict";var a=n("ed32");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},c859:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("5530"));n("d81d"),n("b0c0"),n("3c65"),n("14d9");var i={data:function(){return{model:{name:"",express_company:"all",type:"all"},expressList:[],typeist:[{value:"all",label:"全部"},{value:"1",label:"快递鸟"}]}},computed:{noManagePerm:function(){return!this.$getPermMap("expressHelper.express_template.manage")}},created:function(){this.getExpressList()},methods:{getExpressList:function(){var e=this;this.$api.settingApi.getExpressList().then((function(t){0==t.error&&(e.expressList=t.list.map((function(e){return{value:e.key,label:e.name}})),e.expressList.unshift({value:"all",label:"全部"}))}))},addTemp:function(){this.$router.push({path:"/eOrder/templateManagement/eOrder/add",query:{}})},handleSearch:function(){var e=(0,r.default)({},this.model);"all"===this.model.express_company&&(e=(0,r.default)((0,r.default)({},e),{},{express_company:""})),"all"===this.model.type&&(e=(0,r.default)((0,r.default)({},e),{},{type:""})),this.$emit("on-search",e)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={name:"",express_company:"all",type:"all"}}}};t.default=i},ca32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};t.default=a},cb34:function(e,t,n){},ced7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("d81d"),n("d3b7"),n("159b"),n("14d9"),n("a15b");var a={name:"TableList",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{columns:[{type:"selection",width:40,align:"center"},{title:"模板名称",key:"name"},{title:"快递公司",key:"express_name"},{title:"操作",key:"action",width:180,render:function(t,n){var a;return a=1==n.row.is_default?t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(){e.setDefault(n.row.id,"0")}}},["取消默认"]):t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(){e.setDefault(n.row.id,"1")}}},["设为默认"]),t("div",{class:"action"},[a,t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(){e.handleEdit(n.row)}}},["编辑"]),t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(){e.handleDelete("single",n.row)}}},["删除"])])}}],selectRows:[],isSelectAll:!1}},computed:{getTableData:function(){var e=this;return this.data.map((function(t){return t._disabled=e.noManagePerm,t}))},noManagePerm:function(){return!this.$getPermMap("goods.index.manage")},selectDisabled:function(){return 0===this.selectRows.length}},methods:{selectChange:function(e){this.selectRows=e,this.isSelectAll=this.selectRows.length===this.data.length},checkboxChange:function(e){var t=this;this.data.forEach((function(n,a){t.$set(t.data[a],"_checked",e)})),this.selectRows=e?this.data:[]},handleEdit:function(e){this.$router.push({path:"/eOrder/templateManagement/invoice/edit?id=".concat(e.id)})},setDefault:function(e,t){var n=this;this.$Modal.confirm({title:"提示",content:"是否确认修改默认状态",onOk:function(){n.$api.eOrderApi.setInvoiceDefault({id:e,is_default:t}).then((function(e){0===e.error&&(n.$Message.success("发货单默认模板变更成功"),n.handleList())}))}})},handleDelete:function(e,t){var n=this;this.$Modal.confirm({title:"提示",content:"确认删除该模板",onOk:function(){var a={},r=!1;if("single"===e)a={id:t.id},r=1==t.is_default;else{var i=n.selectRows.map((function(e){return 1==e.is_default&&(r=!0),e.id})).join(",");a={id:i}}n.deleteRow(a,r)}})},deleteRow:function(e,t){var n=this;this.$api.eOrderApi.deleteInvoice(e).then((function(e){0===e.error&&(n.$Message.success("发货单模板删除成功"),t&&setTimeout((function(){n.$Message.success("发货单默认模板变更成功")}),2e3),n.handleRefresh())}))},handleList:function(){this.$emit("on-list"),this.initFooterData()},handleRefresh:function(){this.$emit("on-refresh"),this.initFooterData()},reset:function(){this.$refs["page"].reset()},changePage:function(e){this.$emit("on-page-change",e),this.initFooterData()},initFooterData:function(){this.isSelectAll=!1,this.selectRows=[]}}};t.default=a},d25b:function(e,t,n){},d4ec9:function(e,t,n){"use strict";n.r(t);var a=n("ab98"),r=n("c3b7");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"1578020e",null);t["default"]=s.exports},d918:function(e,t,n){"use strict";n("262e")},da3d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var a=n("6f24"),r=u(a),i=n("e8c9"),o=u(i),s=n("70b0"),l=u(s),c=n("ed3f"),d=u(c);function u(e){return e&&e.__esModule?e:{default:e}}t.CODE128=r.default,t.CODE128A=o.default,t.CODE128B=l.default,t.CODE128C=d.default},dbe7:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7");var r=a(n("e61f")),i={name:"FormInfo",components:{CheckboxData:r.default},props:{expressList:{type:Array,default:function(){return[]}},model:{type:Object,default:function(){}},list:{type:Array,default:function(){return[]}},checkedKey:{type:String,default:""}},data:function(){return{rules:{name:[{required:!0,message:"模板名称不能为空"}],express_code:[{required:!0,message:"快递公司必填"}],send_title:[{required:!0,message:"发货单标题必填"}]}}},methods:{changeThumb:function(e){this.model.logo=e,this.$emit("on-change",this.model)},changeStyle:function(e){this.model.type=e,this.$emit("on-change",this.model)},handleChange:function(e,t){this.model[e]=t,this.$emit("on-change",this.model)},changeList:function(e){this.$emit("on-change-list",e)},changeKey:function(e){this.$emit("on-change-key",e)},validate:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate((function(e){t(e)}))}))}}};t.default=i},dca2:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e,n){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="InvalidInputException",i.symbology=e,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return i(t,e),t}(Error),s=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return i(t,e),t}(Error),l=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return i(t,e),t}(Error);t.InvalidInputException=o,t.InvalidElementException=s,t.NoElementException=l},dd04:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAAA0CAYAAADluIZTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHCSURBVHgB7dPBUdtAGIbhXWAmbcCFZODiEqCSOJXgVAKpBNKBL3CAA0kdGUvROsgRBoec+C7Pc/JvW9Jqd956fDrry8Qw3DzcLs+H7y+HcT6d+2F4uFt++Xg6exw+Hg7z1WRe3N8uv7X7/erq4Yf9/qjry/XwXT0+mV2UWhblufneqnzv9svjzuf35cf93fJru/9qVecHpf/Z/r+5f1cuh9+PNvf/8//13Nb3tLbr4fPZ9Bnr62t/3tXS3rG0NX46mc27Ui5evb4vN20d7d26VT0b19Gu3Z437/F3b9rzr8a9Wf//oK9tbzbXT+btvVuva2udq1o+7zqTYQ8W456t54nxLPpaznadcZtf7NXTev5nnhzk83XsmN/a0xdnM65xPOtX1vzWHv9rz99r3ivAuxMeBAgPAoQHAcKDAOFBgPAgQHgQIDwIEB4ECA8ChAcBwoMA4UGA8CBAeBAgPAgQHgQIDwKEBwHCgwDhQYDwIEB4ECA8CBAeBAgPAoQHAcKDAOFBgPAgQHgQIDwIEB4ECA8ChAcBwoMA4UGA8CBAeBAgPAgQHgQIDwKEBwHCgwDhQYDwIEB4ECA8CBAeBAgPAn4DCvpHEfZqa18AAAAASUVORK5CYII="},de48:function(e,t,n){"use strict";n.r(t);var a=n("0c11"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},deb8:function(e,t,n){"use strict";n.r(t);var a=n("166a"),r=n("f115");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("266e");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"81b494b0",null);t["default"]=s.exports},e1f1:function(e,t,n){"use strict";n.r(t);var a=n("41ac"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},e61f:function(e,t,n){"use strict";n.r(t);var a=n("b499"),r=n("3f4c");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("b32c");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"2e62df1c",null);t["default"]=s.exports},e762:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){a(this,e),this.data=t,this.text=n.text||t,this.options=n};t.default=r},e7ec:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activity-wrap"},[t("search-header",{ref:"search_header",on:{"on-search":e.handleSearch}}),t("div",{staticClass:"table-list"},[t("table-list",{ref:"table_list",attrs:{data:e.table.data,total:e.table.total,loading:e.table.loading},on:{"on-page-change":e.changePage,"on-refresh":e.refreshTable,"on-list":e.getList}})],1),e._t("default")],2)};t.render=n;var a=[];t.staticRenderFns=a},e8b2a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.checksum=p;var r=n("5726"),i=l(r),o=n("e762"),s=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(e,n){c(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=p(e));var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.displayValue=n.displayValue,n.fontSize>10*n.width?a.fontSize=10*n.width:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return u(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==p(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,i.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,i.default)(this.data.substr(6,6),"RRRRRR"),e+="101",{data:e,text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,i.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,i.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(s.default);function p(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}t.default=f},e8c9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("4b23"),i=s(r),o=n("f08e");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e,n){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.A_START_CHAR+e,n))}return d(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=u},ed32:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"primary-long",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSave}},[e._v(" 保存 ")]),t("Button",{staticClass:"default-long",attrs:{to:"/eOrder/templateManagement/sender/index"}},[e._v(" 取消 ")])]},proxy:!0}])},[t("div",{staticClass:"content"},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":160,rules:e.rule}},[t("kdx-form-title",[e._v("模板设置")]),t("FormItem",{attrs:{label:"发件人模板名称：",prop:"name"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入","show-word-limit":"",maxlength:"20"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{attrs:{label:"发件人公司：",prop:"consigner_company"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.consigner_company,callback:function(t){e.$set(e.model,"consigner_company",t)},expression:"model.consigner_company"}})],1),t("FormItem",{attrs:{label:"发件人名称：",prop:"consigner_name"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.consigner_name,callback:function(t){e.$set(e.model,"consigner_name",t)},expression:"model.consigner_name"}})],1),t("FormItem",{attrs:{label:"发件人手机号：",prop:"consigner_mobile"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入"},model:{value:e.model.consigner_mobile,callback:function(t){e.$set(e.model,"consigner_mobile",t)},expression:"model.consigner_mobile"}})],1),t("FormItem",{attrs:{label:"发件人城市：",prop:"consigner_addr"}},[t("Cascader",{staticClass:"width-340",attrs:{data:e.addressList},model:{value:e.model.consigner_addr,callback:function(t){e.$set(e.model,"consigner_addr",t)},expression:"model.consigner_addr"}})],1),t("FormItem",{attrs:{label:"详细地址：",prop:"consigner_address"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"textarea",rows:1,"show-word-limit":"",maxlength:"120"},model:{value:e.model.consigner_address,callback:function(t){e.$set(e.model,"consigner_address",t)},expression:"model.consigner_address"}})],1),t("FormItem",{attrs:{label:"邮编：",prop:"postcode"}},[t("i-input",{staticClass:"width-340",attrs:{placeholder:"请输入",type:"number","show-word-limit":"",maxlength:"10"},model:{value:e.model.postcode,callback:function(t){e.$set(e.model,"postcode",t)},expression:"model.postcode"}})],1)],1)],1)])};t.render=a;var r=[];t.staticRenderFns=r},ed3f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("4b23"),i=s(r),o=n("f08e");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e,n){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.C_START_CHAR+e,n))}return d(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=u},ee17:function(e,t,n){"use strict";var a=n("5c6c8");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},ee22:function(e,t,n){"use strict";n("f7cb")},f08e:function(e,t,n){"use strict";var a;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=t.SET_A=0,o=t.SET_B=1,s=t.SET_C=2,l=(t.SHIFT=98,t.START_A=103),c=t.START_B=104,d=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(a={},r(a,l,i),r(a,c,o),r(a,d,s),a),t.SWAP={101:i,100:o,99:s},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_È-Ï]",t.B_CHARS="[ -È-Ï]",t.C_CHARS="(Ï*[0-9]{2}Ï*)",t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},f115:function(e,t,n){"use strict";n.r(t);var a=n("f95b"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},f1bc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activity-wrap"},[t("search-header",{ref:"search_header",on:{"on-search":e.handleSearch}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-list"},[t("Table",{ref:"table",attrs:{columns:e.columns,data:e.data},on:{"on-selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"name",fn:function(n){var a=n.row;return[t("div",{staticClass:"flex align-center"},[t("div",{staticClass:"text"},[e._v(e._s(a.name))]),"1"===a.is_default?t("kdx-tag-label",{attrs:{type:"info"}},[e._v(" 默认 ")]):e._e()],1)]}},{key:"type",fn:function(n){var a=n.row;return[t("kdx-tag-label",{attrs:{type:"0"===a.type?"warning":"info"}},[e._v(" "+e._s("0"===a.type?"快递鸟":"菜鸟")+" ")])]}},{key:"action",fn:function(n){var a=n.row;return[t("div",{staticClass:"btn-box"},["0"===a.is_default?t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDefault(a)}}},[e._v(" 设置默认 ")]):e._e(),"1"===a.is_default?t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDefault(a)}}},[e._v(" 取消默认 ")]):e._e(),t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleEdit(a.id)}}},[e._v(" 编辑 ")]),t("Button",{attrs:{type:"text",disabled:e.noManagePerm},on:{click:function(t){return e.handleDelete(a)}}},[e._v(" 删除 ")])],1)]}}])}),e.data.length>0?t("div",{staticClass:"footer-action"},[t("Checkbox",{attrs:{value:e.isSelectAll},on:{"on-change":e.handleCheckboxChange}}),t("Button",{attrs:{disabled:e.selectDisabled||e.noManagePerm},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[t("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.changePage}})],1)],1),e._t("default")],2)};t.render=a;var r=[];t.staticRenderFns=r},f267:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0");var a=function(){var e=this,t=e._self._c;return t("kdx-header-bar",{scopedSlots:e._u([{key:"header",fn:function(){return[t("Button",{attrs:{type:"primary",disabled:e.noManagePerm},on:{click:e.addTemp}},[e._v(" +添加模板 ")])]},proxy:!0}])},[t("Form",{ref:"form",attrs:{model:e.model,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"模板名称："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"模板名称"},on:{"on-enter":e.handleSearch},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)};t.render=a;var r=[];t.staticRenderFns=r},f4b2:function(e,t,n){"use strict";n.r(t);var a=n("ced7"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},f67d:function(e,t,n){"use strict";n("6947")},f6b6:function(e,t,n){"use strict";n.r(t);var a=n("528e"),r=n("de48");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("97b8");var o=n("2877"),s=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"1ce278de",null);t["default"]=s.exports},f7b6:function(e,t,n){"use strict";n("d25b")},f7cb:function(e,t,n){},f81a:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("kdx-header-bar",[t("Form",{ref:"form",attrs:{model:e.model,"label-width":130,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"订单编号："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入订单编号"},on:{"on-enter":e.handleSearch},model:{value:e.model.order_no,callback:function(t){e.$set(e.model,"order_no",t)},expression:"model.order_no"}})],1),t("FormItem",{attrs:{label:"下单时间："}},[t("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"请选择"},on:{"on-change":e.changeDate},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),t("FormItem",{attrs:{label:"商品名称："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入商品名称"},on:{"on-enter":e.handleSearch},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),t("FormItem",{attrs:{label:"收件人："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"收件人姓名/手机号 "},on:{"on-enter":e.handleSearch},model:{value:e.model.buyer_name,callback:function(t){e.$set(e.model,"buyer_name",t)},expression:"model.buyer_name"}})],1),t("FormItem",{attrs:{label:"电子面单打印状态："}},[t("Select",{staticClass:"width-160",model:{value:e.model.is_print,callback:function(t){e.$set(e.model,"is_print",t)},expression:"model.is_print"}},e._l(e.printStatusList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("FormItem",{attrs:{label:"发货单打印状态："}},[t("Select",{staticClass:"width-160",model:{value:e.model.is_bill_print,callback:function(t){e.$set(e.model,"is_bill_print",t)},expression:"model.is_bill_print"}},e._l(e.printStatusList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("FormItem",{attrs:{label:"订单类型："}},[t("Select",{staticClass:"width-160",model:{value:e.model.activity_type,callback:function(t){e.$set(e.model,"activity_type",t)},expression:"model.activity_type"}},[t("Option",{key:"all",attrs:{value:"all"}},[e._v("全部")]),e._l(e.orderTypes,(function(n){return t("Option",{key:n.key,attrs:{value:n.key}},[e._v(e._s(n.value))])}))],2)],1),t("FormItem",{attrs:{label:"订单状态："}},[t("Select",{staticClass:"width-160",model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},e._l(e.orderStatusList,(function(n){return t("Option",{key:n.value,attrs:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)};t.render=n;var a=[];t.staticRenderFns=a},f95b:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("c7eb")),i=a(n("1da1")),o=a(n("2909")),s=a(n("5530"));n("ac1f"),n("841c"),n("d3b7"),n("159b"),n("14d9"),n("3ca3"),n("ddb0"),n("caad"),n("5319"),n("d81d"),n("b0c0");var l=a(n("bb31")),c=a(n("25e3")),d=a(n("93c6")),u=n("232a"),f=n("b1be"),p={components:{SearchHeader:l.default,TableList:c.default,InvoiceModal:d.default},data:function(){return{loading:!1,page:{pageSize:20,pageNumber:1},search:{order_no:"",created_at:[],title:"",buyer_name:"",is_print:"",status:""},allSelectedFlag:!1,indeterminate:!1,disabled:!1,data:[],selectedData:[],postData:[],total:0,modalShowFlag:!1,model:{express_template_id:"",consigner_template_id:"",number:""},expressTemplateName:"",rules:{express_template_id:[{required:!0,message:"电子面单模板必选"}],consigner_template_id:[{required:!0,message:"发件人模板必选"}],number:[{required:!0,message:"票单数量必填"}]},eOrderTempList:[],senderTempList:[],modalLoading:!1,disabledCancel:!1,disabledOk:!1,closable:!1,LODOP:null,isEachPrint:!1,expressTemplate:{is_sub:0}}},computed:{noManagePerm:function(){return!this.$getPermMap("expressHelper.print.manage")}},created:function(){var e=this.$route.query.order_no;e&&(this.search.order_no=e),this.getOrderList()},methods:{getOrderList:function(){var e=this;this.loading=!0;var t=(0,s.default)((0,s.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});this.$api.eOrderApi.getOrderList(t).then((function(t){e.loading=!1,0===t.error&&(e.data=t.list,e.total=t.total,e.data.forEach((function(e){e.order_goods&&e.order_goods.length?e._disabled=!e.order_goods.some((function(e){return 0===parseInt(e.print_num)})):e._disabled=!0})),e.$nextTick((function(){e.allSelectedFlag=!1,e.indeterminate=!1,e.disabled=!e.data.some((function(e){return!1===e._disabled}))})))}))},handleSearch:function(e){this.search=(0,s.default)((0,s.default)({},this.search),e),this.refreshTable()},changePage:function(e){this.page=e,this.getOrderList()},refreshTable:function(){this.page={pageSize:20,pageNumber:1},this.$refs["page"].reset(this.page),this.getOrderList()},change:function(e){var t=this;if(console.log("选中的数据:   ",e),this.selectedData=(0,o.default)(e),0===this.selectedData.length)this.allSelectedFlag=!1,this.indeterminate=!1,this.disabled=!this.data.some((function(e){return!1===e._disabled}));else if(this.disabled=!1,this.selectedData.length!==this.data.length)this.allSelectedFlag=!1,this.indeterminate=!0;else{var n=this.selectedData.some((function(e,n){return e.order_goods_id.length!==t.data[n].order_goods.length}));this.allSelectedFlag=!n,this.indeterminate=n}},changeAllSelected:function(e){this.$refs["tableList"].changeAllSelected(e)},handleEachPrint:function(){this.isEachPrint=!0,this.handlePrint()},handlePrint:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.selectedData.length){t.next=3;break}return e.$Message.error("请选择要打印的订单"),t.abrupt("return");case 3:if(e.LODOP=(0,u.getLodop)(),!e.LODOP){t.next=18;break}if(0!==e.eOrderTempList.length){t.next=10;break}return t.next=8,e.getEOrderTempSimpleList();case 8:t.next=11;break;case 10:e.setEOrderTemplateDefault();case 11:if(0!==e.senderTempList.length){t.next=16;break}return t.next=14,e.getSenderTempSimpleList();case 14:t.next=17;break;case 16:e.setSenderTemplateDefault();case 17:e.modalShowFlag=!0;case 18:case"end":return t.stop()}}),t)})))()},handleCancel:function(){this.modalShowFlag=!1,this.isEachPrint&&this.handleInvoicePrint()},getExpressTemplateName:function(){var e=this;this.eOrderTempList.forEach((function(t){t.value===e.model.express_template_id&&(e.expressTemplateName=t.express_company)}))},handleOk:function(){var e=this;this.$refs["form"].validate().then(function(){var t=(0,i.default)((0,r.default)().mark((function t(n){var a;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=11;break}return t.next=3,e.validOrderPrint();case 3:e.getExpressTemplateName(),e.postData=[],e.modalLoading=!0,e.disabledCancel=!0,e.disabledOk=!0,a=[],e.selectedData.forEach((function(t){a.push(e.orderPrint(t))})),Promise.all(a).then((function(t){if(console.log("所有的html模板 --------",t),console.log("回调请求数据 --------",e.postData),t&&t.length){var n=[];t.forEach((function(t){t.forEach((function(t){["YTO"].includes(e.expressTemplateName)&&(t=t.replace(/<((html|body)).*?>/g,'<$1 style="height: 100%">')),n.push(t)}))})),(0,f.preview)(n,e.LODOP).then((function(t){t&&"cancle"===t?(e.modalLoading=!1,e.disabledCancel=!1,e.disabledOk=!1,e.modalShowFlag=!1,e.isEachPrint&&e.handleInvoicePrint()):(console.log("打印完成啦！"),e.modalLoading=!1,e.disabledCancel=!1,e.disabledOk=!1,e.modalShowFlag=!1,e.isEachPrint&&e.handleInvoicePrint(),e.printCallback())})).catch((function(){e.modalLoading=!1,e.disabledCancel=!1,e.disabledOk=!1,e.modalShowFlag=!1}))}}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},orderPrint:function(e){var t=this;return new Promise((function(n){var a=(0,s.default)((0,s.default)({},e),t.model);t.$api.eOrderApi.orderPrint(a).then((function(e){if(0==e.error){var a=[];e.print_data.forEach((function(e){var n;t.postData.push({express_company:e.express_company,logistic_code:e.logistic_code,order_id:e.shop_order_id,order_goods_id:e.shop_order_goods_id.map((function(e){return e.id}))}),a.push(e.PrintTemplate),(null===(n=e.SubPrintTemplates)||void 0===n?void 0:n.length)>0&&a.push.apply(a,(0,o.default)(e.SubPrintTemplates))})),n(a)}else t.modalLoading=!1,t.disabledCancel=!1,t.disabledOk=!1}))}))},printCallback:function(){var e=this;this.$api.eOrderApi.printCallback({data:this.postData,express_template_id:this.model.express_template_id}).then((function(t){0==t.error&&(console.log("printCallback 回调成功--------"),e.isEachPrint||(e.selectedData=[],e.postData=[],e.refreshTable()))}))},getEOrderTempSimpleList:function(){var e=this;return new Promise((function(t){e.$api.eOrderApi.getEOrderTempSimpleList().then((function(n){0==n.error&&(e.eOrderTempList=n.list.map((function(t){return"1"===t.is_default&&(e.model.express_template_id=t.id,e.changeExpressTemplate(t.id)),{value:t.id,label:t.name,express_company:t.express_company,is_sub:t.is_sub?+t.is_sub:0,is_default:t.is_default?+t.is_default:0}}))),t()}))}))},getSenderTempSimpleList:function(){var e=this;return new Promise((function(t){e.$api.eOrderApi.getSenderTempSimpleList().then((function(n){0==n.error&&(e.senderTempList=n.list.map((function(t){return"1"===t.is_default&&(e.model.consigner_template_id=t.id),{value:t.id,label:t.name}}))),t()}))}))},handleInvoicePrint:function(){0!==this.selectedData.length?(this.LODOP=(0,u.getLodop)(),this.LODOP&&this.$refs["invoice_modal"].setValue()):this.$Message.error("请选择要打印的订单")},handleInvoicePreview:function(){this.isEachPrint=!1,this.selectedData=[],this.postData=[],this.refreshTable()},validOrderPrint:function(){var e=this;return new Promise((function(t){var n=[],a=[];e.selectedData.forEach((function(e){n.push(e.order_id),a.push.apply(a,(0,o.default)(e.order_goods_id))}));var r={order_id:n,order_goods_id:a,express_template_id:e.model.express_template_id};e.$api.eOrderApi.validOrderPrint(r).then((function(n){0===n.error&&(n.data.status?t():e.$Modal.confirm({title:"提示",content:n.data.message,onOk:function(){}}))}))}))},changeExpressTemplate:function(e){var t=this;console.log("change-express-template",e),this.eOrderTempList.forEach((function(n){n.value===e&&(t.expressTemplate=(0,s.default)({is_sub:0},n))})),console.log("express-temp",this.expressTemplate)},isTemplateDisabled:function(e){var t;return(null===(t=this.selectedData)||void 0===t?void 0:t.length)>1&&1===+e.is_sub},setEOrderTemplateDefault:function(){var e=this;this.model.express_template_id="",this.model.number="",this.expressTemplate={is_sub:0},this.eOrderTempList.forEach((function(t){1===t.is_default&&1===e.selectedData.length&&(e.model.express_template_id=t.value,e.changeExpressTemplate(t.value))}))},setSenderTemplateDefault:function(){var e=this;this.model.consigner_template_id="",this.senderTempList.forEach((function(t){1===+t.is_default&&(e.model.consigner_template_id=t.value)}))}}};t.default=p},fa18:function(e,t,n){},fb16:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"invoice-add-box"},[t("div",{staticClass:"invoice-add"},[t("invoice-note",{attrs:{data:e.data,note:e.note,"checked-key":e.checkedKey},on:{"on-change-key":e.changeKey}}),t("form-info",{ref:"form",attrs:{model:e.data,expressList:e.expressList,list:e.checkedList,"checked-key":e.checkedKey},on:{"on-change":e.changeData,"on-change-type":e.changeType,"on-change-list":e.changeList,"on-change-key":e.changeKey}})],1),t("div",{staticClass:"invoice-add-btn"},[t("Button",{staticClass:"primary-long marginR-10",on:{click:e.handleSave}},[e._v("保存")]),t("Button",{staticClass:"default-long",attrs:{to:"/eOrder/templateManagement/invoice/index"}},[e._v("取消")])],1)])};t.render=n;var a=[];t.staticRenderFns=a},fbb2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("e762"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e,n){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),a(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(i.default);t.GenericBarcode=d},fd7c9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t){return a({},e,t)}},fe45:function(e,t,n){"use strict";var a=n("6fa1");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},ff84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("349c"),r=n("da3d"),i=n("241e"),o=n("9ffa"),s=n("8e513"),l=n("7cb9"),c=n("c17b"),d=n("fbb2");t.default={CODE39:a.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:i.EAN13,EAN8:i.EAN8,EAN5:i.EAN5,EAN2:i.EAN2,UPC:i.UPC,UPCE:i.UPCE,ITF14:o.ITF14,ITF:o.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:d.GenericBarcode}}}]);