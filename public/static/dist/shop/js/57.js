(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[57],{"0445":function(t,e,i){"use strict";var n=i("e109");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"045e":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{remark:"",is_refund_front:"1"}},computed:{isWaitGroups:function(){var t,e,i,n,a,r;return 10==this.list.status&&(0==(null===(t=this.list)||void 0===t||null===(e=t.groups_team_info)||void 0===e?void 0:e.success)||0==(null===(i=this.list)||void 0===i||null===(n=i.groups_rebate_team_info)||void 0===n?void 0:n.success)||0==(null===(a=this.list)||void 0===a||null===(r=a.groups_fission_team_info)||void 0===r?void 0:r.success))}},methods:{hasRefundSuc:function(t){return t.every((function(t){return 10==t.refund_status||11==t.refund_status}))},sendGoods:function(t){this.$emit("sendGoods",t)},editReceiveInfo:function(t){this.$emit("editReceiveInfo",t)},generalRefund:function(t){this.$emit("generalRefund",t)},cancelSendGoods:function(t){this.$emit("cancelSendGoods",t)},editExpress:function(t){this.$emit("editExpress",t)},confirmPayment:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认此单已付款吗？",okText:"确认付款",onOk:function(){var i={order_id:t.id};e.$api.orderApi.setPayment(i).then((function(t){0===t.error&&(e.$Message.success("确认付款操作成功"),e.$emit("handleRefresh"))}))},onCancel:function(){}})},changePrice:function(t){this.$emit("changePrice",t)},closeOrder:function(t){var e=this,i=this.$createElement;this.$Modal.confirm({title:"是否关闭订单",okText:"确认关闭",onOk:function(){var i={id:t.id,remark:e.remark};e.$api.orderApi.closeOrder(i).then((function(t){0===t.error&&(e.$Message.success("订单关闭成功"),e.$emit("handleRefresh"))}))},onCancel:function(){},render:function(){return i("div",[i("p",{style:"padding-bottom:15px"},["请填写关闭订单原因"]),i("Input",{attrs:{type:"textarea",autofocus:!0,maxlength:"40","show-word-limit":!0,placeholder:"请填写关闭订单原因"},model:{value:e.remark,callback:function(t){e.remark=t}}})])}})},confirmTakeGoods:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认此单已收到货了吗？",okText:"确认收货",onOk:function(){e.$api.orderApi.setFinishOrder({order_id:t.id}).then((function(t){0===t.error&&(e.$Message.success("订单确认收货成功"),e.$emit("handleRefresh"))}))},onCancel:function(){}})},packageExpress:function(t){this.$emit("packageExpress",t)}}};e.default=n},"04fd":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("td",{attrs:{rowspan:t.list.order_goods.length}},[t.hasRefundSuc(t.list.order_goods)?e("div",{staticClass:"shop-action action refund"},[t._v("整单维权完成")]):e("div",{staticClass:"shop-action action"},[e("div",{staticClass:"order-status"},[t.isWaitGroups?e("span",{staticClass:"wait-send-goods",class:{"wait-payment":4==t.list.activity_type}},[t._v("待成团")]):t._e(),"10"!=t.list.status||t.isWaitGroups?t._e():e("span",{staticClass:"wait-send-goods"},[t._v("待发货")]),"11"===t.list.status?e("span",{staticClass:"wait-send-goods"},[t._v("部分发货")]):"0"===t.list.status?e("span",{staticClass:"wait-payment"},[t._v("待付款")]):"20"===t.list.status?e("span",{staticClass:"wait-tack-goods"},[t._v("待收货")]):"30"===t.list.status?e("span",{staticClass:"order-archive"},[t._v("已完成")]):"-1"===t.list.status?e("span",{staticClass:"order-close"},[t._v("已关闭")]):t._e()]),e("div",{staticClass:"btn"},["10"!=t.list.status||t.isWaitGroups?"11"===t.list.status?[[e("Button",{attrs:{type:"text"},on:{click:function(e){return t.sendGoods(t.list)}}},[t._v("确认发货")]),e("Button",{attrs:{type:"text"},on:{click:function(e){return t.cancelSendGoods(t.list)}}},[t._v("取消发货 ")])],"3"!=t.list.pay_type&&"1"!=t.list.pay_type?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")]):t._e(),["30"!==t.list.dispatch_type?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.editExpress(t.list)}}},[t._v("修改物流 ")]):t._e()]]:"0"===t.list.status?["20"!=t.list.scene?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.confirmPayment(t.list)}}},[t._v("确认付款 ")]):t._e(),e("Button",{attrs:{type:"text"},on:{click:function(e){return t.changePrice(t.list)}}},[t._v("订单改价 ")]),e("Button",{attrs:{type:"text"},on:{click:function(e){return t.closeOrder(t.list)}}},[t._v("关闭订单")])]:"20"===t.list.status&&"20"!=t.list.dispatch_type?[[e("Button",{attrs:{type:"text"},on:{click:function(e){return t.confirmTakeGoods(t.list)}}},[t._v("确认收货 ")]),"0"===t.goods.type&&"30"!==t.list.dispatch_type?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.editExpress(t.list)}}},[t._v("修改物流 ")]):t._e(),"1"!==t.goods.type&&"3"!=t.list.pay_type||"1"==t.list.refund_type?t._e():e("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")])],"0"===t.goods.type&&"30"!==t.list.dispatch_type?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.packageExpress(t.list)}}},[t._v("物流信息 ")]):t._e()]:t._e():[[e("Button",{attrs:{type:"text"},on:{click:function(e){return t.sendGoods(t.list)}}},[t._v("确认发货")]),e("Button",{attrs:{type:"text"},on:{click:function(e){return t.editReceiveInfo(t.list)}}},[t._v("修改收货信息 ")])],"3"!=t.list.pay_type&&"1"!=t.list.pay_type?e("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")]):t._e()]],2)])])};e.render=i;var n=[];e.staticRenderFns=n},"2bcc":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("4de4"),i("d3b7"),i("b680");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}}},computed:{priceList:function(){var t,e,i,n,a,r,s,o,d,c,l,u,f=[{title:"商品小计：",price:this.calculatePrice,show:!0},{title:"运费：",price:"￥".concat(null===(t=this.list)||void 0===t?void 0:t.dispatch_price),show:"0"===this.goods.type},{title:"改价：",price:this.formatPrice(null===(e=this.list)||void 0===e?void 0:e.change_price),show:this.list.change_price&&"0"!=parseFloat(this.list.change_price)},{title:"会员折扣：",price:"-"+this.formatPrice(null===(i=this.list)||void 0===i||null===(n=i.extra_price_package)||void 0===n?void 0:n.member_price),show:this.list.extra_price_package&&this.list.extra_price_package.member_price},{title:"积分抵扣：",price:"-"+this.formatPrice(null===(a=this.list)||void 0===a||null===(r=a.extra_price_package)||void 0===r?void 0:r.credit),show:this.list.extra_price_package&&this.list.extra_price_package.credit},{title:"余额抵扣：",price:"-"+this.formatPrice(null===(s=this.list)||void 0===s||null===(o=s.extra_price_package)||void 0===o?void 0:o.balance),show:this.list.extra_price_package&&this.list.extra_price_package.balance},{title:"满额立减：",price:"-"+this.formatPrice(null===(d=this.list)||void 0===d||null===(c=d.extra_price_package)||void 0===c?void 0:c.full_deduct),show:this.list.extra_price_package&&this.list.extra_price_package.full_deduct},{title:"优惠券：",price:"-"+this.formatPrice(null===(l=this.list)||void 0===l||null===(u=l.extra_price_package)||void 0===u?void 0:u.coupon),show:this.list.extra_price_package&&this.list.extra_price_package.coupon}];return f=f.filter((function(t){return t.show})),f},calculatePrice:function(){return"￥".concat(this.list.goods_price)}},methods:{isInvoiceInfo:function(t){var e,i=null===t||void 0===t||null===(e=t.invoice_info)||void 0===e?void 0:e.is_company;return i&&("1"==i||"2"==i)},formatPrice:function(t){return parseFloat(t)>=0?"￥".concat(parseFloat(t).toFixed(2)):"-￥".concat(Math.abs(parseFloat(t)).toFixed(2))}}};e.default=n},"2f91":function(t,e,i){var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d3b7"),i("159b"),i("d81d"),i("e9c4");var a=n(i("1f14")),r=n(i("f0d4")),s=n(i("eb94")),o=n(i("c5e4")),d=n(i("91d9")),c=n(i("d63e")),l=n(i("a467")),u=n(i("b091")),f=n(i("b195")),p=n(i("985f")),_=n(i("d91d")),h=n(i("b0b4")),m=n(i("6835")),v=n(i("6788")),y={name:"OrderList",components:{SendGoods:a.default,CancelSendGoods:r.default,EditExpress:s.default,ChangePrice:o.default,CloseOrder:d.default,PackageExpress:c.default,EditReceivingGoods:l.default,RefundModal:u.default,OrderListItemHead:f.default,TableTd1:p.default,TableTd3:_.default,TableTd5:h.default,TableTd7:m.default,OrderComment:v.default},props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1},pageSize:{type:Number,default:10},current:{type:Number,default:1},status:{type:[Number,String]},checkWidth:{type:[Number,String]}},data:function(){return{columns:[{title:"商品",key:"shop",width:350},{title:"单价/数量",key:"price",width:100},{title:"维权状态",key:"status",width:100},{title:"买家",key:"buyer",width:100},{title:"实付款",key:"payment",width:100},{title:"支付/配送",key:"delivery",width:100},{title:"操作",key:"action",width:100}],cloneColumns:[],totalWidth:0,tableWidth:0,page:{total:10},modal:{cancelSendGoodsModal:0,editExpress:0,changePrice:0,closeOrder:0,packageExpress:0,title:"",id:"",packageId:"",dispatch_type:""},commisionInfo:{}}},methods:{handleResize:function(){var t,e=this;this.tableWidth=(null===(t=this.$refs["order_table"])||void 0===t?void 0:t.offsetWidth)-40-1;var i=this.columns.length,n=Math.floor((this.tableWidth-this.totalWidth)/i);this.columns.forEach((function(t,a){var r=(e.cloneColumns[a].width||0)+n;if(a===i-1){var s=e.getUpdateTotalWidth();r=e.tableWidth-s+100||0}e.$set(e.columns[a],"width",r)}))},getCloneColumns:function(){this.cloneColumns=this.columns.map((function(t){return JSON.parse(JSON.stringify(t))}))},getTotalWidth:function(){var t=this;this.totalWidth=0,this.cloneColumns.forEach((function(e){t.totalWidth+=e.width||0}))},getUpdateTotalWidth:function(){var t=0;return this.columns.forEach((function(e){t+=e.width||0})),t},handlePageChange:function(t){this.$emit("on-page-change",t)},sendGoods:function(t){var e=this;this.modal.id=t.id,this.modal.dispatch_type=t.dispatch_type,this.$nextTick((function(){var t;console.log('this.$refs["send_goods"]',e.$refs["send_goods"]),null===(t=e.$refs["send_goods"])||void 0===t||t.setValue()}))},cancelSendGoods:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["cancel_send_goods"].setValue()}))},editReceiveInfo:function(t){var e=this;this.modal.id=t.id,this.modal.dispatch_type=t.dispatch_type,this.$nextTick((function(){e.$refs["edit_receiving_goods"].setValue()}))},generalRefund:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["refund_modal"].setValue()}))},editExpress:function(t){var e=this;this.modal.id=t.id,"11"===this.data.status?this.modal.packageId=t.package_id:this.modal.packageId="",this.$nextTick((function(){e.$refs["edit_express"].setValue()}))},changePrice:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["change_price"].setValue()}))},packageExpress:function(t){var e=this;this.modal.id=t.id,this.modal.packageId=t.order_goods[0].package_id,this.$nextTick((function(){e.$refs["package_express"].setValue()}))},reset:function(t){var e;null===(e=this.$refs["page"])||void 0===e||e.reset(t)},handleRefresh:function(){this.$emit("on-refresh")},cellStatus:function(t,e){var i=t.is_refund,n=t.refund_type;return"0"===i||"1"===n?0===e:"2"===n||void 0},editCommision:function(t){var e=t.id,i=t.member_id,n=t.order_no;this.$emit("on-edit",{id:e,member_id:i,order_no:n})}},filters:{getRefundText:function(t){return"1"===t?"退款":"2"===t?"退货退款":"3"===t?"退货":"未维权"}},beforeDestroy:function(){window.onresize=null},mounted:function(){var t=this;this.getCloneColumns(),this.getTotalWidth(),setTimeout((function(){t.handleResize()}),500),window.addEventListener("resize",(function(){setTimeout((function(){t.handleResize()}),200)}))}};e.default=y},"323e":function(t,e,i){"use strict";i.r(e);var n=i("b4dc"),a=i("84ba");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("5ba6");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"6b54fd40",null);e["default"]=o.exports},"39e6":function(t,e,i){"use strict";i.r(e);var n=i("52f1"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"3b02":function(t,e,i){var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Export=void 0;var a=n(i("5530")),r=i("d8cc"),s=n(i("4328")),o=i("384d"),d=n(i("1cc8")),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log(t,"---------downloadPath"),t){var i="";if(-1===t.indexOf(r.config.base_url)){var n={baseURL:r.config.base_url,url:t};(0,d.default)(n),i=n.baseURL+n.url}else i=t;i=i.indexOf("?")>-1?i:i+"?",e=(0,a.default)((0,a.default)({},e),(0,o.getUserInfo)()),i+="&".concat(s.default.stringify(e)),window.open(i)}};e.Export=c},"3ca8":function(t,e,i){"use strict";i.r(e);var n=i("c057"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"3cb9":function(t,e,i){"use strict";i.r(e);var n=i("59fc"),a=i("39e6");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);e["default"]=o.exports},"3ea3":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{goods:{type:Object,default:function(){return{}}}},computed:{getType:function(){var t;switch(this.goods.type){case"0":t={goodsName:"real",goodsText:"实"};break;case"1":t={goodsName:"virtual",goodsText:"虚"};break;case"2":t={goodsName:"secret",goodsText:"密"};break;case"4":t={goodsName:"credit_shop_coupon",goodsText:"券"}}return t}}};e.default=i},"3f5f":function(t,e,i){"use strict";i("e45b")},"3fc4":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("td",[e("div",{staticClass:"shop"},[e("div",{staticClass:"shop-image"},[""===t.goods.thumb?e("div",["1"==t.goods.ext_field.coupon_sale_type?e("div",{staticClass:"shop-item"},[e("img",{attrs:{src:i("999e"),alt:""},on:{error:t.replaceImage}})]):"2"==t.goods.ext_field.coupon_sale_type?e("div",{staticClass:"shop-item"},[e("img",{attrs:{src:i("8ede"),alt:""},on:{error:t.replaceImage}})]):t._e()]):e("div",{staticClass:"shop-item"},[e("img",{attrs:{src:t.$media(t.goods.thumb),alt:""},on:{error:t.replaceImage}})])]),e("div",{staticClass:"shop-information"},[e("div",{staticClass:"title"},[e("span",{staticClass:"mark",class:t.getType.goodsName},[t._v(" "+t._s(t.getType.goodsText)+" ")]),t._v(" "+t._s(t.goods.title)+" ")]),e("div",{staticClass:"shop-label"},[t.goods.plugin_identification&&"1"==t.goods.plugin_identification.is_commission?e("kdx-tag-label",{attrs:{type:"warning",size:"small"}},[e("div",[e("span",{staticClass:"iconfont icon-fenxiao"}),e("span",[t._v(" 分销商品 ")])])]):t._e(),t.goods.option_title?e("kdx-tag-label",{attrs:{type:"info",size:"small"}},[t._v(" "+t._s(t.goods.option_title)+" ")]):t._e()],1)])])])};e.render=n;var a=[];e.staticRenderFns=a},"4c24":function(t,e,i){"use strict";i.r(e);var n=i("9943"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"52f1":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("a434"),i("14d9");var n={name:"SearchHeader",props:{status:String},data:function(){return{model:{keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",refund_status:"",dispatch_type:"all",type:"all"},optionData:{search_field:[{key:"order_no",name:"订单编号"},{key:"member_keywords",name:"会员信息"},{key:"member_id",name:"会员ID"},{key:"buyer_keywords",name:"收件人信息"},{key:"address_keywords",name:"地址信息"},{key:"goods_title",name:"商品名称"},{key:"goods_sku",name:"商品编号"}],pay_type:[{id:"all",name:"全部"},{id:"0",name:"未支付"},{id:"1",name:"后台支付"},{id:"2",name:"余额支付"},{id:"3",name:"货到付款"},{id:"20",name:"微信支付"},{id:"30",name:"支付宝支付"},{id:"40",name:"字节跳动支付"}],create_from:[{id:"all",name:"全部"},{id:"20",name:"微信公众号"},{id:"21",name:"微信小程序"},{id:"10",name:"H5"},{id:"31",name:"抖音小程序"},{id:"30",name:"头条小程序"},{id:"32",name:"头条极速版小程序"}],refund_type:[{id:"0",name:"全部"},{id:"1",name:"仅退款"},{id:"2",name:"退货退款"},{id:"3",name:"换货"},{id:"4",name:"退款（含退款退货）"}],refund_status:[{id:"all",name:"全部"},{id:"0",name:"未维权"},{id:"1",name:"维权中"},{id:"2",name:"维权完成"}],dispatchTypeList:[{id:"all",name:"全部"},{id:"10",name:"普通快递"}],order_status:[{id:"all",name:"全部"},{id:"wait_send",name:"待发货"},{id:"wait_pay",name:"待付款"},{id:"wait_pick",name:"待收货"},{id:"success",name:"已完成"},{id:"close",name:"已关闭"}],activity_type:[],goodsType:[]}}},computed:{managePerm:function(){return this.$getPermMap("order.refund.manage")},deliveryList:function(){return this.optionData.dispatchTypeList}},methods:{changeType:function(t){void 0!==t&&(this.model.activity_type=t)},handleSearch:function(){var t=Object.assign({},this.model);t.refund_status="all"===t.refund_status?"":t.refund_status,t.activity_type="all"===t.activity_type?"":t.activity_type,t.status="all"===t.status?"":t.status,t.pay_type="all"===t.pay_type?"":t.pay_type,t.create_from="all"===t.create_from?"":t.create_from,t.dispatch_type="all"===t.dispatch_type?"":t.dispatch_type,"refund"!==this.status&&delete t.refund_type,this.$emit("on-search",t)},handleReset:function(){this.$emit("on-search",{}),this.reset()},handleExport:function(){this.$emit("on-export")},changeDate:function(t){this.model.time=t,t[0]||(this.model.time="")},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",activity_type:"all",status:"all",refund_status:"all",dispatch_type:"all",type:"all"};this.model=Object.assign(e,t)},getOrderType:function(){var t=this;this.$api.orderApi.getOrderType({}).then((function(e){0===e.error&&(t.optionData.activity_type=e.activity_type)}))},getVerylify:function(){var t=this;this.$api.orderApi.getDeliveryList().then((function(e){0===e.error&&(t.optionData.dispatchTypeList=[{id:"all",name:"全部"}].concat(e.dispatch_type))}))},getGoodsType:function(){var t=this;this.$api.orderApi.getGoodsType().then((function(e){0===e.error&&(t.optionData.goodsType=[{key:"all",value:"全部"}].concat(e.goods_type))}))}},watch:{status:{handler:function(t){"send"!==t&&"payment"!==t?(this.optionData.search_field.splice(7,1),this.optionData.search_field.push({key:"express_sn",name:"快递单号"})):this.optionData.search_field.splice(7,1),"refund"===t&&4==this.optionData.refund_status.length&&this.optionData.refund_status.splice(1,1)},immediate:!0}},mounted:function(){this.getOrderType(),this.getGoodsType(),this.reset(),this.getVerylify()}};e.default=n},"59fc":function(t,e,i){"use strict";var n=i("8eca");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"5b3e1":function(t,e,i){},"5ba6":function(t,e,i){"use strict";i("8972")},6316:function(t,e,i){"use strict";var n=i("fc05");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"65af":function(t,e,i){"use strict";i.r(e);var n=i("6c18"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},6788:function(t,e,i){"use strict";i.r(e);var n=i("87a1"),a=i("85ee");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"b3dacf5c",null);e["default"]=o.exports},6835:function(t,e,i){"use strict";i.r(e);var n=i("f914"),a=i("9e37");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("f0a8");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"6bb74591",null);e["default"]=o.exports},"6af2":function(t,e,i){"use strict";i.r(e);var n=i("e007"),a=i("3ca8");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("db3f");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"ddeb8ce0",null);e["default"]=o.exports},"6c18":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("14d9");var n={props:{item:{type:Object,default:function(){return{}}},countTime:{type:String,default:""}},data:function(){return{printerList:[],templateList:[],printerModal:!1,printerModelData:{printer_id:"",template_id:"",order_id:""},rules:{printer_id:[{required:!0,message:"请输入打印机名称"}],template_id:[{required:!0,message:"请选择打印模板"}]},remarkText:"",remarkModal:!1}},methods:{jumpEOrder:function(t){var e="/eOrder/orderPrint/index?order_no=".concat(t);this.$utils.openNewWindowPage(e)},checkDetail:function(t,e){var i="";"10"==e||"11"==e?i="/order/detail/send":"0"==e?i="/order/detail/payment":"20"==e?i="/order/detail/receive":"30"==e?i="/order/detail/achieve":"-1"==e&&(i="/order/detail/close"),this.$router.push({path:i,query:{id:t}})},handlePrinter:function(t){var e=this;this.$api.printerApi.printerList({only_list:1,status:1}).then((function(i){0==i.error&&(i.data.length<=0?e.toPrinterList():(e.printerList=i.data,e.checkPrinter(t)))}))},toPrinterList:function(){var t=this;this.$Modal.confirm({title:"提示",content:"您当前还未配置打印机，立即前往进行配置。",okText:"立即配置",cancelText:"暂不配置",onOk:function(){t.$utils.openNewWindowPage("/printer/manage/list")},onCancel:function(){}})},getPrinterTemList:function(){var t=this;this.$api.printerApi.getPrinterTemList({only_list:1}).then((function(e){0==e.error&&(t.templateList=e.data,t.printerModal=!0)}))},checkPrinter:function(t){var e=this;this.$api.printerApi.executePrinter({order_id:t,is_check:1}).then((function(i){0==i.error&&(e.printerModelData.order_id=t,(null===i||void 0===i?void 0:i.message)>0?e.checkPrinterNum(i.message):e.getPrinterTemList())}))},checkPrinterNum:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"您已经打印".concat(t,"次，是否继续打印"),okText:"立即打印",cancelText:"暂不打印",onOk:function(){e.getPrinterTemList()},onCancel:function(){}})},printerCancel:function(){this.printerModal=!1},printerOk:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$api.printerApi.executePrinter(t.printerModelData).then((function(e){0==e.error&&t.$Message.success("打印成功"),t.printerModal=!1}))}))},handlerRemark:function(){this.remarkModal=!0,this.remarkText=this.item.seller_remark},remarkModalClose:function(){this.remarkModal=!1},remarkModalOk:function(){var t=this;this.$api.orderApi.setOrderRemark({order_id:this.item.id,seller_remark:this.remarkText}).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.remarkModal=!1,t.$emit("on-refresh"))}))},hasOrderSheet:function(t){var e;return 1===(null===(e=t.icon)||void 0===e?void 0:e.electronic_sheet)},virtualGood:function(t){var e;return!(1==(null===(e=t.order_goods[0])||void 0===e?void 0:e.type))}}};e.default=n},"78ac":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,i("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-content-time"},[e("div",{staticClass:"left"},[e("Tooltip",{attrs:{content:"公众号",placement:"top"}},["20"==t.item.create_from?e("span",{staticClass:"iconfont icon-weixin icon"}):t._e()]),e("Tooltip",{attrs:{content:"微信小程序",placement:"top"}},["21"==t.item.create_from?e("span",{staticClass:"iconfont icon-weixinxiaochengxu icon"}):t._e()]),e("Tooltip",{attrs:{content:"头条小程序",placement:"top"}},["30"==t.item.create_from?e("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiao2"}}):t._e(),"32"==t.item.create_from?e("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiaojisuban"}}):t._e()],1),e("Tooltip",{attrs:{content:"抖音小程序",placement:"top"}},["31"==t.item.create_from?e("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-douyin"}}):t._e()],1),e("Tooltip",{attrs:{content:"手机浏览器H5",placement:"top"}},["10"==t.item.create_from?e("span",{staticClass:"iconfont icon-H icon"}):t._e()]),e("Tooltip",{attrs:{content:"PC",placement:"top"}},["70"==t.item.create_from?e("span",{staticClass:"iconfont icon-PCduan"}):t._e()]),2==t.item.activity_type?e("div",{staticClass:"activity-icon"},[e("Tooltip",{attrs:{content:"秒杀订单",placement:"top"}},[e("span",{staticClass:"iconfont icon-dingdanliebiao-miaosha seckill"})])],1):t._e(),3==t.item.activity_type?e("div",{staticClass:"activity-icon"},[e("Tooltip",{attrs:{content:"拼团订单",placement:"top"}},[e("span",{staticClass:"iconfont icon-yingyong-pintuan groups"})])],1):t._e(),e("span",{staticClass:"text"},[t._v("下单时间："+t._s(t.item.created_at))]),e("span",{staticClass:"text1"},[t._v("订单编号："+t._s(t.item.order_no))]),e("kdx-copy-text",{attrs:{text:t.item.order_no}},[e("Button",{attrs:{type:"text",size:"small"}},[t._v("复制")])],1)],1),e("div",{staticClass:"right"},[t.hasOrderSheet(t.item)&&!t.item.not_show_express?e("span",{on:{click:function(e){return t.jumpEOrder(t.item.order_no)}}},[t._v("发货单")]):t._e(),t.hasOrderSheet(t.item)&&!t.item.not_show_express&&t.virtualGood(t.item)?e("span",{on:{click:function(e){return t.jumpEOrder(t.item.order_no)}}},[t._v("电子面单")]):t._e(),e("span",{attrs:{type:"text"},on:{click:function(e){return t.handlePrinter(t.item.id)}}},[t._v("打印小票")]),"0"===t.item.status&&1e3*t.item.auto_close_time-Date.now()>0&&t.countTime?e("span",{staticClass:"remaining-time"},[t._v(" "+t._s(t.countTime)+" ")]):t._e(),e("span",{on:{click:function(e){return t.checkDetail(t.item.id,t.item.status)}}},[t._v("订单详情")]),e("Button",{class:{"remark-on":t.item.seller_remark},attrs:{type:"text"},on:{click:t.handlerRemark}},[t._v("备注 ")])],1),e("kdx-modal-frame",{attrs:{title:"请选择相关信息",width:610},on:{"on-cancel":t.printerCancel,"on-ok":t.printerOk},model:{value:t.printerModal,callback:function(e){t.printerModal=e},expression:"printerModal"}},[e("div",{staticClass:"printer-modal"},[e("Form",{ref:"form",attrs:{"label-width":120,model:t.printerModelData,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"打印机：",prop:"printer_id"}},[e("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印机"},model:{value:t.printerModelData.printer_id,callback:function(e){t.$set(t.printerModelData,"printer_id",e)},expression:"printerModelData.printer_id"}},t._l(t.printerList,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(t._s(i.name)+" ")])})),1)],1),e("FormItem",{attrs:{label:"打印模板：",prop:"template_id"}},[e("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印模板"},model:{value:t.printerModelData.template_id,callback:function(e){t.$set(t.printerModelData,"template_id",e)},expression:"printerModelData.template_id"}},t._l(t.templateList,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(t._s(i.name)+" ")])})),1)],1)],1)],1)]),e("kdx-modal-frame",{attrs:{title:"商家备注",width:520},on:{"on-cancel":t.remarkModalClose,"on-ok":t.remarkModalOk},model:{value:t.remarkModal,callback:function(e){t.remarkModal=e},expression:"remarkModal"}},[e("div",{staticClass:"remark-modal"},[e("Form",[e("FormItem",[e("Input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"200",autosize:{minRows:4},"show-word-limit":""},model:{value:t.remarkText,callback:function(e){t.remarkText=e},expression:"remarkText"}})],1)],1)],1)])],1)])};e.render=n;var a=[];e.staticRenderFns=a},"84ba":function(t,e,i){"use strict";i.r(e);var n=i("2f91"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"850e":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("div",{ref:"content",staticClass:"order-list"},[e("search-header",{ref:"search",attrs:{status:t.status},on:{"on-search":t.handleSearch,"on-export":t.handleExport}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.tableShow,expression:"!tableShow"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tableShow,expression:"tableShow"}],staticClass:"content"},[e("order-list",{ref:"table",attrs:{checkWidth:t.checkWidth,current:t.page.pageNumber,pageSize:t.page.pageSize,data:t.table.data,total:t.table.total,loading:t.table.loading,status:t.status},on:{"on-page-change":t.changePage,"on-refresh":t.getList,"on-edit":t.editCommision}})],1)]),e("commission-edit",{attrs:{orderId:t.id,orderNo:t.orderNo,memberId:t.member_id,visible:t.visible},on:{"update:visible":function(e){t.visible=e},"on-success":t.getList}}),t._t("default")],2)};e.render=i;var n=[];e.staticRenderFns=n},"85ee":function(t,e,i){"use strict";i.r(e);var n=i("e377"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"87a1":function(t,e,i){"use strict";var n=i("bde0");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},8972:function(t,e,i){},"89f0":function(t,e,i){"use strict";i("f57c")},"8eca":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0,i("b0c0");var n=function(){var t=this,e=t._self._c;return e("kdx-header-bar",[e("Form",{attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"关键词："}},[e("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"关键词"},on:{"on-enter":t.handleSearch},model:{value:t.model.keywords,callback:function(e){t.$set(t.model,"keywords",e)},expression:"model.keywords"}},[e("Select",{staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.model.search_field,callback:function(e){t.$set(t.model,"search_field",e)},expression:"model.search_field"}},t._l(t.optionData.search_field,(function(i,n){return e("Option",{key:n,attrs:{value:i.key}},[t._v(" "+t._s(i.name)+" ")])})),1)],1)],1),e("FormItem",{attrs:{label:"支付方式："}},[e("Select",{staticClass:"width-160",model:{value:t.model.pay_type,callback:function(e){t.$set(t.model,"pay_type",e)},expression:"model.pay_type"}},t._l(t.optionData.pay_type,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(" "+t._s(i.name)+" ")])})),1)],1),e("FormItem",{attrs:{label:"下单时间："}},[e("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"下单时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.changeDate},model:{value:t.model.time,callback:function(e){t.$set(t.model,"time",e)},expression:"model.time"}})],1),e("FormItem",{attrs:{label:"订单来源："}},[e("Select",{staticClass:"width-160",model:{value:t.model.create_from,callback:function(e){t.$set(t.model,"create_from",e)},expression:"model.create_from"}},t._l(t.optionData.create_from,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(" "+t._s(i.name)+" ")])})),1)],1),e("FormItem",{attrs:{label:"活动订单："}},[e("Select",{staticClass:"width-160",attrs:{value:t.model.activity_type},on:{"on-change":t.changeType}},[e("Option",{key:"all",attrs:{value:"all"}},[t._v("全部")]),t._l(t.optionData.activity_type,(function(i){return e("Option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.value)+" ")])}))],2)],1),"all"==t.status?e("FormItem",{attrs:{label:"订单状态："}},[e("Select",{staticClass:"width-160",model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},t._l(t.optionData.order_status,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(t._s(i.name)+" ")])})),1)],1):t._e(),t.managePerm&&"refund"===t.status?e("FormItem",{attrs:{label:"维权类型："}},[e("Select",{staticClass:"width-160",model:{value:t.model.refund_type,callback:function(e){t.$set(t.model,"refund_type",e)},expression:"model.refund_type"}},t._l(t.optionData.refund_type,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(" "+t._s(i.name)+" ")])})),1)],1):t._e(),t.managePerm?e("FormItem",{attrs:{label:"维权状态："}},[e("Select",{staticClass:"width-160",model:{value:t.model.refund_status,callback:function(e){t.$set(t.model,"refund_status",e)},expression:"model.refund_status"}},t._l(t.optionData.refund_status,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(" "+t._s(i.name)+" ")])})),1)],1):t._e(),t.managePerm?e("FormItem",{attrs:{label:"配送方式："}},[e("Select",{staticClass:"width-160",model:{value:t.model.dispatch_type,callback:function(e){t.$set(t.model,"dispatch_type",e)},expression:"model.dispatch_type"}},t._l(t.deliveryList,(function(i){return e("Option",{key:i.id,attrs:{value:i.id}},[t._v(" "+t._s(i.name)+" ")])})),1)],1):t._e(),e("FormItem",{attrs:{label:"商品类型："}},[e("Select",{staticClass:"width-160",model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}},t._l(t.optionData.goodsType,(function(i){return e("Option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.value)+" ")])})),1)],1),e("div",{staticClass:"ivu-form-item-btn"},[e("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),e("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),e("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)};e.render=n;var a=[];e.staticRenderFns=a},9809:function(t,e,i){},"985f":function(t,e,i){"use strict";i.r(e);var n=i("d0a9"),a=i("bcbd");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("89f0");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"2ec0e661",null);e["default"]=o.exports},9943:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},filters:{getRowNum:function(t,e){return"2"===t?1:e}},methods:{hasRefund:function(t,e){return"0"==t.is_refund||"1"===t.is_refund&&"2"===t.refund_type&&"0"===e.is_single_refund},getPath:function(t,e){var i=t.refund_type,n=t.id,a=t.is_refund,r="/order/";if("1"===e.refund_type)r+="refund-detail";else if("2"===e.refund_type)r+="returns-refunds-detail";else{if("3"!==e.refund_type)return"";r+="exchange-goods-detail"}return r+="?id=".concat(n,"&is_refund=").concat(a),"2"===i&&(r+="&ids=".concat(e.id)),r}}};e.default=n},"9ace":function(t,e,i){},"9e37":function(t,e,i){"use strict";i.r(e);var n=i("045e"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},a00b:function(t,e,i){"use strict";i.r(e);var n=i("2bcc"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},aebff:function(t,e,i){"use strict";var n=i("78ac");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},b0b4:function(t,e,i){"use strict";i.r(e);var n=i("0445"),a=i("a00b");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"0aab51d8",null);e["default"]=o.exports},b195:function(t,e,i){"use strict";i.r(e);var n=i("aebff"),a=i("65af");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("3f5f");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"c78ba732",null);e["default"]=o.exports},b4dc:function(t,e,i){"use strict";var n=i("cabe");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},bcbd:function(t,e,i){"use strict";i.r(e);var n=i("3ea3"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},bde0:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return t.list.buyer_remark||t.list.commission_info?e("div",{staticClass:"table-remark"},[t.list.buyer_remark?e("div",{staticClass:"left"},[t.list.buyer_remark?e("span",{staticClass:"remark"},[t._v(" 买家备注："+t._s(t.list.buyer_remark)+" ")]):t._e()]):t._e(),t.list.commission_info?e("div",{staticClass:"right"},[t._l(t.list.commission_info,(function(i,n){return e("span",{key:n,staticClass:"text"},[t._v(" "+t._s(t._f("getLevel")(n))+" "),e("span",{staticClass:"price"},[t._v(" "+t._s(i.commission)+"元 ")]),i.ladder_commission>0?e("span",{staticStyle:{color:"#939799"}},[t._v("(含阶梯佣金"+t._s(i.ladder_commission)+")")]):t._e()])})),e("Button",{attrs:{type:"text"},on:{click:t.editCommision}},[t._v(" 修改佣金 ")])],2):t._e()]):t._e()};e.render=i;var n=[];e.staticRenderFns=n},c057:function(t,e,i){var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530"));i("ac1f"),i("841c"),i("d81d"),i("99af");var r=n(i("3cb9")),s=n(i("323e")),o=n(i("1c03")),d=i("f8b7"),c=i("3b02"),l=i("d1be"),u={name:"index",data:function(){return{tableShow:!1,checkWidth:0,table:{data:[],loading:!1,total:0},page:{pageSize:10,pageNumber:1},search:{},isExport:"0",status:"",timeInterval:"",id:"",member_id:"",visible:!1,orderNo:""}},inject:["returnToTop"],components:{SearchHeader:r.default,OrderList:s.default,CommissionEdit:o.default},watch:{"$route.path":{handler:function(){var t=this;if(0==this.$route.path.indexOf("/order/list/")){this.status=this.$route.params.id;var e=this.$route.query||{};this.$history.setRoute(this.$route).getData((function(i){t.page=t.$utils.deepCopy(i.page)||{pageSize:10,pageNumber:1},t.search=t.$utils.deepCopy(i.search)||{};var n=t.$utils.deepCopy(t.search);for(var r in n)n[r]||delete n[r];setTimeout((function(){t.$nextTick((function(){t.resetSearch((0,a.default)((0,a.default)({},n),e)),t.refreshTable(i.page)}))}))}))}},immediate:!0}},methods:{handleSearch:function(t){this.search=t,this.refreshTable()},resetSearch:function(t){var e=this;this.search=Object.assign({},t),this.$nextTick((function(){e.$refs["search"].reset(t)}))},changePage:function(t){this.page=t,this.getList()},refreshTable:function(t){var e=this;this.page=(0,a.default)({pageSize:10,pageNumber:1},t),this.getList(),this.$nextTick((function(){e.$refs["table"].reset(t)}))},getListName:function(){var t;switch(this.$route.path){case"/order/list/all":t="getAllList";break;case"/order/list/send":t="getSendList";break;case"/order/list/payment":t="getPaymentList";break;case"/order/list/receive":t="getReceiveList";break;case"/order/list/achieve":t="getAchieveList";break;case"/order/list/close":t="getCloseList";break;case"/order/list/refund":t="getRefundList";break}return t},getList:function(){var t,e,i,n=this;this.returnToTop(),this.table.loading=!0;var a=0;if(a=(null===(t=this.$refs["content"])||void 0===t?void 0:t.offsetWidth)-40-1,a){this.checkWidth=a,null!==(e=this.search)&&void 0!==e&&null!==(i=e.time)&&void 0!==i&&i.length&&(this.search.time=this.search.time.map((function(t){return"string"==typeof t?t:(0,l.formatDate)(t,"yyyy-MM-dd hh:mm:ss")}))),this.$history.setData({search:this.$utils.deepCopy(this.search),page:this.page});var r=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search),s=this.getListName();this.$api.orderApi[s](r).then((function(t){0===t.error&&(n.table.data=t.list||[],n.table.total=t.total,"getPaymentList"!==s&&"getAllList"!==s||n.countDownPayment(),n.table.loading=!1,n.tableShow=!0)}))}else setTimeout((function(){n.getList()}),30)},handleExport:function(){var t=(0,a.default)({export:"1"},this.search),e=this.getListName();(0,c.Export)(d.orderApi[e].api,t)},countDownPayment:function(){var t=this;"payment"!==this.status&&"all"!==this.status||(this.timeInterval=setInterval((function(){var e;null!==(e=t.table.data)&&void 0!==e&&e.length&&(t.table.data=t.table.data.map((function(t){return t.count_down_time="剩余支付"+f(t.auto_close_time),t})))}),1e3))},editCommision:function(t){var e=t.id,i=t.member_id,n=t.order_no;this.orderNo=n,this.id=e,this.member_id=i,this.visible=!0}},beforeDestroy:function(){clearInterval(this.timeInterval)},mounted:function(){}};function f(t){if(t=1e3*t-(new Date).getTime(),t<=0&&t>=-10)return clearInterval(this.timeInterval),void this.refreshTable();var e=parseInt(t/864e5)||"00",i=parseInt(t/36e5%24)||"00",n=parseInt(t/6e4%60)||"00",a=parseInt(t/1e3%60)||"00",r="".concat(e,"天").concat(i,"小时").concat(n,"分钟").concat(a,"秒");return r}e.default=u},cabe:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"order-table-list"},[e("div",{ref:"order_table",staticClass:"order-table-list-box"},[e("div",{staticClass:"table-header"},[e("table",{staticStyle:{"border-collapse":"collapse"},style:{width:"".concat(t.tableWidth||t.checkWidth,"px")}},[e("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,i){return e("col",{key:i+"_"+t.width,attrs:{width:t.width}})})),0),e("tr",t._l(t.columns,(function(i,n){return e("th",{key:n},[e("div",{staticClass:"table-cell"},[t._v(t._s(i.title))])])})),0)])]),t.data.length>0?t._l(t.data,(function(i){return e("div",{key:i.id,staticClass:"table-content"},[e("OrderListItemHead",{attrs:{item:i,"count-time":i.count_down_time},on:{"on-refresh":t.handleRefresh}}),i.order_goods&&i.order_goods.length>0?e("div",{staticClass:"table-order"},[e("table",{staticStyle:{"border-collapse":"collapse"},style:{width:"".concat(t.tableWidth||t.checkWidth,"px")}},[e("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,i){return e("col",{key:i+"_"+t.width,attrs:{width:t.width}})})),0),i.order_goods.length>0?t._l(i.order_goods,(function(n,a){return e("tr",{key:n.id+"_"+a},[e("TableTd1",{attrs:{goods:n}}),e("td",[e("div",{staticClass:"shop-price-number price"},["5"===i.activity_type?e("p",[""==n.price_unit?e("span",[t._v(t._s(n.credit_unit)+" 积分")]):e("span",[t._v(t._s(n.credit_unit)+" 积分 + ￥"+t._s(n.price_unit))])]):e("p",[t._v("￥"+t._s(n.price_unit))]),e("p",[t._v("X "+t._s(n.total))])])]),t.cellStatus(i,a)?[e("TableTd3",{attrs:{list:i,goods:n,status:t.status}})]:t._e(),0===a?[e("td",{attrs:{rowspan:i.order_goods.length}},[i.buyer_name||i.buyer_mobile?e("div",{staticClass:"shop-buyer buyer"},[e("p",[t._v(t._s(i.buyer_name))]),e("p",[t._v(t._s(i.buyer_mobile))])]):[t._v("-")]],2),e("TableTd5",{attrs:{list:i,goods:n}}),e("td",{attrs:{rowspan:i.order_goods.length}},[e("div",{staticClass:"shop-payment delivery"},[e("p",[t._v(t._s(i.pay_type_text))]),"0"==n.type||"1"==n.type||"3"==n.type?e("p",[t._v(t._s(i.dispatch_type_text))]):t._e()])]),e("TableTd7",{attrs:{list:i,goods:n,status:t.status},on:{sendGoods:t.sendGoods,editReceiveInfo:t.editReceiveInfo,generalRefund:t.generalRefund,cancelSendGoods:t.cancelSendGoods,editExpress:t.editExpress,handleRefresh:t.handleRefresh,changePrice:t.changePrice,packageExpress:t.packageExpress}})]:t._e()],2)})):t._e()],2)]):t._e(),e("OrderComment",{attrs:{list:i},on:{click:function(e){return t.editCommision(i)}}})],1)})):e("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[t._v("暂无数据")])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>=10,expression:"total >= 10"}],staticClass:"table-footer"},[e("kdx-page-component",{ref:"page",attrs:{current:t.current,pageSize:t.pageSize,total:t.total},on:{"on-change":t.handlePageChange}})],1),e("send-goods",{ref:"send_goods",attrs:{id:t.modal.id,dispatch_type:t.modal.dispatch_type},on:{"on-refresh":t.handleRefresh}}),e("cancel-send-goods",{ref:"cancel_send_goods",attrs:{id:t.modal.id},on:{"on-refresh":t.handleRefresh}}),e("edit-express",{ref:"edit_express",attrs:{id:t.modal.id,"package-id":t.modal.packageId},on:{"on-refresh":t.handleRefresh}}),e("change-price",{ref:"change_price",attrs:{id:t.modal.id},on:{"on-refresh":t.handleRefresh}}),e("close-order",{ref:"close_order",attrs:{visible:t.modal.closeOrder,id:t.modal.id,title:t.modal.title},on:{"on-refresh":t.handleRefresh}}),e("package-express",{ref:"package_express",attrs:{id:t.modal.id,"package-id":t.modal.packageId}}),e("edit-receiving-goods",{ref:"edit_receiving_goods",attrs:{id:t.modal.id,dispatch_type:t.modal.dispatch_type},on:{"on-refresh":t.handleRefresh}}),e("refund-modal",{ref:"refund_modal",attrs:{id:t.modal.id,pay_type:t.modal.pay_type,good_type:t.modal.good_type},on:{"on-refresh":t.handleRefresh}})],1)};e.render=i;var n=[];e.staticRenderFns=n},d0a9:function(t,e,i){"use strict";var n=i("3fc4");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},d91d:function(t,e,i){"use strict";i.r(e);var n=i("6316"),a=i("4c24");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("e922");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"2a998c90",null);e["default"]=o.exports},db3f:function(t,e,i){"use strict";i("9ace")},e007:function(t,e,i){"use strict";var n=i("850e");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},e109:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("td",{attrs:{rowspan:t.list.order_goods.length}},[e("kdx-hint-tooltip",{attrs:{"max-width":310,type:"form"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"shop-payment payment"},["5"===t.list.activity_type?e("div",{staticClass:"credit-shop-price"},[e("div",{staticClass:"line"}),e("div",{staticClass:"goods-item"},[t.list.pay_price?e("span",{staticClass:"price bold"},[t._v(t._s(t.list.pay_credit)+" 积分 + ￥"+t._s(t.list.pay_price))]):e("span",{staticClass:"price bold"},[t._v(t._s(t.list.pay_credit)+" 积分")])]),t.list.dispatch_price?e("p",{staticClass:"bold"},[t._v(" (含运费：￥"+t._s(t.list.dispatch_price)+") ")]):t._e()]):e("div",{staticClass:"shop-payment-price"},[e("span",[t._v(" ￥"+t._s(t.list.pay_price)+" ")]),t.isInvoiceInfo(t.list)?e("span",{staticClass:"label"},[t._v(" 票 ")]):t._e(),"0"===t.goods.type?e("p",[t._v(" (含运费：￥"+t._s(t.list.dispatch_price)+") ")]):t._e()])])]},proxy:!0}])},[e("Form",{attrs:{"label-width":72}},[t._l(t.priceList,(function(i,n){return e("FormItem",{key:n,attrs:{label:i.title}},[e("span",[t._v(t._s(i.price))])])})),e("FormItem",{attrs:{label:"实付款："}},[e("span",{staticClass:"danger-color"},[t._v("￥"+t._s(t.list.pay_price))])])],2)],1)],1)};e.render=i;var n=[];e.staticRenderFns=n},e377:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{list:{type:Object,default:function(){return{}}}},methods:{editCommision:function(){this.$emit("click")}},filters:{getLevel:function(t){var e={1:"一级预计佣金：",2:"二级预计佣金："};return e[t]}}};e.default=i},e45b:function(t,e,i){},e922:function(t,e,i){"use strict";i("5b3e1")},f0a8:function(t,e,i){"use strict";i("9809")},f57c:function(t,e,i){},f914:function(t,e,i){"use strict";var n=i("04fd");i.o(n,"render")&&i.d(e,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]}))},fc05:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var i=function(){var t=this,e=t._self._c;return e("td",{attrs:{rowspan:t._f("getRowNum")(t.list.refund_type,t.list.order_goods.length)}},[e("div",{staticClass:"shop-status refund-status"},[t.hasRefund(t.list,t.goods)?[t._v("-")]:[e("kdx-status-text",{staticStyle:{display:"block"},attrs:{type:t.goods.refund_status>=0&&t.goods.refund_status<10?"danger":"success"}},[t._v(" "+t._s(t.goods.refund_status_text)+" ")]),"refund"===t.status?e("div",{staticClass:"refund-status-box"},[t.goods.refund_type_text?e("span",{staticClass:"refund-status-text"},[t._v(t._s(t.goods.refund_type_text))]):t._e()]):t._e(),"1"==t.list.is_refund?[e("Button",{attrs:{type:"text",to:t.getPath(t.list,t.goods)}},[t._v(" 维权详情 ")])]:t._e()]],2)])};e.render=i;var n=[];e.staticRenderFns=n}}]);