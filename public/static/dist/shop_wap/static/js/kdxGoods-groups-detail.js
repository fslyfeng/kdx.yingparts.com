(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[71],{"00ec":function(t,e,i){"use strict";var n=i("e4c3"),o=i.n(n);o.a},"0316":function(t,e,i){"use strict";var n=i("51e9"),o=i.n(n);o.a},"03c7":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("theme-content",[i("div",[t.shareNotice?i("v-uni-view",{staticClass:"share-notice"},[i("v-uni-image",{attrs:{src:t.$utils.staticMediaUrl("decorate/share@2x.png"),alt:""}}),i("p",[t._v(t._s(t.shareMsg))]),i("v-uni-view",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAll.apply(void 0,arguments)}}},[t._v("知道了")])],1):t._e(),t.value?i("pick-mask",{staticClass:"pick-mask",on:{"mask-close":function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t.shareContent?i("v-uni-view",{staticClass:"container",style:{paddingBottom:t.areaBottom+"px"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"title"},[t._v("分享到")]),i("v-uni-view",{staticClass:"flex channel"},[i("v-uni-view",{staticClass:"channel-list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareNoticeShow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont-m- icon-m-qudao-weixin channel-icon"}),i("v-uni-view",{staticClass:"channel-text"},[t._v("微信")])],1),t.showMaterial?i("v-uni-view",{staticClass:"channel-list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.materialHandler.apply(void 0,arguments)}}},[i("img",{staticClass:"img",attrs:{src:t.$utils.staticMediaUrl("share/material.png"),alt:""}}),i("v-uni-view",{staticClass:"channel-text"},[t._v("一键发圈")])],1):t._e(),i("v-uni-view",{staticClass:"channel-list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareHandler.apply(void 0,arguments)}}},[i("img",{staticClass:"img",attrs:{src:t.$utils.staticMediaUrl("share/poster.png"),alt:""}}),i("v-uni-view",{staticClass:"channel-text"},[t._v("生成海报")])],1),t.isShowLink?i("v-uni-view",{staticClass:"channel-list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyLink.apply(void 0,arguments)}}},[i("img",{staticClass:"img",attrs:{src:t.$utils.staticMediaUrl("share/copy.png"),alt:""}}),i("v-uni-view",{staticClass:"channel-text"},[t._v("复制链接")])],1):t._e()],1),i("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")])],1):t._e()],1):t._e()],1)])},r=[]},"052a":function(t,e,i){"use strict";i.r(e);var n=i("6115"),o=i("4dcd");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("991d");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"710e8aad",null,!1,n["a"],a);e["default"]=c.exports},"0fc6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.community-poster-modal[data-v-677e2bfb]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:10000000}.community-poster-modal .modal[data-v-677e2bfb]{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.7)}.community-poster-modal .create-poster[data-v-677e2bfb]{opacity:0}.community-poster-modal.loading[data-v-677e2bfb]{visibility:hidden}.community-poster-modal .none[data-v-677e2bfb]{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}.community-poster-modal .poster-container[data-v-677e2bfb]{position:absolute;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?996?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.community-poster-modal .poster-container .close[data-v-677e2bfb]{position:absolute;left:50%;top:%?-80?%;width:%?48?%;height:%?48?%;line-height:%?40?%;border:1px solid #fff;text-align:center;border-radius:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);box-sizing:border-box;background:#fff}.community-poster-modal .poster-container .close i[data-v-677e2bfb]{color:#fff;font-size:%?20?%}.community-poster-modal .poster-container .link-content-h5[data-v-677e2bfb]{-webkit-justify-content:space-around;justify-content:space-around;color:#fff;font-size:%?20?%;text-align:center;height:30%;-webkit-flex-shrink:0;flex-shrink:0;padding:%?40?% %?40?% 0}.community-poster-modal .poster-container .link-content-wxapp[data-v-677e2bfb]{color:#333;font-size:%?20?%;text-align:center;height:%?329?%;-webkit-flex-shrink:0;flex-shrink:0;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.community-poster-modal .poster-container .link-content-wxapp .close[data-v-677e2bfb]{border-top:%?1?% solid #e6e7eb;height:%?100?%;font-size:%?28?%;text-align:center;line-height:%?100?%;color:#969696;width:100%;padding:0 %?24?%;background:#fff}.community-poster-modal .poster-container .link-content-wxapp .share-btns[data-v-677e2bfb]{display:-webkit-box;display:-webkit-flex;display:flex;padding:0 %?24?%}.community-poster-modal .poster-container .link-content-wxapp .share-btns .btn[data-v-677e2bfb]{width:%?120?%;height:%?229?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-style:normal;margin-right:%?24?%}.community-poster-modal .poster-container .link-content-wxapp .share-btns .btn .img[data-v-677e2bfb]{width:%?120?%;height:%?120?%}.community-poster-modal .poster-container .link-content-wxapp .share-btns .btn uni-view[data-v-677e2bfb]{font-size:%?24?%;margin:0 auto;text-align:center;color:#212121}.community-poster-modal .poster-container .link-content-wxapp uni-image[data-v-677e2bfb]{width:%?120?%;height:%?120?%}.community-poster-modal .poster-container .link-content-wxapp uni-button[data-v-677e2bfb]{background-color:initial;line-height:1.25;color:#333;border-radius:0}.community-poster-modal .poster-container .link-content-wxapp uni-button[data-v-677e2bfb]::after{border:none}',""]),t.exports=e},"121b":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{templates:{type:Array,default:function(){return[]}},radius:{type:String,default:"24px"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},top:{type:String,default:"0"},left:{type:String,default:"0"},subStyle:{type:String,default:""}},methods:{wechatSubscribeSuccess:function(){this.$emit("success")},wechatSubscribeError:function(){this.$emit("error")}}};e.default=i},"15fd":function(t,e,i){"use strict";function n(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}function o(t,e){if(null==t)return{};var i,o,r=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}i.r(e),i.d(e,"default",(function(){return o}))},"1d24":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("wx-open-subscribe",{staticStyle:{position:"absolute",width:"100%",height:"100%",opacity:"0","z-index":"100"},style:t.subStyle,attrs:{id:"wechatSubscribe",template:t.templates.join(",")},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatSubscribeSuccess.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatSubscribeError.apply(void 0,arguments)}}},[i("script",{attrs:{type:"text/wxtag-template"}},[t._v('<style scoped>\n            .subscribe-btn {\n                width: 100%;\n                display: block;\n                height: 42px;\n                border-radius: 24px\n            }\n        </style>\n        <button class="subscribe-btn" ></button>')])])},r=[]},"39ec":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{templates:{type:Array,default:function(){return[]}},radius:{type:String,default:"24px"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},top:{type:String,default:"0"},left:{type:String,default:"0"},subStyle:{type:String,default:""}},methods:{wechatSubscribeSuccess:function(){this.$emit("success")},wechatSubscribeError:function(){this.$emit("error")}}};e.default=i},4222:function(t,e,i){"use strict";i.r(e);var n=i("c2c7"),o=i("9e87");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("0316");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"38f1db0f",null,!1,n["a"],a);e["default"]=c.exports},"427b":function(t,e,i){var n=i("0fc6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("2b865e38",n,!0,{sourceMap:!1,shadowMode:!1})},"44ee1":function(t,e,i){var n=i("4ea4"),o=i("7037");i("5df3"),i("10ad"),i("8e6e"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.getAvatar=x,e.getCommissionPoster=T,e.getCommissionPosterQrcode=w,e.getCreditGoodsPosters=E,e.getCreditShopQrcode=k,e.getFollowPosters=j,e.getGoodsPosters=D,e.getGroupPoster=$,e.getH5Qrcode=P,e.getWxArticlePoster=S,e.getWxGoodPoster=_,e.getWxGroupPoster=C,e.getWxGroupRebatePoster=O,e.getWxGroupsFissionPoster=I,e.getWxappQrcode=y,i("ac6a"),i("96cf");var r=n(i("1da1")),a=n(i("ade3"));i("a481");var s=n(i("365c")),c=p(i("325c")),l=n(i("4360")),u=n(i("e8c6")),d=n(i("fd66")),f=n(i("5ea3"));function h(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(h=function(t){return t?i:e})(t)}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var i=h(e);if(i&&i.has(t))return i.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=r?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,i&&i.set(t,n),n}function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){(0,a.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m="",b="";function y(){return new Promise((function(t,e){m?t(m):s.default.commissionApi.getWxappQrcode({}).then((function(e){0==(null===e||void 0===e?void 0:e.error)&&e.patch?uni.getImageInfo({src:e.patch,success:function(e){m=e.path,t(e.path)},fail:function(){uni.showToast({title:"加载商品二维码失败1",icon:"none"}),t()}}):(uni.showToast({title:"加载商品二维码失败2",icon:"none"}),t())})).catch((function(){t(),uni.showToast({title:"加载商品二维码失败3",icon:"none"})}))}))}function w(){return new Promise((function(t,e){m?t(m):s.default.merchantsApi.getCommissionPosterQrcode().then((function(e){0===e.error&&e.url?uni.getImageInfo({src:e.url,success:function(e){m=e.path,t(e.path)},fail:function(){uni.showToast({title:"加载商品二维码失败1",icon:"none"}),t()}}):(uni.showToast({title:"加载商品二维码失败2",icon:"none"}),t())})).catch((function(){t(),uni.showToast({title:"加载商品二维码失败3",icon:"none"})}))}))}function _(t){return new Promise((function(e,i){m?e(m):s.default.goodApi.getWxPoster({goods_id:t}).then((function(t){0===t.error?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(t){uni.showToast({title:"下载商品二维码失败",icon:"none"}),e()}}):(uni.showToast({title:"加载商品二维码失败:"+t.message,icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载商品二维码失败",icon:"none"})}))}))}function k(t){return new Promise((function(e,i){m?e(m):s.default.creditShopApi.getWxQrcode({id:t}).then((function(t){0==(null===t||void 0===t?void 0:t.error)&&t.patch?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(){uni.showToast({title:"加载商品二维码失败1",icon:"none"}),e()}}):(uni.showToast({title:"加载商品二维码失败2",icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载商品二维码失败3",icon:"none"})}))}))}function x(t){return new Promise((function(e,i){b?e(b):uni.getImageInfo({src:t,success:function(t){b=t.path,e(t.path)},fail:function(){uni.showToast({title:"加载头像失败",icon:"none"}),e()}})}))}function P(t,e,i){/#\/$|#\/pages.+$/.test(t)&&(t=t.replace("#","&_route="));var n={};return i&&(n={foregroundColor:i.style.color,backgroundColor:i.style.bgcolor,margin:.04*e}),new Promise((function(i,o){u.default.make(v(v({canvasId:"qrcode",text:t,size:e,fileType:"png",margin:5},n),{},{success:function(t){m=t,i(t)},fail:function(t){uni.showToast({title:"生成二维码失败",icon:"none"}),o(t)}}))}))}function C(t){return new Promise((function(e,i){s.default.orderApi.getWxGroupsQrcode({team_id:t}).then((function(t){0===t.error?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(t){uni.showToast({title:"下载商品二维码失败",icon:"none"}),e()}}):(uni.showToast({title:"加载商品二维码失败:"+t.message,icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载商品二维码失败",icon:"none"})}))}))}function O(t){return new Promise((function(e,i){s.default.orderApi.getWxGroupsRebateQrcode({team_id:t}).then((function(t){0===t.error?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(t){uni.showToast({title:"下载商品二维码失败",icon:"none"}),e()}}):(uni.showToast({title:"加载商品二维码失败:"+t.message,icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载商品二维码失败",icon:"none"})}))}))}function I(t){return new Promise((function(e,i){s.default.orderApi.getWxGroupsFissionQrcode({team_id:t},{errorToast:!1}).then((function(t){0===t.error?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(t){uni.showToast({title:"下载商品二维码失败",icon:"none"}),e()}}):(uni.showToast({title:"加载商品二维码失败:"+t.message,icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载商品二维码失败",icon:"none"})}))}))}function S(t){return new Promise((function(e,i){m?e(m):s.default.articleApi.getWxappQrcode({id:t}).then((function(t){0===t.error?uni.getImageInfo({src:t.patch,success:function(t){m=t.path,e(t.path)},fail:function(t){uni.showToast({title:t,icon:"none"}),e()}}):(uni.showToast({title:"加载文章二维码失败:"+t.message,icon:"none"}),e())})).catch((function(){e(),uni.showToast({title:"加载文章二维码失败",icon:"none"})}))}))}function T(t,e){return m="",new Promise((function(i,n){f.default.getModule("poster").getPoster("commission").then(function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(o){var a,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("",a=o.filter((function(t){return"poster_qrcode"==t.id}))[0]||"",!a){n.next=6;break}return n.next=5,P(t.url,e,a);case 5:a=n.sent;case 6:s=c.deepCopy(o),s.forEach(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"poster_qrcode"==e.id&&(e.params.imgurl=a,m=a||""),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l=c.deepCopy(s),l=(0,d.default)(l),i(l);case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:"生成海报失败",icon:"none"}),n(t),uni.hideLoading()}))}))}function D(t,e){var i;m="";var n=null===(i=l.default.state.decorate.goodDetailPage.detailInfo)||void 0===i?void 0:i.poster_url;return new Promise((function(t,i){f.default.getModule("poster").getPoster("goods").then(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(o){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=o.filter((function(t){return"poster_qrcode"==t.id}))[0],!a){i.next=5;break}return i.next=4,P(n,e);case 4:a=i.sent;case 5:s=c.deepCopy(o),s.forEach(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"poster_qrcode"==e.id&&(e.params.imgurl=a,m=a),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t((0,d.default)(s));case 8:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:"生成海报失败",icon:"none"}),i(t),uni.hideLoading()}))}))}function E(t,e){var i,n;m="";var o=null===(i=l.default.state.creditShop)||void 0===i||null===(n=i.creditPosterData)||void 0===n?void 0:n.poster_url;return new Promise((function(t,i){f.default.getModule("poster").getPoster("creditGoods").then(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(n){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=n.filter((function(t){return"poster_qrcode"==t.id}))[0],!a){i.next=5;break}return i.next=4,P(o,e);case 4:a=i.sent;case 5:s=c.deepCopy(n),s.forEach(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"poster_qrcode"==e.id&&(e.params.imgurl=a,m=a),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t((0,d.default)(s));case 8:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:"生成海报失败",icon:"none"}),i(t),uni.hideLoading()}))}))}function j(t){return m="",new Promise((function(t,e){f.default.getModule("poster").getPoster("follow").then((function(e){t((0,d.default)(e))})).catch((function(t){uni.showToast({title:"生成海报失败",icon:"none"}),e(t),uni.hideLoading()}))}))}function $(t){return new Promise((function(t,e){f.default.getModule("poster").getPoster("group").then(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.filter((function(t){return"poster_qrcode"==t.id}))[0]||"",!n){e.next=5;break}return e.next=4,P(n.params.imgurl,170,n);case 4:n=e.sent;case 5:o=c.deepCopy(i),o.forEach(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"poster_qrcode"==e.id&&(e.params.imgurl=n),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t((0,d.default)(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:"生成海报失败",icon:"none"}),e(t),uni.hideLoading()}))}))}},"49c0":function(t,e,i){var n=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("ade3"));function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i("a481");var s=null,c={name:"GoodsGroup",props:{item:{type:Object,default:function(){}},activityInfo:{type:Object,default:function(){}}},data:function(){return{preloading:!0,loading:{},timestamp:null,dateTimer:null}},computed:{getLoadingSrc:function(){var t,e,i,n;return null!==(t=this.$store.state.setting.systemSetting)&&void 0!==t&&null!==(e=t.basic)&&void 0!==e&&e.loading?this.$store.state.setting.cacheLoadingImg||this.$utils.mediaUrl(null===(i=this.$store.state.setting.systemSetting)||void 0===i||null===(n=i.basic)||void 0===n?void 0:n.loading):this.$utils.staticMediaUrl("decorate/goods_col2.png")},getGroupsPrice:function(){return"0"==this.activityInfo.is_ladder&&"0"==this.item.has_option?this.item.activity_price:null===(t=this.item.price_range)||void 0===t?void 0:t.min_price;var t},getPrice:function(){return this.item.original_price},getGroupsNum:function(){var t=this.activityInfo,e=t.is_ladder,i=t.success_num;return 0==e?"".concat(i,"人团"):""}},mounted:function(){var t=this;setTimeout((function(){t.preloading=!1}),3e3)},methods:{loaded:function(t){var e=this;if(t){var i=t.replace(/\./g,"_");this.loading[i]=!1,clearTimeout(s),s=setTimeout((function(){e.loading=a({},e.loading)}),100)}},clickGood:function(){this.$emit("on-click",this.item)}},filters:{formatMoney:function(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseInt(t/100)/100+"万":parseFloat(t):0}}};e.default=c},"4dcd":function(t,e,i){"use strict";i.r(e);var n=i("7d27"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"4e51":function(t,e,i){var n=i("9274");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("437a071c",n,!0,{sourceMap:!1,shadowMode:!1})},"51e9":function(t,e,i){var n=i("86530");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("61551710",n,!0,{sourceMap:!1,shadowMode:!1})},"5b806":function(t,e,i){"use strict";i.r(e);var n=i("1d24"),o=i("f31b");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=c.exports},6115:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{id:"create-poster"}},[t.imgUrl?i("div",{staticClass:"preview",on:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("img",{staticStyle:{width:"606rpx"},attrs:{src:t.imgUrl,alt:""}})]):[i("vue-canvas-poster",{attrs:{widthPixels:1e3,painting:t.painting},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.createPoster.apply(void 0,arguments)},fail:function(e){arguments[0]=e=t.$handleEvent(e),t.fail.apply(void 0,arguments)}}})]],2)},r=[]},"6b74":function(t,e,i){"use strict";i.r(e);var n=i("49c0"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"76d4":function(t,e,i){"use strict";i.r(e);var n=i("8b15"),o=i("6b74");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("ef42");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"46f7026a",null,!1,n["a"],a);e["default"]=c.exports},"7b65":function(t,e,i){"use strict";i.r(e);var n=i("f528"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"7d27":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("33a5"),o={props:{painting:{type:Object,default:function(){return{}}},imgSrc:{type:String,default:""}},components:{VueCanvasPoster:n.VueCanvasPoster},watch:{imgSrc:{immediate:!0,handler:function(){this.imgSrc&&(this.imgUrl=this.imgSrc,uni.hideLoading())}}},data:function(){return{imgUrl:"",callback:null,throttle:null}},methods:{create:function(t){"function"==typeof t&&(this.callback=t)},fail:function(t){this.$toast("生成海报失败")},createPoster:function(t){var e=this;return this.imgUrl=t,this.throttle||(this.throttle=new Promise((function(t,i){e.$nextTick((function(){if(e.imgUrl)return"function"==typeof e.callback&&e.callback(e.imgUrl),t(e.imgUrl),void(e.throttle=null)}))}))),this.throttle}}};e.default=o},"7f3b":function(t,e,i){"use strict";i.r(e);var n=i("c102"),o=i("fe82");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("00ec");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"064e36e7",null,!1,n["a"],a);e["default"]=c.exports},"83f6":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"community-poster-modal",class:{loading:t.loading}},[i("v-uni-view",{staticClass:"modal",class:{"create-poster":!t.url}}),i("v-uni-view",{staticClass:"poster-container"},[i("v-uni-view",{staticClass:"close",class:{"create-poster":!t.url},staticStyle:{background:"rgba(0,0,0,0)"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle.apply(void 0,arguments)}}},[i("i",{staticClass:"iconfont-m- icon-m-close"})]),i("div",{class:{"create-poster":!t.url}},[i("create-poster",{ref:"posterCreate",attrs:{painting:t.painterData,"img-src":t.url}})],1),i("v-uni-canvas",{staticClass:"none",style:{width:t.getSize+"px",height:t.getSize+"px"},attrs:{"canvas-id":"qrcode"}}),i("v-uni-view",{staticClass:"link-content-h5 flex"},[i("v-uni-view",{class:{"create-poster":!t.url}},[i("v-uni-view",[t._v("长按保存图片")])],1)],1)],1)],1):t._e()},r=[]},86530:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.cut-down[data-v-38f1db0f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?32?%;color:#fff}.cut-down .day[data-v-38f1db0f]{padding:0 %?4?%;min-width:%?40?%}.cut-down .day[data-v-38f1db0f],\r\n.cut-down .time[data-v-38f1db0f]{border-radius:%?6?%;height:%?40?%;font-size:%?28?%;text-align:center;line-height:%?40?%;color:#fff;background-color:#ff3c29}.cut-down .text[data-v-38f1db0f]{margin:0 %?10?%;font-size:%?24?%;line-height:%?34?%;color:#ff3c29}.cut-down .time[data-v-38f1db0f]{width:%?40?%}.cut-down .colon[data-v-38f1db0f]{margin:0 %?4?%;line-height:%?32?%;color:#ff3c29}',""]),t.exports=e},"8b15":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-group"},[i("div",{staticClass:"image-box"},[t.item.preloading&&t.preloading?i("img",{staticClass:"goods-img preload",attrs:{mode:"widthFix","lazy-load":!0,src:t.getLoadingSrc,alt:""}}):t._e(),i("img",{staticClass:"goods-img",class:{loading:t.item.preloading&&t.preloading},attrs:{mode:"widthFix","lazy-load":!0,src:t.$utils.mediaUrl(t.item.thumb)||t.$utils.staticMediaUrl("decorate/goods_col2.png"),alt:""},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded(t.item.thumb)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded(t.item.thumb)}}})]),i("div",{staticClass:"goods-content"},[i("div",[i("div",{staticClass:"goods-title omit-2"},[i("span",{staticClass:"group-label"},[t._v(t._s(t.getGroupsNum))]),t._v(t._s(t.item.title||""))]),t.item.sub_name?i("div",{staticClass:"goods-sub-title line-hide"},[t._v(t._s(t.item.sub_name))]):t._e()]),i("div",{staticClass:"goods-price-box"},[i("div",{staticClass:"goods-price"},[i("div",{staticClass:"group-price"},[i("span",{staticClass:"name"},[t._v("拼团价")]),i("span",{staticClass:"price"},[i("span",{staticClass:"unit"},[t._v("￥")]),t._v(t._s(t._f("formatMoney")(t.getGroupsPrice)))])]),i("div",{staticClass:"original-price"},[i("span",{staticClass:"name"},[t._v("单买价")]),i("span",{staticClass:"price"},[i("span",{staticClass:"unit"},[t._v("￥")]),t._v(t._s(t._f("formatMoney")(t.getPrice)))])])])])])])},r=[]},"8c52":function(t,e,i){"use strict";var n=i("427b"),o=i.n(n);o.a},"8d33":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.goods-group[data-v-46f7026a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?16?% %?24?%;border-radius:%?12?%;background:#fff}.goods-group .image-box[data-v-46f7026a]{position:relative;width:%?220?%;height:%?220?%;border-radius:%?12?%;overflow:hidden;-webkit-flex-shrink:0;flex-shrink:0}.goods-group .image-box .goods-img[data-v-46f7026a]{width:100%;height:100%;border-radius:%?12?%}.goods-group .goods-content[data-v-46f7026a]{padding-left:%?24?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;width:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?220?%}.goods-group .goods-content .goods-sub-title[data-v-46f7026a]{font-size:%?24?%;line-height:%?34?%;color:#969696;padding-top:%?8?%}.goods-group .goods-content .goods-price-box[data-v-46f7026a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.goods-group .goods-content .group-price .name[data-v-46f7026a],\r\n.goods-group .goods-content .original-price .name[data-v-46f7026a]{margin-right:%?8?%}.goods-group .goods-content .group-price[data-v-46f7026a]{font-size:%?24?%;line-height:%?34?%;color:#ff3c29;padding-top:%?8?%;padding-bottom:%?4?%}.goods-group .goods-content .group-price .price[data-v-46f7026a]{font-size:%?32?%;font-weight:700;line-height:%?46?%}.goods-group .goods-content .group-price .unit[data-v-46f7026a]{font-size:%?24?%;line-height:%?34?%}.goods-group .goods-content .original-price[data-v-46f7026a]{font-size:%?24?%;line-height:%?34?%;color:#969696}.goods-group .goods-content .buy-btn[data-v-46f7026a]{border-radius:%?48?%;width:%?128?%;height:%?54?%;font-size:%?24?%;font-weight:700;text-align:center;line-height:%?54?%;color:#fff;background:-webkit-linear-gradient(335.43deg,#ff8a00 19.05%,#ff4c14 87.67%);background:linear-gradient(114.57deg,#ff8a00 19.05%,#ff4c14 87.67%)}.group-label[data-v-46f7026a]{display:inline-block;font-size:%?20?%;line-height:%?28?%;padding:%?2?% %?8?%;color:#ff6f29;background:#fff9f0;border:%?2?% solid #ffdaa3}.goods-title[data-v-46f7026a]{font-size:%?28?%;line-height:%?40?%;color:#212121}.goods-title .group-label[data-v-46f7026a]{border-radius:%?4?%;margin-right:%?4?%}.omit-2[data-v-46f7026a]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}',""]),t.exports=e},9126:function(t,e,i){"use strict";i.r(e);var n=i("03c7"),o=i("97c6");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("ab52");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"f4e5a716",null,!1,n["a"],a);e["default"]=c.exports},9274:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.preview[data-v-710e8aad]{overflow:hidden;width:100%;height:100%;border-radius:%?12?%;z-index:9999}.preview img[data-v-710e8aad]{display:block;margin:auto}',""]),t.exports=e},"97c6":function(t,e,i){"use strict";i.r(e);var n=i("b6ac"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"991d":function(t,e,i){"use strict";var n=i("4e51"),o=i.n(n);o.a},"9ae0":function(t,e,i){"use strict";i.r(e);var n=i("121b"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"9e87":function(t,e,i){"use strict";i.r(e);var n=i("eb37"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"9f31":function(t,e,i){var n=i("e6a5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("02127294",n,!0,{sourceMap:!1,shadowMode:!1})},ab52:function(t,e,i){"use strict";var n=i("9f31"),o=i.n(n);o.a},b6ac:function(t,e,i){(function(t){var n=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("ade3")),r=i("2f62"),a=n(i("06ad"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={props:{value:{type:Boolean,default:!1},type:{type:String,default:""},goods:{type:Object,default:function(){}}},components:{PickMask:a.default},data:function(){return{shareContent:!0,shareNotice:!1,shareMsg:'请点击右上角的"..."按钮，分享给好友',channels:[{type:"wechat",icon:"icon-m-qudao-weixin",color:"#1BB723",text:"微信"},{type:"poster",icon:"icon-m-shengchenghaibao",color:"#FF6F29",text:"生成海报"},{type:"copy",icon:"icon-m-fuzhilianjie",color:"#518DEF",text:"复制链接"}],timer:null,times:0,isShowLink:!1}},computed:c(c(c({},(0,r.mapState)("decorate/goodDetailPage",{posterUrl:function(t){var e;return null===(e=t.detailInfo)||void 0===e?void 0:e.poster_url},goodsData:function(t){var e,i,n;return null!==(e=null===(i=t.detailInfo)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.goods)&&void 0!==e?e:{}}})),(0,r.mapState)(["windowHeight","areaBottom"])),{},{isWeixin:function(){return this.$utils.is_weixin()},showMaterial:function(){var t,e,i,n,o,r,a;return(null===(t=this.goods)||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.goods)||void 0===i?void 0:i.material)&&0!==(null===(n=this.goods)||void 0===n||null===(o=n.data)||void 0===o||null===(r=o.goods)||void 0===r||null===(a=r.material)||void 0===a?void 0:a.length)}}),watch:{value:function(t){t&&(this.shareContent=!0)}},mounted:function(){this.getChannel()},methods:{cancel:function(){this.shareNotice=!1,this.$emit("input",!1)},shareHandler:function(t){this.$emit("share",t)},materialHandler:function(){this.$emit("material","share")},copyLink:function(){var e,i,n=this,o=this.posterUrl;"group"===this.type&&(o=null===this||void 0===this||null===(i=this.groupPosterData)||void 0===i?void 0:i.invite_url);t.log(null===this||void 0===this||null===(e=this.groupPosterData)||void 0===e?void 0:e.invite_url,"this?.groupPosterData?.invite_url"),uni.setClipboardData({data:o,success:function(){n.$toast("复制成功"),n.cancel()},fail:function(e){t.log(e)}})},closeAll:function(){this.shareContent=!1,this.shareNotice=!1,this.cancel()},shareNoticeShow:function(){this.shareContent=!1,this.shareNotice=!0},videoCopy:function(){var e=this;uni.setClipboardData({data:this.videoCopyLink,success:function(){wx.hideToast(),e.$toast("复制成功"),setTimeout((function(){e.$emit("input",!1)}),500)},fail:function(e){t.log(e)}})},getChannel:function(){var t=this;this.$api.settingApi.getChannelStatus({}).then((function(e){0==e.error&&(t.isShowLink=1==(null===e||void 0===e?void 0:e.h5)||1==(null===e||void 0===e?void 0:e.wechat))}))}}};e.default=l}).call(this,i("5a52")["default"])},b703:function(t,e,i){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=n(i("1da1")),r=n(i("d4ec")),a=n(i("bee2")),s=n(i("4360")),c=i("a18c"),l=i("e9e5"),u=function(){function t(e){(0,r.default)(this,t),this.optionId=0,this.optionChoseNum=1,this.callback=null,this.callback=e,this.pickerCallback=this.pickerCallback.bind(this)}return(0,a.default)(t,[{key:"pickerCallback",value:function(t){var e=this;return new Promise(function(){var i=(0,o.default)(regeneratorRuntime.mark((function i(n,o){var r,a,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("clickBtn"!==(null===t||void 0===t?void 0:t.type)||"cart"!==t.data.type){i.next=10;break}if(!(0,l.hasBindBySence)("add_cart")){i.next=5;break}return s.default.commit("login/setModal",!0),n({type:"clickBtn"}),i.abrupt("return");case 5:return i.next=7,s.default.dispatch("quickPurchase/addCart",{option_id:e.optionId,total:e.optionChoseNum});case 7:n(),i.next=20;break;case 10:if("clickBtn"!==(null===t||void 0===t?void 0:t.type)||"buy"!==t.data.type){i.next=19;break}return i.next=13,s.default.dispatch("quickPurchase/createOrder",{option_id:e.optionId,total:e.optionChoseNum});case 13:r=i.sent,n(),s.default.commit("form/resetForm"),c.router.push({path:"/kdxOrder/create",query:r}),i.next=20;break;case 19:"choose"==t.type?e.optionId=(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.id)||0:"changeNum"==t.type?e.optionChoseNum=t.data.total:t&&e.callback&&e.callback(t);case 20:case"end":return i.stop()}}),i)})));return function(t,e){return i.apply(this,arguments)}}())}},{key:"getGoodDetail",value:function(t){return new Promise((function(e,i){s.default.dispatch("quickPurchase/getQuickPurchaseData",{goodId:t}).then((function(t){0==t.error?e(t):i(t),uni.hideLoading()})).catch((function(t){i(t),uni.hideLoading()}))}))}}]),t}();e.default=u},bc12:function(t,e,i){"use strict";i.r(e);var n=i("83f6"),o=i("7b65");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("8c52");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"677e2bfb",null,!1,n["a"],a);e["default"]=c.exports},c102:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-box",[i("v-uni-view",{staticClass:"group-detail"},[i("v-uni-view",{staticClass:"bg"}),i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"goods-info"},[i("Goods",{attrs:{item:t.goods,"activity-info":t.groupsInfo}}),i("v-uni-view",{staticClass:"goods-rules"},[t._v("拼团规则：支持开团邀请好友参团，人数不足自动退款")])],1),i("v-uni-view",{staticClass:"content"},["0"==t.state||"2"==t.state?[i("v-uni-view",{class:{pending:"0"==t.state,success:"1"==t.state,fail:"2"==t.state}},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"title-line"},[i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"circle"})],1),"0"==t.state?i("span",{staticClass:"title-text"},[t._v("拼团剩余时间")]):t._e(),"2"==t.state?i("span",{staticClass:"title-text"},[t._v("拼团失败")]):t._e(),i("v-uni-view",{staticClass:"title-line reserve"},[i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"circle"})],1)],1),t.groupsInfo.end_time?i("v-uni-view",{staticClass:"surplus-time"},[i("cut-down",{attrs:{end_time:t.groupsInfo.end_time,color:"0"==t.state?"#ff3c29":"#969696",bg_color:"0"==t.state?"#ff3c29":"#969696"},on:{"on-end":function(e){arguments[0]=e=t.$handleEvent(e),t.finishGroup.apply(void 0,arguments)}}})],1):t._e(),"0"==t.state&&t.getSurplus?i("v-uni-view",{staticClass:"pending-tip"},[t._v("还差"),i("span",{staticClass:"surplus-user"},[t._v(t._s(t.getSurplus))]),t._v("人即可拼团成功")]):t._e(),"2"==t.state?i("v-uni-view",{staticClass:"fail-tip"},[t._v("团长有效期内拼团人数不足")]):t._e()],1)]:t._e(),"1"==t.state?[i("v-uni-view",{staticClass:"success"},[i("img",{staticClass:"success-img",attrs:{src:t.$utils.staticMediaUrl("activity/group/group_success.png")}})])]:t._e(),i("v-uni-view",{staticClass:"user-list"},[t._l(t.filterUsers,(function(e,n){return i("v-uni-view",{key:n,staticClass:"user-item"},[i("img",{staticClass:"user-avatar",attrs:{src:t.$utils.mediaUrl(e.avatar)||t.$utils.staticMediaUrl("decorate/avatar_mobile.png")}}),t.groupsInfo.leader_id==e.member_id?i("v-uni-view",{staticClass:"user-tag"},[t._v("团长")]):t._e()],1)})),t.showSurplusIcon?i("v-uni-view",{staticClass:"ellipsis-icon"},[i("i",{staticClass:"iconfont-m- icon-m-shenglve"})]):t._e(),"1"==t.state||t.loadedError?t._e():i("v-uni-view",{staticClass:"invite-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleShare.apply(void 0,arguments)}}},[t.addSubscribe&&t.shareTemplateId.length>0?i("subscribe-group",{attrs:{templates:t.shareTemplateId,subStyle:"top:0;left:0;border-radius:100%;"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success("add")},error:function(e){arguments[0]=e=t.$handleEvent(e),t.error("add")}}}):t._e(),i("i",{staticClass:"iconfont-m- icon-m-add"})],1),t.users.length>5&&"1"==t.state?i("v-uni-view",{staticClass:"invite-btn"},[i("span",{staticClass:"surplus-num"},[t._v("+"+t._s(t.surplusUserNum))])]):t._e()],2),t.loadedError?t._e():i("v-uni-view",{staticClass:"btn-look",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAllUsers.apply(void 0,arguments)}}},[t._v("查看全部团员")]),i("v-uni-view",[i("v-uni-view",{staticStyle:{position:"relative"}},["0"!=t.state||t.groupsInfo.is_join||t.groupsInfo.is_leader?t._e():i("v-uni-view",{staticClass:"btn btn-primary",class:{disabled:"0"==t.goods.activity_stock},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.joinGroups.apply(void 0,arguments)}}},[t._v("参与拼团")]),t.joinSubscribe&&t.joinTemplateId.length>0?i("subscribe",{attrs:{templates:t.joinTemplateId,subStyle:"top:0;left:0;width:100%;"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success("join")},error:function(e){arguments[0]=e=t.$handleEvent(e),t.error("share")}}}):t._e()],1),i("v-uni-view",{staticStyle:{position:"relative"}},["0"==t.state&&"1"==t.groupsInfo.is_leader?i("v-uni-view",{staticClass:"btn btn-primary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleShare.apply(void 0,arguments)}}},[t._v("邀请好友参团")]):t._e(),t.shareSubscribe&&t.shareTemplateId.length>0?i("subscribe",{attrs:{templates:t.shareTemplateId,subStyle:"top:0;left:0;width:100%;"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success("share")},error:function(e){arguments[0]=e=t.$handleEvent(e),t.error("share")}}}):t._e()],1),"1"==t.groupsInfo.is_leader&&"2"==t.state&&"0"==t.groupsInfo.status?i("v-uni-view",{staticClass:"btn btn-primary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toGoods.apply(void 0,arguments)}}},[t._v("重新开团")]):t._e(),"1"==t.state||"2"==t.state||t.loadedError?i("v-uni-view",{staticClass:"btn btn-plain",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)}}},[t._v("首页逛逛")]):t._e(),"0"!=t.state&&"1"!=t.state||!t.groupsInfo.order_id?t._e():i("v-uni-view",{staticClass:"btn btn-plain",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toOrder.apply(void 0,arguments)}}},[t._v("查看订单详情")])],1)],2)],1)],1),t.showShare?i("share-modal",{attrs:{goods:t.goods,type:"group"},on:{material:function(e){arguments[0]=e=t.$handleEvent(e),t.materialHandler.apply(void 0,arguments)},share:function(e){arguments[0]=e=t.$handleEvent(e),t.shareHandler.apply(void 0,arguments)}},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}}):t._e(),t.showPoster?i("poster-modal",{ref:"poster",attrs:{"poster-type":"group"},on:{mounted:function(e){arguments[0]=e=t.$handleEvent(e),t.posterShow.apply(void 0,arguments)}}}):t._e(),i("goods-picker",{ref:"goodsPicker",on:{choose:function(e){arguments[0]=e=t.$handleEvent(e),t.specPickerChoose.apply(void 0,arguments)},changeNum:function(e){arguments[0]=e=t.$handleEvent(e),t.optionChangeNum.apply(void 0,arguments)},clickBtn:function(e){arguments[0]=e=t.$handleEvent(e),t.clickBtn.apply(void 0,arguments)}}})],1)},r=[]},c2c7:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cut-down"},[i("span",{staticClass:"day",style:{background:t.bg_color}},[t._v(t._s(t.countTime[0]))]),i("span",{staticClass:"text",style:{color:t.color}},[t._v("天")]),i("span",{staticClass:"time",style:{background:t.bg_color}},[t._v(t._s(t.countTime[1]))]),i("span",{staticClass:"colon",style:{color:t.color}},[t._v(":")]),i("span",{staticClass:"time",style:{background:t.bg_color}},[t._v(t._s(t.countTime[2]))]),i("span",{staticClass:"colon",style:{color:t.color}},[t._v(":")]),i("span",{staticClass:"time",style:{background:t.bg_color}},[t._v(t._s(t.countTime[3]))])])},r=[]},cb19:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-064e36e7] .grace-page-body{background-color:#fff}.group-detail[data-v-064e36e7]{position:relative}.group-detail .bg[data-v-064e36e7]{position:absolute;left:0;top:0;width:100%;height:%?232?%;background:-webkit-linear-gradient(top,#ff3c29,#ff6f29 96.87%);background:linear-gradient(180deg,#ff3c29,#ff6f29 96.87%)}.group-detail .container[data-v-064e36e7]{position:relative;margin:0 %?24?%;padding-top:%?32?%}.group-detail .container .goods-info[data-v-064e36e7]{overflow:hidden;border-radius:%?12?%;box-shadow:0 %?8?% %?8?% %?-4?% rgba(255,60,41,.1);background:#fff}.group-detail .container .goods-info .goods-rules[data-v-064e36e7]{padding-left:%?24?%;height:%?64?%;font-size:%?24?%;line-height:%?64?%;color:#969696;background:#fcfcfc}.group-detail .container .content[data-v-064e36e7]{padding:%?24?% 0}.group-detail .container .content .title[data-v-064e36e7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?16?%}.group-detail .container .content .title .title-line[data-v-064e36e7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.group-detail .container .content .title .title-line.reserve .line[data-v-064e36e7]{-webkit-box-ordinal-group:2;-webkit-order:1;order:1}.group-detail .container .content .title .title-line .line[data-v-064e36e7]{height:%?2?%;width:%?120?%}.group-detail .container .content .title .title-line .circle[data-v-064e36e7]{border-radius:50%;width:%?8?%;height:%?8?%}.group-detail .container .content .title .title-text[data-v-064e36e7]{margin:0 %?16?%;color:#212121;font-weight:700}.group-detail .container .content .surplus-time[data-v-064e36e7]{margin-top:%?16?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.group-detail .container .content .pending[data-v-064e36e7]{padding-top:%?24?%}.group-detail .container .content .pending .title-line.reserve .line[data-v-064e36e7]{background:-webkit-linear-gradient(left,#ff3c29 -.74%,rgba(255,60,41,0) 99.26%);background:linear-gradient(90deg,#ff3c29 -.74%,rgba(255,60,41,0) 99.26%)}.group-detail .container .content .pending .title-line .line[data-v-064e36e7]{background:-webkit-linear-gradient(right,#ff3c29 -.74%,rgba(255,60,41,0) 99.26%);background:linear-gradient(270deg,#ff3c29 -.74%,rgba(255,60,41,0) 99.26%)}.group-detail .container .content .pending .title-line .circle[data-v-064e36e7]{border:%?2?% solid #ff3c29}.group-detail .container .content .pending .pending-tip[data-v-064e36e7]{margin:%?48?% 0;font-size:%?32?%;line-height:%?44?%;text-align:center;color:#000}.group-detail .container .content .pending .pending-tip .surplus-user[data-v-064e36e7]{margin:0 %?4?%;font-size:%?40?%;font-weight:700;line-height:%?56?%;color:#ff3c29}.group-detail .container .content .fail[data-v-064e36e7]{padding-top:%?24?%}.group-detail .container .content .fail .title-line.reserve .line[data-v-064e36e7]{background:-webkit-linear-gradient(left,#989898 -.74%,hsla(0,0%,60.4%,0) 99.26%);background:linear-gradient(90deg,#989898 -.74%,hsla(0,0%,60.4%,0) 99.26%)}.group-detail .container .content .fail .title-line .line[data-v-064e36e7]{background:-webkit-linear-gradient(right,#989898 -.74%,hsla(0,0%,60.4%,0) 99.26%);background:linear-gradient(270deg,#989898 -.74%,hsla(0,0%,60.4%,0) 99.26%)}.group-detail .container .content .fail .title-line .circle[data-v-064e36e7]{border:%?2?% solid #969696}.group-detail .container .content .fail .fail-tip[data-v-064e36e7]{margin:%?48?% 0;font-size:%?24?%;line-height:%?34?%;text-align:center;color:#565656}.group-detail .container .content .success[data-v-064e36e7]{margin-bottom:%?16?%;text-align:center}.group-detail .container .content .success .success-img[data-v-064e36e7]{display:inline-block;width:%?538?%;height:%?252?%}.group-detail .container .content .user-list[data-v-064e36e7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:%?-20?%}.group-detail .container .content .user-list .user-item[data-v-064e36e7],\r\n.group-detail .container .content .user-list .invite-btn[data-v-064e36e7],\r\n.group-detail .container .content .user-list .ellipsis-icon[data-v-064e36e7]{position:relative;margin-right:%?-20?%;border-radius:50%;width:%?108?%;height:%?108?%}.group-detail .container .content .user-list .user-item[data-v-064e36e7]{border:%?2?% solid #fff}.group-detail .container .content .user-list .user-item .user-avatar[data-v-064e36e7]{border-radius:50%;width:%?104?%;height:%?104?%}.group-detail .container .content .user-list .user-item .user-tag[data-v-064e36e7]{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?24?%;width:%?72?%;height:%?32?%;font-size:%?24?%;text-align:center;line-height:%?32?%;color:#fff;background:-webkit-linear-gradient(335.43deg,#ff8a00 19.05%,#ff4c14 87.67%);background:linear-gradient(114.57deg,#ff8a00 19.05%,#ff4c14 87.67%)}.group-detail .container .content .user-list .invite-btn[data-v-064e36e7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:50%;border:1px dashed #e6e7eb;width:%?108?%;height:%?108?%;background:#f5f5f5}.group-detail .container .content .user-list .invite-btn .icon-m-add[data-v-064e36e7]{font-size:%?48?%;color:#969696}.group-detail .container .content .user-list .invite-btn .surplus-num[data-v-064e36e7]{font-size:%?32?%;line-height:%?44?%;color:#969696}.group-detail .container .content .user-list .ellipsis-icon .icon-m-shenglve[data-v-064e36e7]{font-size:%?108?%;color:#c4c4c4}.group-detail .container .content .btn-look[data-v-064e36e7]{margin:%?32?% auto %?48?%;border:%?2?% solid #e6e7eb;border-radius:%?34?%;width:%?200?%;height:%?54?%;font-size:%?24?%;line-height:%?54?%;text-align:center;border:%?2?% solid #e6e7eb;border-radius:%?34?%;color:#212121}.group-detail .container .content .btn[data-v-064e36e7]{margin-top:%?24?%;border-radius:%?82?%;width:%?702?%;height:%?80?%;font-size:%?32?%;line-height:%?80?%;text-align:center;border:%?2?% solid #ff3c29;color:#ff3c29;background:#fff}.group-detail .container .content .btn[data-v-064e36e7]:first-child{margin-top:%?48?%;color:#fff;background:-webkit-linear-gradient(335.43deg,#ff8a00 19.05%,#ff4c14 87.67%);background:linear-gradient(114.57deg,#ff8a00 19.05%,#ff4c14 87.67%);box-shadow:0 4px 8px -2px rgba(255,60,41,.2);border:0}.group-detail .container .content .btn.disabled[data-v-064e36e7]{border:0;background:#ccc;box-shadow:none}',""]),t.exports=e},d32a:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("wx-open-subscribe",{staticStyle:{position:"absolute",width:"100%",height:"100%",opacity:"0","z-index":"100"},style:t.subStyle,attrs:{id:"wechatSubscribe",template:t.templates.join(",")},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatSubscribeSuccess.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatSubscribeError.apply(void 0,arguments)}}},[i("script",{attrs:{type:"text/wxtag-template"}},[t._v('<style scoped>\n            .subscribe-btn {\n                width: 100%;\n                display: block;\n                height: 54px;\n                box-shadow: none;\n                border-radius: 27px\n            }\n        </style>\n        <button class="subscribe-btn" ></button>')])])},r=[]},e089:function(t,e,i){(function(t){var n=i("4ea4"),o=i("7037");i("5df3"),i("10ad"),i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.addCart=C,e.createOrder=S,e.getLiverStatus=k,e.handleGroupParams=e.handleGroupFissionParams=void 0,e.handleLimit=M,e.setShareInfo=x,e.tipBeforeOper=P;var r=n(i("ade3"));i("96cf"),i("6762"),i("2fdb");var a=n(i("1da1")),s=n(i("15fd")),c=n(i("4360")),l=b(i("325c")),u=n(i("365c")),d=n(i("5ea3")),f=(i("a28b"),i("df39")),h=i("eab7"),p=["goodsData","option_id","type","is_origin"],g=["goods_id","option_id","total","liverId","goodDetail","detailInfo","canBuy","buy_num","activityInfo","is_origin","free_goods_code"],v=["goodDetail","total","buy_num","activityInfo","is_origin"];function m(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(m=function(t){return t?i:e})(t)}function b(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var i=m(e);if(i&&i.has(t))return i.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=r?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,i&&i.set(t,n),n}function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";t&&uni.showToast({title:t,icon:e})}function k(t){return new Promise((function(e,i){t?u.default.goodApi.getGoodsLiver({goods_id:t},{errorToast:!1}).then((function(t){0==t.error?e(t):e({room_id:"",broadcast_room_id:""})})):e({room_id:"",broadcast_room_id:""})}))}function x(t){var e;if(l.is_weixin()){var i,n,o,r=null===(e=c.default.state.setting.systemSetting)||void 0===e?void 0:e.share,a={};"1"==this.goodDetail.ext_field.title_type?(i=this.goodDetail.ext_field.share_description||r.description,n=this.goodDetail.ext_field.logo,o=this.goodDetail.ext_field.title):(i=this.goodDetail.sub_name||r.description,n=l.mediaUrl(this.goodDetail.thumb),o=this.goodDetail.title),a={description:i,logo:n,title:o,link:t.poster_url,sdkUrl:location.href},l.getShareInfo(a)}}function P(t,e){var i=t.goodsData,n=t.option_id,o=t.type;t.is_origin,(0,s.default)(t,p);return new Promise((function(t,r){0!=i.has_option||i.form_data&&!e?1==i.has_option&&n&&e?t():r({errorInfo:"请选择商品规格",errorId:"openPicker",type:o}):t()}))}function C(t){return O.apply(this,arguments)}function O(){return O=(0,a.default)(regeneratorRuntime.mark((function e(i){var n,o,r,a,s,l,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.goods_id,o=i.option_id,r=i.goodDetail,a=i.total,s=i.buy_num,l=i.activityInfo,f=i.is_origin,e.prev=1,e.next=4,M.call(this,{goodDetail:r,total:a,buy_num:s,activityInfo:l,is_origin:f});case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.log("addCart???",e.t0);case 10:if(null===r||void 0===r||!r.form_data){e.next=20;break}return e.prev=11,e.next=14,c.default.dispatch("quickPurchase/validForm");case 14:h=e.sent,e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](11),t(e.t1);case 20:return e.abrupt("return",new Promise((function(t,e){var i={goods_id:n,option_id:o,total:a,mode:1,is_activity_goods:null!==r&&void 0!==r&&r.is_activity_goods?r.is_activity_goods:0};null!==r&&void 0!==r&&r.form_data&&h&&(i=w(w({},i),{},{form_data:h})),u.default.goodApi.changeCartNum(i).then((function(e){uni.hideLoading(),0==e.error?(_("成功添加购物车","success"),d.default.getModule("diymenu").getCartNum(!0)):uni.showToast({title:e.message||"加入购物车失败",icon:"none"}),t(e)})).catch((function(t){e(t),uni.hideLoading()}))})));case 21:case"end":return e.stop()}}),e,this,[[1,7],[11,17]])}))),O.apply(this,arguments)}function I(t){return"undefined"===typeof t||"0"==t||""==t}function S(t){return T.apply(this,arguments)}function T(){return T=(0,a.default)(regeneratorRuntime.mark((function t(e){var i,n,o,r,l,u,d,f,h,p,v,m=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.goods_id,n=e.option_id,o=e.total,r=e.liverId,l=e.goodDetail,u=e.detailInfo,d=e.canBuy,f=e.buy_num,h=e.activityInfo,p=e.is_origin,e.free_goods_code,v=(0,s.default)(e,g),t.prev=1,t.next=4,M.call(this,w({goodDetail:l,total:o,buy_num:f,activityInfo:h,is_origin:p},v));case 4:o=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t["catch"](1),_(t.t0),t.abrupt("return");case 11:if(0!=l.stock){t.next=14;break}return _("商品已售罄"),t.abrupt("return");case 14:if(!c.default.state.login.isLogin){t.next=19;break}if(d){t.next=17;break}return t.abrupt("return",_("您暂时没有购买权限!"));case 17:t.next=20;break;case 19:return t.abrupt("return",c.default.commit("login/setModal",!0));case 20:return t.abrupt("return",new Promise(function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e,a){var s,l,d,f,h,g,b,y,w,k,x,P,C,O,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=u.data.goods,l=s.dispatch_intracity,d=s.dispatch_express,f=s.dispatch_verify,h=s.type,g=s.form_data,b=u.intracity,y=b.express_enable,w=b.intracity_enable,k=b.verify_enable,x={dispatch_intracity:l,dispatch_express:d,dispatch_verify:f,express_enable:y,intracity_enable:w,verify_enable:k},c.default.commit("orderCreate/setDispatchStatus",x),c.default.commit("orderCreate/setGoodsInfo",[{goods_id:i,option_id:n||0,total:o}]),"0"!==h){t.next=9;break}if(!I(y)&&!I(d)||!I(w)&&!I(l)||!I(k)&&!I(f)){t.next=9;break}return _("没有可用的配送方式"),t.abrupt("return");case 9:if(P={goods_id:i,option_id:n||0,total:o||1,type:h},p&&(P.is_origin="1"),r&&(P.room_id=r),v.extend_params?c.default.commit("orderCreate/setGroupsInfo",v.extend_params):c.default.commit("orderCreate/setGroupsInfo",null),!g){t.next=23;break}return t.next=16,c.default.dispatch("quickPurchase/validForm");case 16:C=t.sent,C.goods_id=i,C.option_id=n||0,m.$utils.is_merchant&&(C.sub_shop_id=null===u||void 0===u||null===(O=u.data)||void 0===O||null===(S=O.sub_shop_info)||void 0===S?void 0:S.id),C.form_id?c.default.dispatch("quickPurchase/sendFormData",C).then((function(t){0==t.error&&(e(),c.default.commit("form/resetForm"),m.$Router.auto({path:"/kdxOrder/create",query:P}))})):(e(),c.default.commit("form/resetForm"),m.$Router.auto({path:"/kdxOrder/create",query:P})),t.next=26;break;case 23:e(),c.default.commit("form/resetForm"),m.$Router.auto({path:"/kdxOrder/create",query:P});case 26:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()));case 21:case"end":return t.stop()}}),t,this,[[1,7]])}))),T.apply(this,arguments)}var D=function(t,e,i){var n=t.activityInfo,o=t.goodDetail,r=t.total,a=Math.min(n.activity_stock||0,o.stock),s=n.rules,c=s.limit_type,l=s.limit_num,u=n.buy_count;if(u||(u=0),"0"!=c){var d=l-u;if(d-r<0)return void i("购买超过限制")}a>0?e(r):i("库存不足")},E=function(t,e,i){var n,o=t.activityInfo,r=t.goodDetail,a=t.total,s=t.restOpt;o.has_open&&"1"!=(null===s||void 0===s||null===(n=s.extend_params)||void 0===n?void 0:n.is_join)?i("您已有正在进行的拼团"):D({activityInfo:o,goodDetail:r,total:a},e,i)},j=function(t){var e="1"==t.is_join?"1":"0",i={is_join:e,is_ladder:"0"};return t.ladder&&(i.ladder=params.ladder),t.team_id&&(i.team_id=t.team_id),t.activity_id&&(i.activity_id=t.activity_id),i};e.handleGroupParams=j;var $=function(t){var e="1"==t.is_join?"1":"0",i={is_join:e};return t.team_id&&(i.team_id=t.team_id),i};function M(t){var e=t.goodDetail,i=t.total,n=(t.buy_num,t.activityInfo),o=t.is_origin,r=(0,s.default)(t,v);return new Promise((function(t,a){var s=(0,h.getActivityName)(n),c=f.SINGLE_BUY_ACTIVE.includes(s);if(c&&"1"!=o){var l={seckill:D,groups:E},u=l[s];u&&u({activityInfo:n[s],goodDetail:e,total:i,restOpt:r},t,a)}else t(i)}))}e.handleGroupFissionParams=$}).call(this,i("5a52")["default"])},e4c3:function(t,e,i){var n=i("cb19");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("71cac928",n,!0,{sourceMap:!1,shadowMode:!1})},e6a5:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.share-notice[data-v-f4e5a716]{position:fixed;top:%?400?%;left:0;width:100%;z-index:10000006;color:#fff;text-align:center}.share-notice uni-image[data-v-f4e5a716]{width:%?104?%;height:%?104?%}.share-notice p[data-v-f4e5a716]{font-size:%?30?%;padding-top:%?40?%}.share-notice .button[data-v-f4e5a716]{display:inline-block;width:%?334?%;height:%?80?%;margin-top:%?40?%;line-height:%?80?%;border:1px solid #fff;border-radius:%?40?%}.container[data-v-f4e5a716]{position:absolute;bottom:0;left:0;border-radius:%?20?% %?20?% 0 0;padding:%?32?% %?24?% 0;width:100vw;height:%?440?%;background-color:#fff}.container .title[data-v-f4e5a716]{font-size:%?32?%;font-weight:700;text-align:center;line-height:%?44?%;color:#000;font-size:%?32?%;margin-bottom:%?48?%}.container .channel[data-v-f4e5a716]{padding-bottom:%?24?%}.container .channel-list[data-v-f4e5a716]{width:%?120?%;height:%?188?%;margin-right:%?24?%;background-color:initial;line-height:1}.container .channel-list .img[data-v-f4e5a716]{width:%?120?%;height:%?120?%}.container .channel-list[data-v-f4e5a716]::after{border:none}.container .channel-list[data-v-f4e5a716]:last-child{margin-right:0}.container .channel-icon[data-v-f4e5a716]{margin:0 %?10?% %?4?%;font-size:%?120?%;height:%?120?%;width:%?120?%}.container .channel-icon.icon-m-qudao-weixin[data-v-f4e5a716]{color:#1bb723}.container .channel-icon.icon-m-shengchenghaibao[data-v-f4e5a716]{color:#ff6f29}.container .channel-icon.icon-m-fuzhilianjie[data-v-f4e5a716]{color:#518def}.container .channel-icon.icon-m-yingyong-shipinhao-zhuanhuan[data-v-f4e5a716]{color:#ff901b}.container .channel-text[data-v-f4e5a716]{margin-bottom:%?17?%;font-size:%?24?%;text-align:center;line-height:%?40?%;color:#212121}.container .cancel[data-v-f4e5a716]{border-top:1px solid #e6e7eb;height:%?100?%;font-size:%?28?%;text-align:center;line-height:%?100?%;color:#969696}.modal[data-v-f4e5a716]{position:fixed;width:100%;height:100%;top:0;left:0}.modal .video-container[data-v-f4e5a716]{position:absolute;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background:#fff;border-radius:%?12?%;padding:%?48?% %?24?% %?22?%;width:%?512?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.modal .video-container .video-title[data-v-f4e5a716]{height:%?40?%;line-height:%?40?%;font-size:%?28?%;text-align:center;color:#212121}.modal .video-container .video-link[data-v-f4e5a716]{margin:%?16?% 0 %?72?%;background:#f5f5f5;border-radius:%?20?%;padding:%?24?% %?16?%;line-height:%?34?%;font-size:%?24?%;overflow-wrap:break-word}.modal .video-container .video-copy[data-v-f4e5a716]{text-align:center;color:#fff;font-size:%?28?%;width:100%;height:%?80?%;line-height:%?80?%;border-radius:%?128?%;background:-webkit-linear-gradient(317.43deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(132.57deg,#ff3c29,#ff6f29 94.38%)}',""]),t.exports=e},e8c6:function(t,e,i){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={};(function(){function e(t){this.mode=o.MODE_8BIT_BYTE,this.data=t}function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},n.prototype={addData:function(t){var i=new e(t);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=d.getRSBlocks(t,this.errorCorrectLevel),i=new f,n=0,o=0;o<e.length;o++)n+=e[o].dataCount;for(o=0;o<this.dataList.length;o++){var r=this.dataList[o];i.put(r.mode,4),i.put(r.getLength(),s.getLengthInBits(r.mode,t)),r.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=s.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*o,s=0;s<this.modules[r].length;s++){var c=s*o,l=this.modules[r][s];l&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+o,a),n.lineTo(c+o,a+o),n.lineTo(c,a+o),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[n+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=s.getBCHTypeInfo(i),o=0;o<15;o++){var r=!t&&1==(n>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++){r=!t&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2){6==a&&a--;while(1){for(var c=0;c<2;c++)if(null==this.modules[n][a-c]){var l=!1;r<t.length&&(l=1==(t[r]>>>o&1));var u=s.getMask(e,n,a-c);u&&(l=!l),this.modules[n][a-c]=l,o--,-1==o&&(r++,o=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}}},n.PAD0=236,n.PAD1=17,n.createData=function(t,e,i){for(var o=d.getRSBlocks(t,e),r=new f,a=0;a<i.length;a++){var c=i[a];r.put(c.mode,4),r.put(c.getLength(),s.getLengthInBits(c.mode,t)),c.write(r)}var l=0;for(a=0;a<o.length;a++)l+=o[a].dataCount;if(r.getLengthInBits()>8*l)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*l+")");r.getLengthInBits()+4<=8*l&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);while(1){if(r.getLengthInBits()>=8*l)break;if(r.put(n.PAD0,8),r.getLengthInBits()>=8*l)break;r.put(n.PAD1,8)}return n.createBytes(r,o)},n.createBytes=function(t,e){for(var i=0,n=0,o=0,r=new Array(e.length),a=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,d=e[c].totalCount-l;n=Math.max(n,l),o=Math.max(o,d),r[c]=new Array(l);for(var f=0;f<r[c].length;f++)r[c][f]=255&t.buffer[f+i];i+=l;var h=s.getErrorCorrectPolynomial(d),p=new u(r[c],h.getLength()-1),g=p.mod(h);a[c]=new Array(h.getLength()-1);for(f=0;f<a[c].length;f++){var v=f+g.getLength()-a[c].length;a[c][f]=v>=0?g.get(v):0}}var m=0;for(f=0;f<e.length;f++)m+=e[f].totalCount;var b=new Array(m),y=0;for(f=0;f<n;f++)for(c=0;c<e.length;c++)f<r[c].length&&(b[y++]=r[c][f]);for(f=0;f<o;f++)for(c=0;c<e.length;c++)f<a[c].length&&(b[y++]=a[c][f]);return b};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new u([1],0),i=0;i<t;i++)e=e.multiply(new u([1,c.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(n,o),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var c=-1;c<=1;c++)o+c<0||e<=o+c||0==s&&0==c||a==t.isDark(n+s,o+c)&&r++;r>5&&(i+=3+r-5)}for(n=0;n<e-1;n++)for(o=0;o<e-1;o++){var l=0;t.isDark(n,o)&&l++,t.isDark(n+1,o)&&l++,t.isDark(n,o+1)&&l++,t.isDark(n+1,o+1)&&l++,0!=l&&4!=l||(i+=3)}for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(i+=40);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(i+=40);var u=0;for(o=0;o<e;o++)for(n=0;n<e;n++)t.isDark(n,o)&&u++;var d=Math.abs(100*u/e/e-50)/5;return i+=10*d,i}},c={glog:function(t){if(t<1)throw new Error("glog("+t+")");return c.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)c.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)c.EXP_TABLE[l]=c.EXP_TABLE[l-4]^c.EXP_TABLE[l-5]^c.EXP_TABLE[l-6]^c.EXP_TABLE[l-8];for(l=0;l<255;l++)c.LOG_TABLE[c.EXP_TABLE[l]]=l;function u(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var i=0;while(i<t.length&&0==t[i])i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function d(t,e){this.totalCount=t,this.dataCount=e}function f(){this.buffer=new Array,this.length=0}function h(t){for(var e,i="",n=0;n<t.length;n++)e=t.charCodeAt(n),e>=1&&e<=127?i+=t.charAt(n):e>2047?(i+=String.fromCharCode(224|e>>12&15),i+=String.fromCharCode(128|e>>6&63),i+=String.fromCharCode(128|e>>0&63)):(i+=String.fromCharCode(192|e>>6&31),i+=String.fromCharCode(128|e>>0&63));return i}u.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=c.gexp(c.glog(this.get(i))+c.glog(t.get(n)));return new u(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=c.glog(this.get(0))-c.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=c.gexp(c.glog(t.get(n))+e);return new u(i,0).mod(t)}},d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],d.getRSBlocks=function(t,e){var i=d.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,o=new Array,r=0;r<n;r++)for(var a=i[3*r+0],s=i[3*r+1],c=i[3*r+2],l=0;l<a;l++)o.push(new d(s,c));return o},d.getRsBlockTable=function(t,e){switch(e){case r.L:return d.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return d.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return d.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return d.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},f.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},i={defaults:{size:258,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"png",correctLevel:3,typeNumber:-1},make:function(e){var i={canvasId:e.canvasId,componentInstance:e.componentInstance,text:e.text,size:this.defaults.size,margin:this.defaults.margin,backgroundColor:this.defaults.backgroundColor,foregroundColor:this.defaults.foregroundColor,fileType:this.defaults.fileType,correctLevel:this.defaults.correctLevel,typeNumber:this.defaults.typeNumber};if(e)for(var o in e)i[o]=e[o];function r(){var t=new n(e.typeNumber,e.correctLevel);t.addData(h(e.text)),t.make();var i=uni.createCanvasContext(e.canvasId,e.componentInstance);i.setFillStyle(e.backgroundColor),i.fillRect(0,0,e.size,e.size);for(var o=(e.size-2*e.margin)/t.getModuleCount(),r=o,a=0;a<t.getModuleCount();a++)for(var s=0;s<t.getModuleCount();s++){var c=t.isDark(a,s)?e.foregroundColor:e.backgroundColor;i.setFillStyle(c);var l=Math.round(s*o)+e.margin,u=Math.round(a*r)+e.margin,d=Math.ceil((s+1)*o)-Math.floor(s*o),f=Math.ceil((a+1)*o)-Math.floor(a*o);i.fillRect(l,u,d,f)}setTimeout((function(){i.draw(!1,(function(){setTimeout((function(){uni.canvasToTempFilePath({canvasId:e.canvasId,fileType:e.fileType,width:e.size,height:e.size,destWidth:e.size,destHeight:e.size,success:function(t){e.success&&e.success(t.tempFilePath)},fail:function(t){e.fail&&e.fail(t)},complete:function(t){e.complete&&e.complete(t)}},e.componentInstance)}),e.text.length+100)}))}),150)}e=i,e.canvasId?r():t.error("uQRCode: Please set canvasId!")}}})();var n=i;e.default=n}).call(this,i("5a52")["default"])},eb37:function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");var o={props:{end_time:{type:String},bg_color:{type:String,default:"#FF3C29"},color:{type:String,default:"#FF3C29"}},data:function(){return{countTime:[]}},mounted:function(){clearInterval(n),this.countTime=[],this.cutdownTime()},methods:{cutdownTime:function(){var t=this.end_time,e=new Date(Date.parse(t.replace(/-/g,"/"))).getTime();if(e-Date.now()>0){var i=e/1e3;this.startCount(i)}else this.countTime=["00","00","00","00"]},startCount:function(t){var e,i=this;e=this.$utils.countDown(t,!1),this.countTime=e||["00","00","00","00"],e?(n=setInterval((function(){e=i.$utils.countDown(t,!1),i.countTime=e||["00","00","00","00"],0==e&&(clearInterval(n),i.$emit("on-end"))}),1e3),this.$once("hook:beforeDestroy",(function(){clearInterval(n)}))):this.$emit("on-end")}}};e.default=o},eb73:function(t,e,i){(function(t){var n=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.eventHandler=g;var o=n(i("ade3"));i("6762"),i("2fdb"),i("96cf");var r=n(i("1da1")),a=n(i("4360")),s=i("eab7"),c=i("df39"),l=i("e089"),u=i("e9e5");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){return p.apply(this,arguments)}function p(){return p=(0,r.default)(regeneratorRuntime.mark((function e(i,n){var o,r,d,h,p,g,v,m,b,y,w,_,k,x,P,C,O,I,S,T,D,E,j,$,M,L,B;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:_=n.goodsData,k=n.goods_id,x=n.option_id,P=n.total,C=n.detailInfo,O=n.buy_num,I=n.goodDetail,S=n.activityInfo,n.is_origin,T=i.data,e.prev=2,e.t0=T.btn,e.next="like"===e.t0?6:"add"===e.t0?12:"tocart"===e.t0?27:"buy"===e.t0?29:"custom"===e.t0?50:"customer"===e.t0?52:54;break;case 6:return D=this.pageInfo["detail_navbar"]||{},e.next=9,this.$api.goodApi.changeFavor({goods_id:k,is_add:D.params.favor?0:1});case 9:return E=e.sent,0==E.error&&(D.params.favor||uni.showToast({title:"收藏成功",icon:"none"}),D.params.favor=!D.params.favor,this.$decorator.getPage(this.$Route).setPageInfo({detail_navbar:D},"detailNavBarHandler/eventHandler.js")),e.abrupt("break",54);case 12:return e.next=14,a.default.dispatch("login/checkLogin");case 14:if(e.sent){e.next=16;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 16:if(!(0,u.hasBindBySence)("add_cart")){e.next=18;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 18:return this.$store.commit("quickPurchase/setGoodDetail",C),this.$store.commit("quickPurchase/setOptionsInfo",null===(o=a.default.state)||void 0===o||null===(r=o.decorate)||void 0===r||null===(d=r.goodDetailPage)||void 0===d?void 0:d.optionsInfo),e.next=22,(0,l.tipBeforeOper)({goodsData:_,goods_id:k,option_id:x,total:P,type:T.btn,buy_num:O,activityInfo:S},!1);case 22:return e.next=24,l.addCart.call(this,{goods_id:k,goodDetail:I,option_id:x||0,total:P,activityInfo:S,buy_num:O,is_origin:L});case 24:return 1==this.goodsData.has_option&&(null===(h=this.$refs)||void 0===h||h.goodsPicker.toggle()),this.$decorator.getModule("diymenu").getCartNum(),e.abrupt("break",54);case 27:return this.$Router.auto({path:"/kdxCart/index"}),e.abrupt("break",54);case 29:return e.next=31,a.default.dispatch("login/checkLogin");case 31:if(e.sent){e.next=33;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 33:if(!(0,u.hasBindBySence)("buy")){e.next=35;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 35:return j=c.SINGLE_BUY_ACTIVE.includes(T.activeName),$=j?null===(p=a.default.state)||void 0===p||null===(g=p.decorate)||void 0===g||null===(v=g.goodDetailPage)||void 0===v?void 0:v.activeOptInfo:null===(m=a.default.state)||void 0===m||null===(b=m.decorate)||void 0===b||null===(y=b.goodDetailPage)||void 0===y?void 0:y.optionsInfo,this.$store.commit("quickPurchase/setGoodDetail",C),j&&"1"==T.is_join?($.is_join="1",$.team_id=T.team_id,T.activity_id&&($.activity_id=T.activity_id),T.ladder&&($.ladder=T.ladder)):delete $.is_join,this.$store.commit("quickPurchase/setOptionsInfo",$),M=(0,s.getActivityName)(this.activityInfo),L=c.SINGLE_BUY_ACTIVE.includes(M)&&!j,e.next=44,(0,l.tipBeforeOper)({goodsData:_,goods_id:k,option_id:x,total:P,type:T.btn,buy_num:O,activityInfo:S,is_origin:L});case 44:return t.log(this.goodsData),1==this.goodsData.has_option&&(null===(w=this.$refs)||void 0===w||w.goodsPicker.toggle()),B={goodDetail:I,goods_id:k,option_id:x,total:P,detailInfo:C,liverId:this.liverId,canBuy:this.canBuy,buy_num:O,activityInfo:S,is_origin:L},"groups"!=M||L||(B.extend_params=(0,l.handleGroupParams)($)),l.createOrder.call(this,f({},B)),e.abrupt("break",54);case 50:return"wx_service"!=T.url?this.$Router.auto(T.url,{wxappid:T.wxappid}):"wx_service"==T.url&&(a.default.state.shopWxCode?a.default.commit("changeWxCode",{status:!0}):a.default.dispatch("getWxCode").then((function(t){t&&a.default.commit("changeWxCode",{status:!0})}))),e.abrupt("break",54);case 52:return a.default.state.shopWxCode?a.default.commit("changeWxCode",{status:!0}):a.default.dispatch("getWxCode").then((function(t){t&&a.default.commit("changeWxCode",{status:!0})})),e.abrupt("break",54);case 54:e.next=60;break;case 56:e.prev=56,e.t1=e["catch"](2),t.log(e.t1,"eeeeeeeeeee"),"openPicker"==(null===e.t1||void 0===e.t1?void 0:e.t1.errorId)?this.$refs.goodsPicker.toggle(null,e.t1.type):null!==e.t1&&void 0!==e.t1&&e.t1.errorInfo&&uni.showToast({title:e.t1.errorInfo,icon:"none"});case 60:case"end":return e.stop()}}),e,this,[[2,56]])}))),p.apply(this,arguments)}function g(t,e){return v.apply(this,arguments)}function v(){return v=(0,r.default)(regeneratorRuntime.mark((function e(i,n){var o,r,s,d,f,p,g,v,m,b,y,w,_,k,x,P,C,O,I,S,T,D,E,j,$,M,L,B,A,R,z,N,G,U=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:P=n.goodsData,C=n.goods_id,O=n.option_id,I=n.total,S=n.detailInfo,T=n.activityInfo,D=n.goodDetail,E=n.is_origin,j=n.sub_shop_id,$=n.buy_num,e.prev=1,e.t0=i.target,e.next="detail_info/refresh"===e.t0?5:"goods/clickBuyBtn"===e.t0?7:"detail_spec/clickItem"===e.t0?11:"detail_sale/clickGroupsItem"===e.t0?32:"detail_navbar/clickItem"===e.t0?35:"detail_comment/checkMore"===e.t0?37:"detail_comment/previewImage"===e.t0?39:"detail_info/clickShare"===e.t0?42:"detail_info/viewReward"===e.t0?54:"detail_sale/clickItem"===e.t0?56:"detail_sale/clickGroups"===e.t0?71:"detail_swipe/clickImg"===e.t0?74:"detail_pullup/clickDetail"===e.t0?76:78;break;case 5:return"frontStop"==i.data?this.$decorator.getPage(this.$Route).setPageInfo({detail_navbar:{params:{is_buy_disable:!0}}},"goodDetail/eventHandler.js/eventHandler"):this.pullDownRefresh(),e.abrupt("break",78);case 7:return e.next=9,this.$store.dispatch("quickPurchase/checkLoginStatus");case 9:return this.cartAdder.getGoodDetail(null===i||void 0===i||null===(o=i.data)||void 0===o||null===(r=o.value)||void 0===r?void 0:r.gid,"godddDEtail/goods/clickBuyBtn").then((function(t){0===t.error&&U.cartAdder.callback({type:"toggle",data:{type:"spec"}})})),e.abrupt("break",78);case 11:return e.next=13,a.default.dispatch("login/checkLogin");case 13:if(e.sent){e.next=15;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 15:if(t.log((0,u.hasBindBySence)("buy"),'hasBindBySence("buy")'),!(0,u.hasBindBySence)("cart")&&!(0,u.hasBindBySence)("buy")){e.next=18;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 18:if(this.$store.commit("quickPurchase/setGoodDetail",S),M=c.SINGLE_BUY_ACTIVE.includes(i.data.params.activeName),L=M?null===(s=a.default.state)||void 0===s||null===(d=s.decorate)||void 0===d||null===(f=d.goodDetailPage)||void 0===f?void 0:f.activeOptInfo:null===(p=a.default.state)||void 0===p||null===(g=p.decorate)||void 0===g||null===(v=g.goodDetailPage)||void 0===v?void 0:v.optionsInfo,this.$store.commit("quickPurchase/setOptionsInfo",L),!M){e.next=30;break}return this.$store.commit("quickPurchase/setGoodDetail",S),e.next=26,l.tipBeforeOper.call(this,{goodsData:P,goods_id:C,option_id:O,total:I,type:"buy",activityInfo:T});case 26:1==this.goodsData.has_option&&(null===(B=this.$refs)||void 0===B||B.goodsPicker.toggle()),l.createOrder.call(this,{goods_id:C,option_id:O,total:I,goodDetail:D,detailInfo:S,is_origin:E}),e.next=31;break;case 30:1==this.goodsData.has_option&&(null===(A=this.$refs)||void 0===A||A.goodsPicker.toggle(null,"spec","cacheNum"));case 31:return e.abrupt("break",78);case 32:return this.$store.commit("groups/setGroupsTeamId",null),this.$Router.auto({path:"/kdxGoods/groups/detail",query:{team_id:i.data.item.id}}),e.abrupt("break",78);case 35:return h.call(this,i,{goodsData:P,goodDetail:this.goodDetail,goods_id:C,option_id:O,total:I,detailInfo:S,activityInfo:T,is_origin:E,sub_shop_id:j,buy_num:$}),e.abrupt("break",78);case 37:return 0!=i.total&&this.$Router.auto({path:"/kdxGoods/detail/allComments",query:{goods_id:C}}),e.abrupt("break",78);case 39:return R=i.data,z=R.index,N=R.urls,uni.previewImage({current:z,urls:N.map((function(t){return U.$utils.mediaUrl(t)}))}),e.abrupt("break",78);case 42:return e.next=44,a.default.dispatch("login/checkLogin");case 44:if(e.sent){e.next=48;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 48:if(!(0,u.hasBindBySence)("share")){e.next=52;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 52:this.showShare=!0;case 53:return e.abrupt("break",78);case 54:return this.showReward=!0,e.abrupt("break",78);case 56:if(this.type=i.data.type,G=null===(m=this.pageInfo.detail_sale)||void 0===m?void 0:m.data,G&&this.type&&(this.info=G.filter((function(t){return t.type==U.type}))[0]),"samecity"!=this.type){e.next=62;break}return this.$Router.auto("/kdxOrder/deliveryArea"),e.abrupt("return");case 62:if(e.t1="coupon"==i.data.type,!e.t1){e.next=67;break}return e.next=66,a.default.dispatch("login/checkLogin");case 66:e.t1=!e.sent;case 67:if(!e.t1){e.next=69;break}return e.abrupt("return",a.default.commit("login/setModal",!0));case 69:return this.show=!0,e.abrupt("break",78);case 71:return this.groupsInfo=i.data.info||{},this.groupShow=!0,e.abrupt("break",78);case 74:return"1"==(null===(b=a.default.state.setting)||void 0===b||null===(y=b.systemSetting)||void 0===y||null===(w=y.basic)||void 0===w?void 0:w.photo_preview)&&uni.previewImage({urls:i.data.items,current:i.data.index,indicator:"number"}),e.abrupt("break",78);case 76:return null===(_=a.default.state.setting)||void 0===_||null===(k=_.systemSetting)||void 0===k||null===(x=k.basic)||void 0===x||x.photo_preview,e.abrupt("break",78);case 78:e.next=83;break;case 80:e.prev=80,e.t2=e["catch"](1),"openPicker"==(null===e.t2||void 0===e.t2?void 0:e.t2.errorId)?this.$refs.goodsPicker.toggle(null,e.t2.type,"cacheNum"):null!==e.t2&&void 0!==e.t2&&e.t2.errorInfo&&uni.showToast({title:e.t2.errorInfo,icon:"none"});case 83:case"end":return e.stop()}}),e,this,[[1,80]])}))),v.apply(this,arguments)}}).call(this,i("5a52")["default"])},ec86:function(t,e,i){"use strict";i.r(e);var n=i("d32a"),o=i("9ae0");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=c.exports},ef0a:function(t,e,i){var n=i("8d33");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("49c2b4d4",n,!0,{sourceMap:!1,shadowMode:!1})},ef42:function(t,e,i){"use strict";var n=i("ef0a"),o=i.n(n);o.a},f12c:function(t,e,i){(function(t){var n=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5"),i("a481"),i("96cf");var o,r=n(i("1da1")),a=n(i("ade3")),s=n(i("76d4")),c=n(i("4222")),l=n(i("cfe0")),u=n(i("9126")),d=n(i("bc12")),f=n(i("b703")),h=i("eb73"),p=i("e089"),g=i("2f62"),v=n(i("5b806")),m=n(i("ec86"));function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){(0,a.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={components:{Goods:s.default,CutDown:c.default,ShareModal:u.default,goodsPicker:l.default,PosterModal:d.default,Subscribe:v.default,SubscribeGroup:m.default},data:function(){return{team_id:"",state:"",users:[],goods:{},groupsInfo:{},optionId:"",optionChoseNum:"1",optionChoose:"",goodsInfo:null,optionInfo:null,goodsData:{},goodDetail:{},activityInfo:{},canBuy:!1,showShare:!1,showMaterial:!1,showPoster:!1,posterData:{},loadedError:!1,isWxScan:!1,shareTemplateId:[],joinTemplateId:[],shareSubscribe:!0,joinSubscribe:!0,addSubscribe:!0,materialType:"share"}},computed:y(y(y(y({},(0,g.mapState)("setting",{shareBase:function(t){var e;return null===(e=t.systemSetting)||void 0===e?void 0:e.share}})),(0,g.mapState)("login",["isLogin"])),(0,g.mapState)("groups",{id:function(t){return t.groupsTeamId}})),{},{getSurplus:function(){var t=this.groupsInfo,e=t.count,i=void 0===e?0:e,n=t.success_num,o=void 0===n?0:n;return+o-+i},filterUsers:function(){return"1"==this.state&&5==this.users.length?this.users.slice(0,5):this.users.slice(0,4)},showSurplusIcon:function(){return this.users.length>5&&"1"!=this.state},surplusUserNum:function(){return this.users.length-4}}),watch:{isLogin:{handler:function(t){this.team_id&&t&&this.getInfo()},immediate:!0}},created:function(){var t=this;if(this.$utils.is_weixin()){var e,i=null===(e=this.$store.state.setting)||void 0===e?void 0:e.noticeTemId,n=["groups_success","groups_defeated","groups_join"],o=["groups_success","groups_defeated"];i&&n.length&&n.map((function(e){var n;i[e]&&(null===(n=t.shareTemplateId)||void 0===n||n.push(i[e]))})),i&&o.length&&o.map((function(e){var n;i[e]&&(null===(n=t.joinTemplateId)||void 0===n||n.push(i[e]))}))}},mounted:function(){var t=this.$Route.query.team_id;t&&(this.team_id=this.$Route.query.team_id),this.team_id&&this.getInfo(),this.initBuyPicker()},onShow:function(){uni.hideLoading(),this.team_id&&this.getInfo()},methods:y(y({},(0,g.mapMutations)("order",["setGroupsUser"])),{},{$_pullRefresh:function(){this.team_id&&this.getInfo()},initBuyPicker:function(){this.cartAdder=new f.default},getInfo:function(){var t=this;this.$api.orderApi.groupsOrder({team_id:this.team_id}).then((function(e){if(0==e.error){var i,n,o,r;t.loadedError=!1;var a=e.crew_list,s=e.goods,c=e.team_detail,l=e.activity;t.users=a,t.state=c.success,t.goods=s,t.team_id=c.id,"-1"!=l.status&&"-2"!=l.status||"0"==t.state||(c.end_time="0000-00-00 00:00:00"),t.groupsInfo=y(y({},c),l)||{},t.posterData={title:e.goods.title,thumb:e.goods.thumb,groups_price:"0"==(null===e||void 0===e||null===(i=e.team_detail)||void 0===i?void 0:i.is_ladder)&&"0"==e.goods.has_option?null===(n=e.goods)||void 0===n?void 0:n.activity_price:null===(o=e.goods)||void 0===o||null===(r=o.price_range)||void 0===r?void 0:r.min_price,original_price:e.goods.original_price,invite_url:e.team_detail.invite_url,team_id:t.team_id},t.$store.commit("groups/setGroupsPoster",t.posterData),t.setShareInfo(e)}else-10004===e.error&&(t.loadedError=!0,t.$toast(e.message,1e3))}))},joinGroups:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.goods.activity_stock){e.next=2;break}return e.abrupt("return");case 2:try{this.goodsInfo&&this.optionInfo?this.customEvent():this.getGoodsInfo()}catch(i){t.log(i)}case 3:case"end":return e.stop()}}),e,this)})));function i(){return e.apply(this,arguments)}return i}(),getGoodsInfo:function(){var t=this,e=this.goods.id;this.$api.goodApi.goodDetail({id:e,team_id:this.team_id,activity_type:"groups"}).then((function(e){if(0===e.error){var i;if(!e.activity.groups)return t.$toast("团无效"),void t.getInfo();t.goodsInfo=e,t.goodDetail=e.data.goods,t.buy_num=e.data.buy_num,t.canBuy="1"==e.perm.buy,t.activityInfo=null!==(i=null===e||void 0===e?void 0:e.activity)&&void 0!==i?i:null,t.$decorator.getPage(11).setGoodDetail(e),t.handleOption()}}))},handleOption:function(){var t="1"==this.goodDetail.has_option;if(t)this.getOptionsInfo(this.goods.id);else{var e={options:[],spec:[]};this.optionsInfo=e,this.$decorator.getPage(11).setActiveOptInfo(y(y({},e),{},{activeName:"groups"})),this.customEvent()}},getOptionsInfo:function(t){var e=this;this.$decorator.getPage(11).getActiveGoodsOption({goods_id:t,activeName:"groups",team_id:this.team_id}).then((function(t){0===t.error&&(e.optionInfo=t,e.customEvent())}))},customEvent:function(){var t={activeName:"groups",is_join:"1",team_id:this.team_id},e=this.groupsInfo,i=e.is_ladder,n=e.ladder,o=e.end_time,r=e.activity_id;"1"==i&&(t.ladder=n),r&&(t.activity_id=r);var a=new Date(Date.parse(o.replace(/-/g,"/"))).getTime();a-Date.now()>0&&"-1"==this.groupsInfo.status&&(t.activity_id=this.groupsInfo.activity_id);var s=this.goodsInfo,c=s.activity,l=s.data,u=l.goods,d=l.sub_shop_info,f=l.buy_num;h.eventHandler.call(this,{data:y({btn:"buy"},t),target:"detail_navbar/clickItem"},{goodsData:u,goods_id:this.goods.id,option_id:this.optionId,total:this.optionChoseNum,goodDetail:u,detailInfo:this.goodsInfo,activityInfo:c,sub_shop_id:null===d||void 0===d?void 0:d.id,buy_num:f})},clickBtn:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,i){var n,o,r,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.goodsInfo,o=n.activity,r=n.data,a=r.goods,s=r.sub_shop_info,r.buy_num,c=y({goodsData:a,goods_id:this.goods.id,option_id:this.optionId,total:this.optionChoseNum,goodDetail:a,detailInfo:this.goodsInfo,activityInfo:o,sub_shop_id:null===s||void 0===s?void 0:s.id,buy_num:this.buy_num,canBuy:"1"==this.goodsInfo.perm.buy},i),t.prev=2,t.next=5,(0,p.tipBeforeOper)(c,null===(l=this.$refs)||void 0===l||null===(u=l.goodsPicker)||void 0===u?void 0:u.show);case 5:if("buy"!=e){t.next=9;break}return t.next=8,p.createOrder.call(this,c);case 8:null===(d=this.$refs)||void 0===d||d.goodsPicker.toggle();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),"openPicker"==t.t0.errorId&&uni.showToast({title:t.t0.errorInfo,icon:"none"});case 14:case"end":return t.stop()}}),t,this,[[2,11]])})));function e(e,i){return t.apply(this,arguments)}return e}(),specPickerChoose:function(t,e,i){this.optionId=null===e||void 0===e?void 0:e.id,this.optionChoose=t},optionChangeNum:function(t){this.optionChoseNum=t},shareHandler:function(){this.showShare=!1,this.posterShow()},materialHandler:function(t){this.materialType=t,this.showShare=!1,this.showMaterial=!0},handleComplete:function(){this.showMaterial=!1},posterShow:function(){this.showPoster?this.$refs.poster&&this.$refs.poster.toggle((function(e){t.log("toggle",e)})):this.showPoster=!0},handleShare:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("1"==this.groupsInfo.is_leader){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$store.dispatch("login/checkLogin");case 4:if(t.sent){t.next=8;break}return t.abrupt("return",this.$store.commit("login/setModal",!0));case 8:this.showShare=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),finishGroup:function(){var t=this;clearInterval(o);var e=this.state;"0"===e&&(this.getInfo(),o=setInterval((function(){e===t.state?t.getInfo():clearInterval(o)}),1e3),this.$once("hook:beforeDestroy",(function(){clearInterval(o)})))},toAllUsers:function(){this.setGroupsUser({list:this.users,id:this.groupsInfo.leader_id}),this.$Router.push({path:"/kdxGoods/groups/user"})},toIndex:function(){this.$Router.auto({path:"/"})},toGoods:function(){this.$Router.auto({path:"/kdxGoods/detail/index",query:{goods_id:this.goods.id}})},toOrder:function(){this.$Router.auto({path:"/kdxOrder/detail",query:{order_id:this.groupsInfo.order_id}})},setShareInfo:function(t){if(this.$utils.is_weixin()){var e={description:"点我立即拼单".concat(t.goods.title)||!1,link:t.team_detail.invite_url,logo:this.$utils.mediaUrl(t.goods.thumb),sdkUrl:this.$app_isW7?location_href.split("#")[0]+"#"+location_href.split("#")[1]:window.location.href,title:t.goods.title||"拼团详情"};this.$utils.getShareInfo(e)}},success:function(t){"share"==t?(this.shareSubscribe=!1,this.handleShare()):"join"==t?(this.joinSubscribe=!1,this.joinGroups()):(this.addSubscribe=!1,this.handleShare())},error:function(t){"share"==t?(this.shareSubscribe=!1,this.handleShare()):"join"==t?(this.joinSubscribe=!1,this.joinGroups()):(this.addSubscribe=!1,this.handleShare())}})};e.default=w}).call(this,i("5a52")["default"])},f31b:function(t,e,i){"use strict";i.r(e);var n=i("39ec"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},f528:function(t,e,i){var n=i("4ea4");i("8e6e"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var o=n(i("ade3")),r=n(i("052a")),a=i("2f62"),s=(n(i("e8c6")),i("44ee1")),c=i("a28b");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{createPoster:r.default},props:{posterType:{type:String,default:""}},data:function(){return{loading:!0,show:!1,callback:null,info:null,url:"",copyLinkUrl:"",qrcodeSrc:"",painterData:{},imagePath:"",showPoster:""}},mounted:function(){this.$emit("mounted")},computed:u(u(u(u(u(u(u(u({},(0,a.mapState)("setting",{name:function(t){var e,i;return null===(e=t.systemSetting)||void 0===e||null===(i=e.basic)||void 0===i?void 0:i.name}})),(0,a.mapState)("decorate/goodDetailPage",{goods:function(t){var e,i,n;return null!==(e=null===(i=t.detailInfo)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.goods)&&void 0!==e?e:{}},posterUrl:function(t){var e;return null===(e=t.detailInfo)||void 0===e?void 0:e.poster_url},pageList:function(t){return t.pageList}})),(0,a.mapState)("groups",["groupPosterData"])),(0,a.mapState)("groupsRebate",{groupsRebatePosterData:function(t){return t.groupPosterData}})),(0,a.mapState)("groupsFission",{groupsFissionPosterData:function(t){return t.groupPosterData}})),(0,a.mapState)("posterData",["posterData"])),(0,a.mapState)("creditShop",["creditPosterData"])),{},{getSize:function(){return 4*uni.upx2px(120)}}),methods:{clear:function(){return this.url="",this},toggle:function(t){var e=this;this.show=!this.show,this.show&&(this.loading=!0,uni.showLoading({title:"海报生成中...",mask:!0}),this.$nextTick((function(){e.$refs.posterCreate&&e.$refs.posterCreate.create((function(t){e.url=t}))})),this.getUrl()),this.imagePath&&uni.hideLoading(),"function"==typeof t&&(this.callback=t),this.callback&&this.callback(this.show),this.$emit("toggle",this.show)},getUrl:function(){var t=this,e=this;"commission"==this.posterType?this.$api.commissionApi.getQrcode({}).then((function(i){0==i.error?(t.copyLinkUrl=i.url,t.$store.commit("setting/setAvatar",i.avatar),(0,s.getCommissionPoster)(i,e.getSize).then((function(i){t.setNumberToString(i),e.loading=!1,e.painterData=i})).catch((function(t){e.$toast("生成海报失败")}))):(uni.hideLoading(),e.$toast("生成海报失败"))})):"goods"==this.posterType?(0,s.getGoodsPosters)(this.goods.id,e.getSize).then((function(i){t.setNumberToString(i),e.loading=!1,e.painterData=i})).catch((function(t){e.$toast("生成海报失败")})):"follow"==this.posterType?(0,s.getFollowPosters)(e.getSize).then((function(i){t.setNumberToString(i),e.loading=!1,e.painterData=i})).catch((function(t){e.$toast("生成海报失败")})):"group"===this.posterType?(0,s.getGroupPoster)(this.groupPosterData.team_id).then((function(i){t.setNumberToString(i),e.loading=!1,e.painterData=i})).catch((function(t){e.$toast("生成海报失败")})):"creditGoods"==this.posterType&&getCreditGoodsPosters(this.creditPosterData.id,e.getSize).then((function(i){t.setNumberToString(i),e.loading=!1,e.painterData=i})).catch((function(t){e.$toast("生成海报失败")}))},copyLink:function(){var t=this;if("goods"==this.posterType)this.copyLinkUrl=this.posterUrl;else if("join"===this.posterType)this.copyLinkUrl="".concat(c.config.wap_url,"/kdxMerchant/join/index/index?invite_code=").concat(this.$store.state.login.userInfo.id);else if("group"===this.posterType){var e;this.copyLinkUrl=null===this||void 0===this||null===(e=this.groupPosterData)||void 0===e?void 0:e.invite_url}uni.setClipboardData({data:this.copyLinkUrl,success:function(){t.show=!1,t.$toast("复制成功")}})},download:function(){this.saveImage()},onImgOK:function(t){this.imagePath=t.detail.path,this.loading=!1,uni.hideLoading()},imgErr:function(t){uni.hideLoading(),uni.showModal({title:"提示",content:"生成海报失败",showCancel:!1})},saveImage:function(){var t=this;uni.authorize({scope:"scope.writePhotosAlbum",success:function(){uni.saveImageToPhotosAlbum({filePath:t.imagePath,success:function(){uni.showModal({title:"保存成功",content:"图片已成功保存到相册，快去分享到您的圈子吧",showCancel:!1})}})},fail:function(){uni.showToast({title:"无相册读写权限",icon:"none"})}})},setNumberToString:function(t){t.views.forEach((function(t){if("image"==t.type)for(var e in t.css)"number"===typeof t.css[e]&&(t.css[e]+="")}))}}};e.default=d},fd66:function(t,e,i){(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var o=i("325c");n(i("4360"));function r(t){return.936*t+"px"}function a(t){return 0==t.indexOf("http")&&(t=t.indexOf("?")>-1?t+"&t="+(new Date).getTime():t+"?t="+(new Date).getTime()),t}function s(t){var e=Math.round(t.style.height/((t.style.fontsize||12)*(t.style.lineheight||1.1)));return e=Math.max(e,1),e}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t.toLowerCase();var i=/^#([0-9|a-f]{3}|[0-9|a-f]{6})$/;if(t&&i.test(t)){4==t.length&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);for(var n=[],o=1;o<7;o+=2)n.push(parseInt("0x"+t.slice(o,o+2)));return n.push(e),"rgba("+n.join(",")+")"}return t}var l={poster_avatar:function(t,e){return{type:"image",url:a(t.params.imgurl?(0,o.mediaUrl)(t.params.imgurl):(0,o.staticMediaUrl)("decorate/avatar_square.png")),css:{width:r(t.style.width),height:r(t.style.height),background:t.style.bgcolor,top:r(t.style.top),left:r(t.style.left),borderRadius:0==t.params.borderradius?r(t.style.width):0,borderWidth:1==t.params.bordershow?r(t.style.borderwidth||1):0,borderColor:t.style.bordercolor,mode:"scaleToFill"}}},poster_bgimg:function(t,e){return 0==t.params.bgtype?{type:"rect",css:{width:r(750),height:r(1334),background:t.style.bgcolor,top:"0",left:"0",rotate:"0",shadow:"",color:t.style.bgcolor,borderRadius:"0"}}:{type:"image",url:a(t.params.imgurl?(0,o.mediaUrl)(t.params.imgurl):(0,o.staticMediaUrl)("decorate/page_bg_img.png")),css:{width:r(750),height:r(1334),top:"0",left:"0",mode:"scaleToFill"}}},poster_delprice:function(t,e){return parseFloat(t.params.content)?{type:"text",text:"￥"+t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:"0",lineHeight:r(t.style.fontsize*(t.style.lineheight||1)),maxLines:1,textDecoration:"line-through"}}:[]},poster_exptime:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left",maxLines:1}}},poster_goodimg:function(t,e){return{type:"image",url:a(t.params.imgurl?(0,o.mediaUrl)(t.params.imgurl):(0,o.staticMediaUrl)("decorate/page_bg_img.png")),css:{width:r(t.style.width),height:r(t.style.height),top:r(t.style.top),left:r(t.style.left),borderRadius:0==t.params.borderradius?r(12):0,borderWidth:1==t.params.bordershow?r(t.style.borderwidth):0,borderColor:t.style.bordercolor,mode:"scaleToFill"}}},poster_goodname:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left",maxLines:s(t)}}},poster_nickname:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left",maxLines:s(t)}}},poster_price:function(t,e){var i,n,o;return{type:"text",text:null!==(i=t.params)&&void 0!==i&&i.buy_button_status?"  "+(null===(n=t.params)||void 0===n||null===(o=n.buy_button_settings)||void 0===o?void 0:o.price_text):"￥"+t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1)),textAlign:t.style.textalign||"left",maxLines:1}}},poster_sellprice:function(t,e){var i,n,o;return{type:"text",text:null!==(i=t.params)&&void 0!==i&&i.buy_button_status?"  "+(null===(n=t.params)||void 0===n||null===(o=n.buy_button_settings)||void 0===o?void 0:o.price_text):"￥"+t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1)),textAlign:t.style.textalign||"left",maxLines:1}}},poster_img:function(t,e){return{type:"image",url:a(t.params.imgurl?(0,o.mediaUrl)(t.params.imgurl):(0,o.staticMediaUrl)("decorate/page_bg_img.png")),css:{width:r(t.style.width),height:r(t.style.height),top:r(t.style.top),left:r(t.style.left),borderRadius:0==t.style.borderradius?r(12):0,borderWidth:1==t.params.bordershow?r(t.style.borderwidth):0,borderColor:t.style.bordercolor,mode:t.style.mode?t.style.mode:"scaleToFill"}}},poster_qrcode:function(e,i){var n={};try{n={type:"image",url:a((0,o.mediaUrl)(e.params.imgurl)),css:{width:r(e.style.width),height:r(e.style.height),top:r(e.style.top),left:r(e.style.left),borderRadius:0==e.params.borderradius?r(12):0,borderWidth:1==e.params.bordershow?r(e.style.borderwidth):0,borderColor:e.style.bordercolor,mode:"scaleToFill"}}}catch(s){t.log(s,">><><")}return n},poster_commission:function(t,e){return 0==t.params.commission?[]:[{type:"text",text:" ",css:{width:r(t.style.width),height:r(t.style.height),top:r(t.style.top),left:r(t.style.left),borderRadius:r(t.style.borderradius),borderWidth:"0",borderColor:c(t.style.bgcolor,t.style.opacity),mode:"scaleToFill",textAlign:"center",lineHeight:r(t.style.height),fontSize:r(t.style.fontsize),color:t.style.color,background:c(t.style.bgcolor,t.style.opacity),fontWeight:t.style.fontweight>400?"bold":"normal"}},{type:"text",text:"预计佣金 ￥"+t.params.commission,css:{width:r(t.style.width),height:r(t.style.height),top:r(1*t.style.top+(t.style.height-t.style.fontsize)/2.2),left:r(t.style.left),borderRadius:r(t.style.borderradius),borderWidth:"0",borderColor:c(t.style.bgcolor,t.style.opacity),mode:"scaleToFill",textAlign:"center",lineHeight:r(t.style.fontsize),fontSize:r(t.style.fontsize),color:t.style.color,background:c(t.style.bgcolor,t.style.opacity),fontWeight:t.style.fontweight>400?"bold":"normal"}}]},poster_shoplogo:function(t,e){var i={width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),borderRadius:t.style.borderRadius?r(t.style.borderRadius):0,mode:t.style.mode?t.style.mode:"auto",borderWidth:1==t.params.bordershow?r(t.style.borderwidth):0,borderColor:t.style.bordercolor||""};return 1==t.params.imgscaletype&&(i.height=r(t.style.height)),{type:"image",url:a(t.params.imgurl?(0,o.mediaUrl)(t.params.imgurl):(0,o.staticMediaUrl)("decorate/page_bg_img.png")),css:i}},poster_shopname:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"center",maxLines:s(t)}}},poster_text:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left"}}},poster_articletitle:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left"}}},poster_articledigest:function(t,e){return{type:"text",text:t.params.content,css:{color:t.style.color,background:"rgba(0,0,0,0)",width:r(t.style.width),top:r(t.style.top),left:r(t.style.left),fontSize:r(t.style.fontsize),fontWeight:t.style.fontweight>400?"bold":"normal",borderRadius:0,lineHeight:r(t.style.fontsize*(t.style.lineheight||1.4)),textAlign:t.style.textalign||"left"}}}};function u(t){for(var e=[],i=null,n=null,a=0;a<t.length;a++)n=t[a],i=l[n.id](n,a),Array.isArray(i)?e=e.concat(i):e.push(i);return e=(0,o.deepCopy)(e),{width:r(750),height:r(1334),borderRadius:r(18),views:e}}}).call(this,i("5a52")["default"])},fe82:function(t,e,i){"use strict";i.r(e);var n=i("f12c"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a}}]);