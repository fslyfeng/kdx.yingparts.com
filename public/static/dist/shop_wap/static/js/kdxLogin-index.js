(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{1839:function(e,t,n){"use strict";n.r(t);var r=n("fb1a"),o=n("c04c");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("3a74");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"6ef2668a",null,!1,r["a"],a);t["default"]=s.exports},"18fe":function(e,t,n){var r=n("9ca2");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("63bc0cdf",r,!0,{sourceMap:!1,shadowMode:!1})},"1ed9":function(e,t,n){var r=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("ade3")),i=n("2f62"),a=r(n("3d27")),c=r(n("750f")),s=r(n("4e19")),u=r(n("a64f"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={mixins:[u.default],components:{LoginBox:a.default,LoginPass:c.default,LoginCode:s.default},data:function(){return{type:"2"}},computed:l({},(0,i.mapState)("setting",{h5_login_method:function(e){var t,n;return null===(t=e.systemSetting)||void 0===t||null===(n=t.registry_settings)||void 0===n?void 0:n.h5_login_method}})),watch:{h5_login_method:{handler:function(e){this.type=this.h5_login_method||"0"},immediate:!0}},methods:{switchHandler:function(e){this.type=e}}};t.default=f},"350b":function(e,t,n){var r=n("f6de");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("bf1cd6a4",r,!0,{sourceMap:!1,shadowMode:!1})},"3a74":function(e,t,n){"use strict";var r=n("e5e2"),o=n.n(r);o.a},"4e19":function(e,t,n){"use strict";n.r(t);var r=n("8a0d"),o=n("5748d");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("c29f");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"326bd3ec",null,!1,r["a"],a);t["default"]=s.exports},"5748d":function(e,t,n){"use strict";n.r(t);var r=n("d113"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"63dd":function(e,t,n){"use strict";n.r(t);var r=n("bcd8"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"750f":function(e,t,n){"use strict";n.r(t);var r=n("ace1"),o=n("63dd");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("a0fa");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"5345617f",null,!1,r["a"],a);t["default"]=s.exports},"8a0d":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login-code"},[n("login-input",{attrs:{type:"number",placeholder:"请输入手机号","error-text":e.errStatus.mobile,maxlength:"11",clearable:!0},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)}},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}}),n("login-input",{attrs:{placeholder:"请输入图形验证码",required:!0,maxlength:4,"error-text":e.errStatus.verify_code},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"verify_code",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"verify_code",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("vcode-img-btn",{ref:"imgCode"})]},proxy:!0}]),model:{value:e.model.verify_code,callback:function(t){e.$set(e.model,"verify_code",t)},expression:"model.verify_code"}}),n("login-input",{attrs:{type:"number",maxlength:6,"error-text":e.errStatus.code,placeholder:"请输入短信验证码","confirm-type":"go"},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"code",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"code",t)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmHandler.apply(void 0,arguments)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("vcode-btn",{ref:"code",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSms.apply(void 0,arguments)}}})]},proxy:!0}]),model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}}),n("long-btn",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitData.apply(void 0,arguments)}}},[e._v("登录")]),n("v-uni-view",{staticClass:"login-foot",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchPass.apply(void 0,arguments)}}},[e._v("账号密码登录")])],1)},i=[]},"915a7":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-6ef2668a] .grace-page-body{background-color:#fff}[data-v-6ef2668a] .login-code .my-long-button{margin:%?96?% auto 0;width:%?590?%}[data-v-6ef2668a] .login-pass .my-long-button{margin:0 auto;width:%?590?%}',""]),e.exports=t},"9ca2":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.forget-pas[data-v-5345617f]{margin:%?16?% 0 %?46?%;font-size:%?24?%;text-align:right;line-height:%?34?%;color:#518def}.login-foot[data-v-5345617f]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?16?%;font-size:%?24?%;line-height:%?34?%;color:#969696}',""]),e.exports=t},a0fa:function(e,t,n){"use strict";var r=n("18fe"),o=n.n(r);o.a},ace1:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login-pass"},[n("login-input",{attrs:{type:"number",placeholder:"请输入手机号","error-text":e.errStatus.mobile,maxlength:"11",clearable:!0},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"mobile",t)}},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}}),n("login-input",{attrs:{"error-text":e.errStatus.password,type:"password",placeholder:"请输入密码","confirm-type":"go",password:!0,clearable:!0},on:{"update:errorText":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"password",t)},"update:error-text":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.errStatus,"password",t)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmHandler.apply(void 0,arguments)}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),n("v-uni-view",{staticClass:"forget-pas",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toForget.apply(void 0,arguments)}}},[e._v("忘记密码?")]),n("btn",{attrs:{size:"middle",classNames:"theme-primary-bgcolor"},on:{"btn-click":function(t){arguments[0]=t=e.$handleEvent(t),e.toLogin.apply(void 0,arguments)}}},[e._v("登录")]),n("v-uni-view",{staticClass:"flex login-foot"},[n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchCode.apply(void 0,arguments)}}},[e._v("短信验证码登录")]),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toRegister.apply(void 0,arguments)}}},[e._v("注册账号")])],1)],1)},i=[]},bcd8:function(e,t,n){var r=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var o=r(n("1da1")),i=r(n("ade3")),a=r(n("6e88")),c=r(n("1498")),s=n("2f62"),u=n("e822");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={components:{LongBtn:c.default,LoginInput:a.default},data:function(){return{model:{mobile:"",password:""},rules:{mobile:[{validator:u.validMobile}],password:[{required:!0,message:"密码不能为空"}]},errStatus:{}}},methods:l(l({},(0,s.mapMutations)("login",["setLogin","setModal","setBind"])),{},{toRegister:function(){this.$Router.auto("/kdxLogin/register")},switchCode:function(){this.$emit("switch","1")},toForget:function(){this.$Router.auto("/kdxLogin/forget")},toLogin:function(){var e=this;(0,u.validate)(this.rules,this.model,(function(t){t?e.errStatus=l({},t):e.$api.loginApi.getLogin(l(l({},e.model),{},{type:"wap"})).then(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==n.error){t.next=8;break}return e.setLogin(!0),e.setBind(!0),t.next=5,e.$api.memberApi.getUserInfo().then((function(t){e.$store.commit("login/setUserInfo",t.data)}));case 5:getCurrentPages().length>1?e.$Router.back(1):e.$Router.auto({path:"/"}),t.next=9;break;case 8:e.$toast(n.message);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},confirmHandler:function(){this.model.mobile&&this.model.password&&(this.toLogin(),uni.hideKeyboard())}})};t.default=f},c04c:function(e,t,n){"use strict";n.r(t);var r=n("1ed9"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},c29f:function(e,t,n){"use strict";var r=n("350b"),o=n.n(r);o.a},d113:function(e,t,n){var r=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var o=r(n("1da1")),i=r(n("ade3")),a=r(n("1498")),c=r(n("e246")),s=r(n("71c5")),u=r(n("6e88")),d=n("2f62"),l=n("e822");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={components:{LongBtn:a.default,VcodeBtn:c.default,LoginInput:u.default,VcodeImgBtn:s.default},data:function(){return{model:{mobile:"",code:"",verify_code:""},rules:{mobile:[{validator:l.validMobile}],code:[{validator:l.validCode}],verify_code:[{validator:l.validVerify}]},errStatus:{}}},methods:p(p({},(0,d.mapMutations)("login",["setLogin","setBind"])),{},{switchPass:function(){this.$emit("switch","0")},sendSms:function(){var e=this;(0,l.validate)(this.rules,this.model,(function(t){t&&(t.mobile||t.verify_code)?e.errStatus={mobile:t.mobile,verify_code:t.verify_code}:e.$api.loginApi.sendSms({mobile:e.model.mobile,verify_code:e.model.verify_code,type:"login_code"}).then((function(t){0===t.error?(e.$refs.code.start(),uni.showToast({title:"发送成功",icon:"none"})):(e.$refs.imgCode.refresh(),e.$toast(t.message))}))}))},submitData:function(){var e=this;(0,l.validate)(this.rules,this.model,(function(t){t?e.errStatus=p({},t):e.$api.loginApi.loginByCode(e.model).then(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==n.error){t.next=9;break}return e.setLogin(!0),e.setBind(!0),e.$api.signInApi.getSignInfo({uid:e.$store.state.login.userInfo.id||""},{errorToast:!1}).then((function(t){0===t.error&&e.$store.commit("setting/signModelShow",!0)})),t.next=6,e.$api.memberApi.getUserInfo().then((function(t){e.$store.commit("login/setUserInfo",t.data)}));case 6:getCurrentPages().length>1?e.$Router.back(1):e.$Router.auto({path:"/"}),t.next=11;break;case 9:e.$refs.imgCode.refresh(),e.$toast(n.message);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},confirmHandler:function(){this.model.mobile&&this.model.code&&this.model.verify_code&&(this.submitData(),uni.hideKeyboard())}})};t.default=g},e5e2:function(e,t,n){var r=n("915a7");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("0281b1db",r,!0,{sourceMap:!1,shadowMode:!1})},f6de:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 开店星新零售管理系统\r\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\r\n * @author 青岛开店星信息技术有限公司\r\n * @link https://www.kaidianxing.com\r\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\r\n * @copyright 版权归青岛开店星信息技术有限公司所有\r\n * @warning Unauthorized deletion of copyright information is prohibited.\r\n * @warning 未经许可禁止私自删除版权信息\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.login-code .login-foot[data-v-326bd3ec]{margin-top:%?16?%;font-size:%?24?%;text-align:center;line-height:%?34?%;color:#969696}',""]),e.exports=t},fb1a:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("login-box",["0"==e.type?n("login-pass",{on:{switch:function(t){arguments[0]=t=e.$handleEvent(t),e.switchHandler.apply(void 0,arguments)}}}):"1"==e.type?n("login-code",{on:{switch:function(t){arguments[0]=t=e.$handleEvent(t),e.switchHandler.apply(void 0,arguments)}}}):e._e()],1)},i=[]}}]);